(()=>{"use strict";var e={n:t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return e.d(s,{a:s}),s},d:(t,s)=>{for(var i in s)e.o(s,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:s[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=Phaser;var s=e.n(t);class i extends s().Scene{constructor(){super("MenuScene")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("Logo","imagenes/Logo.png"),this.load.image("ConexionPerdida","imagenes/ConexionPerdidaCW.png"),this.load.image("BTNPlayer","imagenes/LocalBtnCW.png"),this.load.image("BTNCredit","imagenes/CreditosCW.png"),this.load.image("BTNOnline","imagenes/OnlineBtnCW.png"),this.load.image("BTNMenu","imagenes/MenuCW.png"),this.load.image("BTNTutorial","imagenes/TutorialCW.png"),this.load.image("BTNOpciones","imagenes/OpcionesCW.png"),this.load.image("BTNCancel","imagenes/CancelCW.png"),this.load.audio("musica_menu","audio/musica.mp3"),this.load.audio("sfx","audio/menusfx.mp3"),this.load.image("Velocidad","imagenes/VelocidadCW.png"),this.load.image("Escudo","imagenes/EscudoCW.png"),this.load.image("NoFuegoAmigo","imagenes/NoFuegoAmigoCW.png"),this.load.audio("musica_game","audio/musicab.mp3"),this.load.audio("sfx_game","audio/disparo.mp3"),this.load.audio("sfx_rebote","audio/rebote.mp3"),this.load.audio("sfx_powerup","audio/powerupsfx.mp3")}create(){const e=this.sound.get("musica_game");e?.stop();let t=this.sound.get("musica_menu");t||(t=this.sound.add("musica_menu",{loop:!0,volume:.4})),t.isPlaying||t.play(),this.add.image(400,300,"Fondo"),this.add.image(400,180,"Logo").setOrigin(.5).setScale(1.1);const s=this.add.image(160,400,"BTNPlayer").setOrigin(.5).setInteractive({useHandCursor:!0});s.setScale(.19).on("pointerover",()=>{s.setScale(.2)}).on("pointerout",()=>{s.setScale(.19)}).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("SelectColor")});const i=this.add.image(620,400,"BTNOnline").setOrigin(.5).setInteractive({useHandCursor:!0});i.setScale(.19).on("pointerover",()=>{i.setScale(.2)}).on("pointerout",()=>{i.setScale(.19)}).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("OnlineScene")});const a=this.add.image(160,517,"BTNTutorial").setOrigin(.5).setScale(.3).setInteractive({useHandCursor:!0}).on("pointerover",()=>{a.setScale(.33)}).on("pointerout",()=>{a.setScale(.3)}).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("TutorialScene")}),o=this.add.image(620,510,"BTNCredit").setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{o.setScale(1.1)}).on("pointerout",()=>{o.setScale(1)}).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("CreditScene")}),n=this.add.image(400,460,"BTNOpciones").setOrigin(.5).setInteractive({useHandCursor:!0});n.setScale(.19).on("pointerover",()=>{n.setScale(.2)}).on("pointerout",()=>{n.setScale(.19)}).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("OptionsScene")})}}class a extends s().Scene{constructor(){super("SelectColor")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("BaseRed","imagenes/TanqueRojoCW.png"),this.load.image("TorretaRed","imagenes/CanonRojoCW.png"),this.load.image("BaseGreen","imagenes/TanqueVerdeCW.png"),this.load.image("TorretaGreen","imagenes/CanonVerdeCW.png"),this.load.image("BaseBlue","imagenes/TanqueAzulCW.png"),this.load.image("TorretaBlue","imagenes/CanonAzulCW.png"),this.load.image("BaseYellow","imagenes/TanqueAmarilloCW.png"),this.load.image("TorretaYellow","imagenes/CanonAmarilloCW.png"),this.load.image("Play","imagenes/PLAYCW.png"),this.load.image("BTNMenu","imagenes/MenuCW.png"),this.load.image("P","imagenes/Pcw.png"),this.load.image("1","imagenes/1CW.png"),this.load.image("2","imagenes/2CW.png"),this.load.image("Bubble","imagenes/BurbujaCW.png"),this.load.image("Elige","imagenes/EligeColorCW.png"),this.load.audio("sfx","audio/menusfx.mp3")}create(){this.add.image(400,300,"Fondo"),this.add.image(400,50,"Elige").setOrigin(.5).setScale(.4),this.colorPlayer1=null,this.colorPlayer2=null,this.add.image(190,120,"P").setOrigin(.5).setScale(.25),this.add.image(240,122,"1").setOrigin(.5).setScale(.25),this.add.image(590,120,"P").setOrigin(.5).setScale(.25),this.add.image(640,120,"2").setOrigin(.5).setScale(.25),this.p1Options=[],this.p2Options=[];const e=(e,t,s,i)=>{const a=this.add.image(0,0,`Base${s}`).setScale(1.2).setDepth(10),o=this.add.image(0,0,`Torreta${s}`).setScale(1.2).setOrigin(.2,.5).setDepth(15),n=this.add.image(0,0,"Bubble").setScale(1.6).setDepth(40);n.setVisible(!1);const r=this.add.container(e,t,[a,o,n]);return r.setSize(1.2*a.width,1.2*a.height),r.setInteractive({useHandCursor:!0}),r.setData("colorKey",s),r.setData("selected",!1),r.setData("disabled",!1),r.setData("highlight",n),r.on("pointerover",()=>{r.setScale(1.3)}),r.on("pointerout",()=>{r.setScale(1)}),r.on("pointerup",()=>{r.getData("disabled")||i(s,r)}),r},t=["Red","Blue","Green","Yellow"];t.forEach((t,s)=>{const i=e(200,180+100*s,t,(e,t)=>{this.colorPlayer1=e,this.markSelected(this.p1Options,t),this.updateDisabledStates()});this.p1Options.push(i)}),t.forEach((t,s)=>{const i=e(600,180+100*s,t,(e,t)=>{this.colorPlayer2=e,this.markSelected(this.p2Options,t),this.updateDisabledStates()});this.p2Options.push(i)});const s=this.add.image(400,320,"Play").setOrigin(.5).setInteractive({useHandCursor:!0});s.setScale(.3).on("pointerover",()=>{s.setScale(.33)}).on("pointerout",()=>{s.setScale(.3)}),s.on("pointerup",()=>{this.colorPlayer1&&this.colorPlayer2&&this.colorPlayer1!==this.colorPlayer2&&(this.sound.play("sfx",{volume:.5}),this.scene.start("GameScene",{colorPlayer1:this.colorPlayer1,colorPlayer2:this.colorPlayer2}))});const i=this.add.image(400,525,"BTNMenu").setOrigin(.5).setScale(.3).setInteractive({useHandCursor:!0}).on("pointerover",()=>i.setScale(.35)).on("pointerout",()=>i.setScale(.3)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("MenuScene")})}markSelected(e,t){e.forEach(e=>{e.setData("selected",!1),e.getData("highlight").setVisible(!1)}),t.setData("selected",!0),t.getData("highlight").setVisible(!0)}updateDisabledStates(){this.p1Options.forEach(e=>{const t=e.getData("colorKey"),s=this.colorPlayer2&&t===this.colorPlayer2;this.setOptionDisabled(e,s)}),this.p2Options.forEach(e=>{const t=e.getData("colorKey"),s=this.colorPlayer1&&t===this.colorPlayer1;this.setOptionDisabled(e,s)})}setOptionDisabled(e,t){e.setData("disabled",t),t?(e.disableInteractive(),e.setAlpha(.3),e.setData("selected",!1),e.getData("highlight").setVisible(!1)):(e.setInteractive({useHandCursor:!0}),e.setAlpha(1))}}class o{constructor(e,t,s,i,a,o){this.scene=e,this.x=t,this.y=s,this.color=o,this.myTurret=i,this.dir=a,this.baseSpeed=200,this.speedMult=1,this.canCollide=!0,this.bounces=3,this.canDamage=!1,setTimeout(()=>{this.canDamage=!0},200),"Red"===this.color&&(this.sprite=this.scene.physics.add.sprite(t,s,"BalaRed")),"Green"===this.color&&(this.sprite=this.scene.physics.add.sprite(t,s,"BalaGreen")),"Blue"===this.color&&(this.sprite=this.scene.physics.add.sprite(t,s,"BalaBlue")),"Yellow"===this.color&&(this.sprite=this.scene.physics.add.sprite(t,s,"BalaYellow")),this.sprite.body.allowGravity=!1,this.sprite.setCollideWorldBounds(!0),this.sprite.setSize(20,15),this.sprite.setBounce(.8),this.sprite.rotation=this.dir,this.sprite.setDepth(5),this.setDir(),this.scene.events.on("update",this.update,this),this.createCollisions()}setDir(){this.sprite.setVelocity(Math.cos(this.dir)*this.baseSpeed*this.speedMult,Math.sin(this.dir)*this.baseSpeed*this.speedMult)}update(){if(this.sprite.body){const e=this.sprite.body.velocity.x,t=this.sprite.body.velocity.y;this.sprite.rotation=Math.atan2(t,e)}}destroy(){this.scene.sound.play("sfx_rebote",{volume:.5}),this.bounces-=1,this.bounces<1&&this.destroyBullet()}destroyBullet(){this.scene.events.off("update",this.update,this),this.sprite.destroy()}createCollisions(){this.scene.physics.add.collider(this.scene.left,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.right,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.top,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.bottom,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.block1,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.block2,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.centro1,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.centro2,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.centro3,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.palo1,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.palo2,this.sprite,()=>{this.destroy()}),this.scene.players.forEach(e=>{this.scene.physics.add.collider(this.sprite,e.sprite,()=>{this.canDamage&&(e.receiveDamage(1),this.destroyBullet())})})}}class n{constructor(e,t,i,a,o){this.myTank=t,this.scene=e,this.x=i,this.y=a,this.angle=i>400?Math.PI:0,this.color=o,this.target=null,this.rotateSpeed=s().Math.DegToRad(1),this.canShoot=!1,this.perfectAngle=i>400?Math.PI:0,this.leftAngle=75,this.rightAngle=105,"Red"===this.color&&(this.sprite=this.scene.physics.add.sprite(i,a,"TorretaRed"),this.sprite.setOrigin(.15,.5)),"Green"===this.color&&(this.sprite=this.scene.physics.add.sprite(i,a,"TorretaGreen"),this.sprite.setOrigin(.2,.5)),"Blue"===this.color&&(this.sprite=this.scene.physics.add.sprite(i,a,"TorretaBlue"),this.sprite.setOrigin(.15,.5)),"Yellow"===this.color&&(this.sprite=this.scene.physics.add.sprite(i,a,"TorretaYellow"),this.sprite.setOrigin(.2,.5)),this.sprite.body.allowGravity=!1,this.SetPosition=(e,t)=>{this.sprite.x=e,this.sprite.y=t},this.sprite.setDepth(10),this.powerUpBullet=null,this.sprite.rotation=this.angle,this.fireEvent=null}rotate(){this.aim(),this.angle=this.perfectAngle,this.sprite.rotation=this.angle}fire(){this.myTank.canShoot&&null===this.powerUpBullet&&this.canShoot&&(new o(this.scene,this.myTank.GetX(),this.myTank.GetY(),this,this.sprite.rotation,this.color),this.scene.sound.play("sfx_game",{volume:.3}))}shoot(e){this.canShoot=e,this.startAutoFire()}setTarget(e){this.target=e}aim(){if(!this.target)return;const e=this.target.GetX()-this.sprite.x,t=this.target.GetY()-this.sprite.y;this.perfectAngle=Math.atan2(t,e),this.leftAngle=this.perfectAngle+s().Math.DegToRad(30),this.rightAngle=this.perfectAngle-s().Math.DegToRad(30)}startAutoFire(){this.fireEvent||(this.fireEvent=this.scene.time.addEvent({delay:1e3,callback:()=>this.fire(),loop:!0}))}destroy(){this.fireEvent&&this.fireEvent.remove(!1),this.sprite.destroy(),this.target=null,this.myTank=null}setalpha(e){this.sprite.setAlpha(e)}}class r{constructor(e,t,s,i,a){this.id=t,this.scene=e,this.dirX=0,this.dirY=0,this.baseSpeed=120,this.speedMultiplier=1,this.x=s,this.y=i,this.color=a,this.target=null,this.vidas=5,this.invulnerable=!1,this.canShoot=!0,this.noShootUntil=0,"Red"===this.color&&(this.sprite=this.scene.physics.add.sprite(s,i,"BaseRed"),this.sprite.setSize(40,35)),"Green"===this.color&&(this.sprite=this.scene.physics.add.sprite(s,i,"BaseGreen"),this.sprite.setSize(42,35)),"Blue"===this.color&&(this.sprite=this.scene.physics.add.sprite(s,i,"BaseBlue"),this.sprite.setSize(45,35)),"Yellow"===this.color&&(this.sprite=this.scene.physics.add.sprite(s,i,"BaseYellow"),this.sprite.setSize(45,35)),this.sprite.setCollideWorldBounds(!0),this.sprite.body.allowGravity=!1,this.sprite.setDepth(8),this.turret=new n(e,this,s,i,this.color),this.GetX=()=>this.sprite.x,this.GetY=()=>this.sprite.y}SetTarget(e){this.target=e,this.turret.setTarget(this.target)}receiveDamage(e){this.invulnerable||(this.vidas-=e,this.scene.actualizarVidas(this.id,this.vidas),this.vidas<=0?this.destroy():this.makeInvulnerable())}makeInvulnerable(){this.invulnerable=!0;let e=0;this.scene.time.addEvent({delay:200,repeat:5,callback:()=>{this.sprite.setAlpha(1===this.sprite.alpha?.3:1),this.turret.setalpha(1===this.turret.sprite.alpha?.3:1),e++,e>=5&&(this.sprite.setAlpha(1),this.turret.setalpha(1),this.invulnerable=!1)}})}applyNoShoot(e){const t=this.scene.time.now;this.noShootUntil=Math.max(this.noShootUntil,t+e),this.canShoot=!1,this.scene.time.delayedCall(e,()=>{this.scene.time.now>=this.noShootUntil&&(this.canShoot=!0)})}destroy(){this.sprite.destroy(),this.turret.destroy()}}class l{constructor(e,t,s,i,a){this.scene=e,this.generator=a,this.x=t,this.y=s,this.type=i,"Heal"===i&&(this.sprite=this.scene.physics.add.sprite(t,s,"Vida").setScale(.05)),"Speed"===i&&(this.sprite=this.scene.physics.add.sprite(t,s,"Velocidad").setScale(1.1)),"Shield"===i&&(this.sprite=this.scene.physics.add.sprite(t,s,"Escudo").setScale(1.1)),"NoShoot"===i&&(this.sprite=this.scene.physics.add.sprite(t,s,"NoFuegoAmigo").setScale(1.1)),this.sprite.setDepth(1),this.createCollistions(),this.scene.powerUpsGroup.add(this.sprite)}aplyPowerUp(e,t){switch(this.scene.sound.play("sfx_powerup",{volume:.7}),this.scene.usePowerUps=!0,t){case"Heal":e.vidas<5&&(e.vidas+=1,this.scene.actualizarVidas(e.id,e.vidas));break;case"Speed":e.speedMultiplier=1.5,this.scene.time.delayedCall(5e3,()=>{e.speedMultiplier=1},[],this);break;case"Shield":e.invulnerable=!0,this.scene.time.delayedCall(5e3,()=>{e.invulnerable=!1},[],this);break;case"NoShoot":e.applyNoShoot(5e3)}}createCollistions(){this.scene.players.forEach(e=>{this.scene.physics.add.collider(this.sprite,e.sprite,()=>{let t=null;this.scene.players.forEach(s=>{s!==e&&(t=s)});const s=new Set(["NoShoot"]).has(this.type)?t??e:e;this.aplyPowerUp(s,this.type),this.sprite.destroy(),this.generator.maxPowerUps-=1})})}}class h{constructor(e,t,s){this.scene=e,this.interval=t,this.online=s,this.types=["Heal","Speed","Shield","NoShoot"],this.positionsX=[100,700,700,100,400],this.positionsY=[150,500,150,500,300],this.maxPowerUps=0,this.online||this.startGenerating()}startGenerating(){this.scene.time.addEvent({delay:this.interval,callback:()=>this.generatePowerUp(),loop:!0})}isSpawnValid(e,t){const s=this.scene.add.zone(e,t,40,40);this.scene.physics.add.existing(s),s.body.allowGravity=!1;const i=this.scene.physics.overlap(s,this.scene.obstacles),a=!!this.scene.powerUpsGroup&&this.scene.physics.overlap(s,this.scene.powerUpsGroup);return s.destroy(),!i&&!a}generatePowerUp(){if(this.maxPowerUps>=3)return;const e=s().Utils.Array.Shuffle([...Array(this.positionsX.length).keys()]);for(const t of e){const e=this.positionsX[t],i=this.positionsY[t];if(this.isSpawnValid(e,i)){const t=s().Utils.Array.GetRandom(this.types);return new l(this.scene,e,i,t,this),void(this.maxPowerUps+=1)}}}}class c{constructor(){this.players=new Map,this.gameScene=null}setPlayers(e){this.players=e}setGameScene(e){this.gameScene=e}process(e){e.execute()}}class d{execute(){}serialize(){}getPlayer(){}}class p extends d{constructor(e,t){super(),this.tank=e,this.direction=t}execute(){if("up"===this.direction?(this.tank.sprite.setVelocityY(-this.tank.baseSpeed*this.tank.speedMultiplier),this.tank.turret.rotate(),this.tank.turret.shoot(!1)):"down"===this.direction?(this.tank.sprite.setVelocityY(+this.tank.baseSpeed*this.tank.speedMultiplier),this.tank.turret.rotate(),this.tank.turret.shoot(!1)):"right"===this.direction?(this.tank.sprite.setVelocityX(this.tank.baseSpeed*this.tank.speedMultiplier),this.tank.turret.rotate(),this.tank.turret.shoot(!1)):"left"===this.direction?(this.tank.sprite.setVelocityX(-this.tank.baseSpeed*this.tank.speedMultiplier),this.tank.turret.rotate(),this.tank.turret.shoot(!1)):(this.tank.sprite.setVelocityY(0),this.tank.sprite.setVelocityX(0),this.tank.turret.sprite.setVelocityY(0),this.tank.turret.sprite.setVelocityX(0),this.tank.turret.shoot(!0)),this.tank.turret.SetPosition(this.tank.GetX(),this.tank.GetY()),this.tank.turret.aim(),this.tank.sprite.body){const e=this.tank.sprite.body.velocity.x,t=this.tank.sprite.body.velocity.y;this.tank.sprite.rotation=Math.atan2(t,e)+Math.PI/2}}}class g extends d{constructor(e,t){super(),this.gameScene=e,this.isPaused=t}execute(){this.gameScene.setPauseState(this.isPaused)}}const u=new class{constructor(){this.connectedCount=0,this.isConnected=!1,this.lastCheckTime=0,this.checkInterval=2e3,this.listeners=[],this.sessionId=this.generateSessionId(),this.intervalId=null,this.startPolling()}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async checkConnection(){try{const e=await fetch("/api/connected",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.sessionId})});if(e.ok){const t=await e.json();return this.connectedCount=t.connected,this.isConnected=!0,this.lastCheckTime=Date.now(),this.notifyListeners({connected:!0,count:this.connectedCount}),{connected:this.connectedCount,success:!0}}return this.handleDisconnection(),{connected:0,success:!1}}catch(e){return console.error("Error checking connection:",e),this.handleDisconnection(),{connected:0,success:!1}}}handleDisconnection(){this.isConnected=!1,this.connectedCount=0,this.notifyListeners({connected:!1,count:0})}addListener(e){this.listeners.push(e)}removeListener(e){const t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}notifyListeners(e){this.listeners.forEach(t=>t(e))}getStatus(){return{isConnected:this.isConnected,connectedCount:this.connectedCount,lastCheckTime:this.lastCheckTime}}startPolling(){this.intervalId||(this.checkConnection(),this.intervalId=setInterval(()=>{this.checkConnection()},this.checkInterval))}stopPolling(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}};class m extends s().Scene{constructor(){super("GameScene")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("Vida","imagenes/VidaCW.png"),this.load.image("Bubble","imagenes/BurbujaCW.png"),this.load.image("Escudo","imagenes/EscudoCW.png"),this.load.image("NoFuegoAmigo","imagenes/NoFuegoAmigoCW.png"),this.load.image("MedioMapa","imagenes/MedioObstaculoCW.png"),this.load.image("Palo","imagenes/PaloObstaculoCW.png"),this.load.image("BloqueSimple","imagenes/TileMuro.png"),this.load.image("BottomTopWall","imagenes/BottomTopCW.png"),this.load.image("LeftRightWall","imagenes/LeftRightCW.png"),this.load.image("BaseRed","imagenes/TanqueRojoCW.png"),this.load.image("TorretaRed","imagenes/CanonRojoCW.png"),this.load.image("BalaRed","imagenes/BalaNRojoCw.png"),this.load.image("BaseGreen","imagenes/TanqueVerdeCW.png"),this.load.image("TorretaGreen","imagenes/CanonVerdeCW.png"),this.load.image("BalaGreen","imagenes/BalaNVerdeCW.png"),this.load.image("BaseBlue","imagenes/TanqueAzulCW.png"),this.load.image("TorretaBlue","imagenes/CanonAzulCW.png"),this.load.image("BalaBlue","imagenes/BalaNAzulCW.png"),this.load.image("BaseYellow","imagenes/TanqueAmarilloCW.png"),this.load.image("TorretaYellow","imagenes/CanonAmarilloCW.png"),this.load.image("BalaYellow","imagenes/BalaNAmarilloCW.png"),this.load.image("MuroBloque6","imagenes/MedioObstaculoCW.png"),this.load.image("Bloque","imagenes/TileMuro.png"),this.load.image("Palo","imagenes/PaloObstaculoCW.png")}init(e){this.players=new Map,this.inputMappings=[],this.ball=null,this.powerUpGenerator=null,this.isPaused=!1,this.escWasDown=!1,this.processor=new c,this.isGameOver=!1,this.colorPlayer1=e?.colorPlayer1,this.colorPlayer2=e?.colorPlayer2}create(){this.powerUpsGroup=this.physics.add.group();const e=this.sound.get("musica_menu");e?.stop();let t=this.sound.get("musica_game");t||(t=this.sound.add("musica_game",{loop:!0,volume:.4})),t.isPlaying||t.play(),this.add.image(400,300,"Fondo"),this.createBounds(),this.obstacles=this.physics.add.staticGroup(this.top,this.bottom,this.left,this.right,this.block1,this.block2,this.centro1,this.centro2,this.centro3,this.palo1,this.palo2),this.setUpPlayers(),this.createCollisions(),this.vidasJugadores(),this.powerUpGenerator=new h(this,1e4,!1),this.escKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.ESC),this.connectionListener=e=>{!e.connected&&this.scene.isActive()&&this.onConnectionLost()},u.addListener(this.connectionListener),this.events.on("shutdown",this.onShutdown,this),this.events.on("destroy",this.onShutdown,this),this.removeKeys=this.input.keyboard.removeCapture(["ESC","W","A","S","D","UP","DOWN","LEFT","RIGHT"])}onConnectionLost(){this.scene.launch("ConnectionLostScene",{previousScene:"GameScene"}),this.scene.pause(),this.scene.bringToTop("ConnectionLostScene")}vidasJugadores(){this.vidaPlayer1=[],this.vidaPlayer2=[],this.add.image(10,20,`Base${this.players.get("player1").color}`).setOrigin(0,0),this.add.image(740,20,`Base${this.players.get("player2").color}`).setOrigin(0,0),this.add.image(35,40,`Torreta${this.players.get("player1").color}`).setOrigin(.15,.5),this.add.image(765,40,`Torreta${this.players.get("player2").color}`).setOrigin(.15,.5).setRotation(Math.PI);for(let e=0;e<5;e++){const t=this.add.image(90+30*e,35,"Vida").setScale(.05);this.vidaPlayer1.push(t);const s=this.add.image(710-30*e,35,"Vida").setScale(.05);this.vidaPlayer2.push(s)}}actualizarVidas(e,t){const s="player1"===e?this.vidaPlayer1:this.vidaPlayer2;if(s.length>t&&s.pop().destroy(),s.length<t){if("player1"===e){const e=this.add.image(90+30*s.length,35,"Vida").setScale(.05);s.push(e)}if("player2"===e){const e=this.add.image(710-30*s.length,35,"Vida").setScale(.05);s.push(e)}}t<=0&&(this.isGameOver=!0,this.scene.start("GameOverScene",{ganador:"player1"===e?"player2":"player1",color:this.players.get("player1"===e?"player2":"player1").color}))}setUpPlayers(){const e=new r(this,"player1",90,300,this.colorPlayer1),t=new r(this,"player2",710,300,this.colorPlayer2);e.SetTarget(t),t.SetTarget(e),this.players.set("player1",e),this.players.set("player2",t),this.inputMappings=[{playerId:"player1",upKey:"W",downKey:"S",rightKey:"D",leftKey:"A"},{playerId:"player2",upKey:"UP",downKey:"DOWN",rightKey:"RIGHT",leftKey:"LEFT"}].map(e=>({playerId:e.playerId,upKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.upKey]),downKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.downKey]),rightKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.rightKey]),leftKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.leftKey])}))}scoreLeftGoal(){const e=this.players.get("player1");e.score-=1,e.score>=2?this.endGame("player1"):this.resetBall()}scoreRightGoal(){const e=this.players.get("player2");e.score+=1,this.add.image(700+30*(e.score-1),100,"Vida").setScale(.5),e.score>=2?this.endGame("player2"):this.resetBall()}endGame(e){this.ball.setVelocity(0,0),this.players.forEach(e=>{e.sprite.setVelocity(0,0)}),this.physics.pause();const t="player1"===e?"Player 1 Wins!":"Player 2 Wins!";this.add.text(400,250,t,{fontSize:"64px",color:"#00ff00"}).setOrigin(.5);const s=this.add.text(400,350,"Return to Main Menu",{fontSize:"32px",color:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>s.setColor("#cccccc")).on("pointerout",()=>s.setColor("#ffffff")).on("pointerdown",()=>{this.scene.start("MenuScene")})}resetBall(){this.ball.setVelocity(0,0),this.ball.setPosition(400,300),this.time.delayedCall(1e3,()=>{this.launchBall()})}launchBall(){const e=s().Math.Between(-30,30),t=Math.random()<.5?1:-1;this.ball.setVelocity(300*Math.cos(s().Math.DegToRad(e))*t,300*Math.sin(s().Math.DegToRad(e)))}createBall(){const e=this.add.graphics();e.fillStyle(16777215),e.fillCircle(8,8,8),e.generateTexture("ball",16,16),e.destroy(),this.ball=this.physics.add.sprite(400,300,"ball"),this.ball.setCollideWorldBounds(!0),this.ball.setBounce(1)}createBounds(){this.top=this.physics.add.sprite(400,83,"BottomTopWall"),this.top.setImmovable(!0),this.top.body.setSize(765,45),this.bottom=this.physics.add.sprite(400,577,"BottomTopWall"),this.bottom.setImmovable(!0),this.bottom.body.setSize(765,45),this.left=this.physics.add.sprite(40,330,"LeftRightWall"),this.left.setImmovable(!0),this.left.body.setSize(45,450),this.right=this.physics.add.sprite(760,330,"LeftRightWall"),this.right.setImmovable(!0),this.right.body.setSize(45,450),this.block1=this.physics.add.sprite(400,198,"MuroBloque6"),this.block1.setImmovable(!0),this.block2=this.physics.add.sprite(400,462,"MuroBloque6"),this.block2.setImmovable(!0),this.centro1=this.physics.add.sprite(400,352,"Bloque"),this.centro1.setImmovable(!0),this.centro2=this.physics.add.sprite(355,307,"Bloque"),this.centro2.setImmovable(!0),this.centro3=this.physics.add.sprite(445,307,"Bloque"),this.centro3.setImmovable(!0),this.palo1=this.physics.add.sprite(648,439,"Palo"),this.palo1.setImmovable(!0),this.palo2=this.physics.add.sprite(152,218,"Palo"),this.palo2.setImmovable(!0)}createCollisions(){this.players.forEach(e=>{this.physics.add.collider(this.left,e.sprite),this.physics.add.collider(this.right,e.sprite),this.physics.add.collider(this.top,e.sprite),this.physics.add.collider(this.bottom,e.sprite),this.physics.add.collider(this.block1,e.sprite),this.physics.add.collider(this.block2,e.sprite),this.physics.add.collider(this.centro1,e.sprite),this.physics.add.collider(this.centro2,e.sprite),this.physics.add.collider(this.centro3,e.sprite),this.physics.add.collider(this.palo1,e.sprite),this.physics.add.collider(this.palo2,e.sprite)})}setPauseState(e){this.isPaused=e,e&&(this.scene.launch("PauseScene",{originalScene:"GameScene"}),this.scene.pause())}resume(){this.isPaused=!1}togglePause(){const e=!this.isPaused;this.processor.process(new g(this,e))}update(){this.isGameOver||(this.escKey.isDown&&!this.escWasDown&&this.togglePause(),this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);let s=null;s=e.upKeyObj.isDown?"up":e.downKeyObj.isDown?"down":e.leftKeyObj.isDown?"left":e.rightKeyObj.isDown?"right":"stop";let i=new p(t,s);this.processor.process(i)}))}onShutdown(){this.connectionListener&&(u.removeListener(this.connectionListener),this.connectionListener=null),this.removeKeys}}class y extends s().Scene{constructor(){super("PauseScene")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("BTNPause","imagenes/PausaCW.png"),this.load.image("BTNMenu","imagenes/MenuCW.png"),this.load.image("BTNContinue","imagenes/ContinuarCW.png"),this.load.image("Mute","imagenes/MuteCW.png"),this.load.image("Barra","imagenes/BarraMusicaCW.png"),this.load.image("Deslizador","imagenes/DeslizadorMusicaCW.png"),this.load.audio("sfx","audio/menusfx.mp3"),this.scene.bringToTop("PauseScene")}create(e){this.add.image(400,300,"Fondo"),this.add.image(400,100,"BTNPause").setOrigin(.5).setScale(.7);const t=this.add.image(400,270,"BTNContinue").setOrigin(.5).setScale(.2).setInteractive({useHandCursor:!0}).on("pointerover",()=>t.setScale(.24)).on("pointerout",()=>t.setScale(.2)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.stop(),this.scene.resume(e.originalScene),this.scene.get(e.originalScene).resume()}),i=this.add.image(400,525,"BTNMenu").setOrigin(.5).setScale(.3).setInteractive({useHandCursor:!0}).on("pointerover",()=>i.setScale(.35)).on("pointerout",()=>i.setScale(.3)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.stop("GameScene"),this.scene.stop(),this.scene.start("MenuScene")});this.sliderBar=this.add.image(400,370,"Barra").setDisplaySize(200,68).setOrigin(.5);const a=s().Math.Clamp(this.sound.volume??1,0,1),o=320+160*a;this.sliderHandle=this.add.image(o,370,"Deslizador").setScale(.5).setOrigin(.5).setInteractive({draggable:!0}),this.input.setDraggable(this.sliderHandle),this.input.on("drag",(e,t,i)=>{t===this.sliderHandle&&(t.x=s().Math.Clamp(i,320,480),this.sound.mute=!1,this.sound.volume=(t.x-320)/160)}),this.add.image(400,410,"Mute").setOrigin(.5).setScale(.5).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.sound.mute=!this.sound.mute})}}class S extends s().Scene{constructor(){super("CreditScene")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("BTNCredit","imagenes/CreditosCW.png"),this.load.image("Autores","imagenes/AutoresCW.png"),this.load.audio("sfx","audio/menusfx.mp3")}create(){this.add.image(400,300,"Fondo"),this.add.image(400,90,"BTNCredit").setOrigin(.5).setScale(1.5),this.add.image(400,300,"Autores").setScale(.3);const e=this.add.image(400,525,"BTNMenu").setOrigin(.5).setScale(.3).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setScale(.35)).on("pointerout",()=>e.setScale(.3)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("MenuScene")})}}const v=`http://${window.location.hostname}:3000`;class C extends s().Scene{constructor(){super("OnlineScene")}preload(){this.load.image("BaseRed","imagenes/TanqueRojoCW.png"),this.load.image("TorretaRed","imagenes/CanonRojoCW.png"),this.load.image("BaseGreen","imagenes/TanqueVerdeCW.png"),this.load.image("TorretaGreen","imagenes/CanonVerdeCW.png"),this.load.image("BaseBlue","imagenes/TanqueAzulCW.png"),this.load.image("TorretaBlue","imagenes/CanonAzulCW.png"),this.load.image("BaseYellow","imagenes/TanqueAmarilloCW.png"),this.load.image("TorretaYellow","imagenes/CanonAmarilloCW.png"),this.load.image("Play","imagenes/PLAYCW.png"),this.load.image("BTNMenu","imagenes/MenuCW.png"),this.load.image("Basura","imagenes/EliminarCW.png"),this.load.image("Bubble","imagenes/BurbujaCW.png"),this.load.image("Elige","imagenes/EligeColorCW.png"),this.load.audio("sfx","audio/menusfx.mp3"),this.load.image("Escudo","imagenes/EscudoCW.png"),this.load.image("NoFuegoAmigo","imagenes/NoFuegoAmigoCW.png")}create(){this.matter,this.connected=!1,this.add.image(400,300,"Fondo"),this.add.image(400,90,"BTNOnline").setOrigin(.5).setScale(.33);const e=this.add.image(400,525,"BTNMenu").setOrigin(.5).setScale(.3).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setScale(.35)).on("pointerout",()=>e.setScale(.3)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("MenuScene")});this.colorPlayer1=null,this.play=this.add.image(400,400,"Play").setOrigin(.5).setScale(.3).setInteractive({useHandCursor:!0}).on("pointerover",()=>{this.play.setScale(.35)}).on("pointerout",()=>{this.play.setScale(.3)}).on("pointerdown",()=>{this.handleLogin()}),this.basura=this.add.image(550,310,"Basura").setOrigin(.5).setScale(.3).setInteractive({useHandCursor:!0}).on("pointerover",()=>{this.basura.setScale(.35)}).on("pointerout",()=>{this.basura.setScale(.3)}).on("pointerdown",()=>{this.handleDelete()});const t=this.game.canvas.getBoundingClientRect();this.inputName=document.createElement("input"),this.inputName.type="text",this.inputName.placeholder="Tu apodo...",this.inputName.style.position="absolute",this.inputName.style.top=t.top+300+"px",this.inputName.style.left=t.left+270+"px",this.inputName.style.fontSize="20px",document.body.appendChild(this.inputName),this.connectionText2=this.add.text(425,470,"Servidor: Comprobando...",{fontSize:"18px",color:"#8d8d3bff"}).setOrigin(.5),this.connectionListener=e=>{this.updateConnectionDisplay(e)},u.addListener(this.connectionListener),this.events.on("shutdown",this.onShutdown,this),this.events.on("destroy",this.onShutdown,this),this.p1Options=[];const s=(e,t,s,i)=>{const a=this.add.image(0,0,`Base${s}`).setScale(1.2).setDepth(10),o=this.add.image(0,0,`Torreta${s}`).setScale(1.2).setOrigin(.2,.5).setDepth(15),n=this.add.image(0,0,"Bubble").setScale(1.6).setDepth(40);n.setVisible(!1);const r=this.add.container(e,t,[a,o,n]);return r.setSize(1.2*a.width,1.2*a.height),r.setInteractive({useHandCursor:!0}),r.setData("colorKey",s),r.setData("selected",!1),r.setData("disabled",!1),r.setData("highlight",n),r.on("pointerover",()=>{r.setScale(1.3)}),r.on("pointerout",()=>{r.setScale(1)}),r.on("pointerup",()=>{r.getData("disabled")||i(s,r)}),r};["Red","Blue","Green","Yellow"].forEach((e,t)=>{const i=s(240+100*t,240,e,(e,t)=>{this.colorPlayer1=e,this.markSelected(this.p1Options,t)});this.p1Options.push(i)})}async handleDelete(){const e=this.inputName.value.trim();if(console.log("Eliminando usuario..."),console.log("Nombre ingresado:",e),console.log("Avatar seleccionado:",this.colorPlayer1),0===e.length||!this.connected)return this.sound.play("sfx",{volume:.5}),void console.log("Usuario inválido para eliminar.");let t=await this.getPlayerByName(e);Array.isArray(t)&&0===t.length?t=null:Array.isArray(t)&&(t=t[0]),t?(console.log("Eliminando usuario existente."),await this.deletePlayer(t.id),console.log("Usuario eliminado:",t)):console.log("Usuario no existe, no se puede eliminar.")}async handleLogin(){const e=this.inputName.value.trim();if(console.log("Nombre ingresado:",e),console.log("Avatar seleccionado:",this.colorPlayer1),0===e.length||!this.connected)return this.sound.play("sfx",{volume:.5}),void console.log("Por favor, ingresa un nombre válido.");let t=await this.getPlayerByName(e);if(Array.isArray(t)&&0===t.length?t=null:Array.isArray(t)&&(t=t[0]),t)null!==this.colorPlayer1?(console.log("Actualizando avatar del usuario existente."),t=await this.updatePlayer(t.id,{avatar:this.colorPlayer1})):(console.log("Usando avatar existente del usuario."),this.colorPlayer1=t.avatar);else{if(null===this.colorPlayer1)return void console.log("Por favor, selecciona un avatar.");console.log("Creando usuario nuevo..."),t=await this.createPlayer({name:e,avatar:this.colorPlayer1,wins:0}),console.log("Usuario creado:",t)}this.sound.play("sfx",{volume:.5}),this.scene.start("LobbyScene",{playerName:t.name,avatar:t.avatar})}updateConnectionDisplay(e){if(this.connectionText2&&this.scene&&this.scene.isActive("OnlineScene"))try{e.connected?(this.connectionText2.setText(`Servidor: ${e.count} usuario(s) conectado(s)`),this.connectionText2.setColor("#5e925eff"),this.connected=!0):(this.connectionText2.setText("Servidor: Desconectado"),this.connectionText2.setColor("#a16666ff"),this.connected=!1)}catch(e){console.error("[OnlineScene] Error updating connection display:",e),this.connected=!1}}markSelected(e,t){e.forEach(e=>{e.setData("selected",!1),e.getData("highlight").setVisible(!1)}),t.setData("selected",!0),t.getData("highlight").setVisible(!0)}setOptionDisabled(e,t){e.setData("disabled",t),t?(e.disableInteractive(),e.setAlpha(.3),e.setData("selected",!1),e.getData("highlight").setVisible(!1)):(e.setInteractive({useHandCursor:!0}),e.setAlpha(1))}async getPlayerByName(e){try{const t=await fetch(`${v}/api/users?name=${encodeURIComponent(e)}`);if(!t.ok)throw new Error("HTTP error "+t.status);const s=await t.json();return Array.isArray(s)&&s.length>0&&s.find(t=>t.name===e)||null}catch(e){return console.error("Error:",e),null}}async createPlayer(e){const t=await fetch(`${v}/api/users`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await t.json()}async updatePlayer(e,t){const s=await fetch(`${v}/api/users/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return await s.json()}async deletePlayer(e){const t=await fetch(`${v}/api/users/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(204===t.status)return;const s=await t.text();return s?JSON.parse(s):null}onShutdown(){this.connectionListener&&(u.removeListener(this.connectionListener),this.connectionListener=null),this.inputName&&(document.body.removeChild(this.inputName),this.inputName=null)}}class b extends s().Scene{constructor(){super("TutorialScene")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("Tutorial","imagenes/TutorialCW.png"),this.load.image("TutorialInfo","imagenes/InfoTutorialCW.png"),this.load.image("TeclasTutorial","imagenes/TeclasTutorialCW.png"),this.load.audio("sfx","audio/menusfx.mp3")}create(){this.add.image(400,300,"Fondo"),this.add.image(400,80,"Tutorial").setOrigin(.5).setScale(.45),this.add.image(600,300,"TutorialInfo").setOrigin(.5).setScale(.4),this.add.image(200,300,"TeclasTutorial").setOrigin(.5).setScale(.4);const e=this.add.image(400,525,"BTNMenu").setOrigin(.5).setScale(.3).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setScale(.35)).on("pointerout",()=>e.setScale(.3)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("MenuScene")})}}class T extends s().Scene{constructor(){super("GameOverScene")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("BTNMenu","imagenes/MenuCW.png"),this.load.image("BTNGanador","imagenes/GanadorCW.png"),this.load.image("P","imagenes/Pcw.png"),this.load.image("1","imagenes/1CW.png"),this.load.image("2","imagenes/2CW.png"),this.load.audio("sfx","audio/menusfx.mp3")}init(e){this.ganador=e?.ganador,this.color=e?.color}create(){this.add.image(400,300,"Fondo"),this.add.image(400,100,"BTNGanador").setOrigin(.5).setScale(.6),this.add.image(355,200,"P").setOrigin(.5).setScale(.5);const e=this.ganador;let t=null;e.includes("1")?t="1":e.includes("2")&&(t="2"),this.add.image(445,200,t).setOrigin(.5).setScale(.5),this.add.image(400,375,`Base${this.color}`).setOrigin(.5,.5).setScale(3),"Amarillo"===this.color||"Verde"===this.color?this.torre=this.add.image(400,375,`Torreta${this.color}`).setOrigin(.2,.5).setScale(3):this.torre=this.add.image(400,375,`Torreta${this.color}`).setOrigin(.15,.5).setScale(3);const s=this.add.image(400,540,"BTNMenu").setOrigin(.5).setScale(.4).setInteractive({useHandCursor:!0}).on("pointerover",()=>s.setScale(.43)).on("pointerout",()=>s.setScale(.4)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("MenuScene")})}update(){this.torre.rotation+=Math.PI/180}}class f extends s().Scene{constructor(){super("OptionsScene")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("BTNMenu","imagenes/MenuCW.png"),this.load.image("Opciones","imagenes/OpcionesCW.png"),this.load.image("Barra","imagenes/BarraMusicaCW.png"),this.load.image("Mute","imagenes/MuteCW.png"),this.load.image("Deslizador","imagenes/DeslizadorMusicaCW.png"),this.load.audio("sfx","audio/menusfx.mp3")}create(){this.add.image(400,300,"Fondo"),this.add.image(400,90,"Opciones").setScale(.5).setOrigin(.5);const e=this.add.image(400,525,"BTNMenu").setOrigin(.5).setScale(.4).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setScale(.43)).on("pointerout",()=>e.setScale(.4)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("MenuScene")});this.sliderBar=this.add.image(400,300,"Barra").setDisplaySize(200,68).setOrigin(.5);const t=s().Math.Clamp(this.sound.volume??1,0,1),i=320+160*t;this.sliderHandle=this.add.image(i,300,"Deslizador").setScale(.5).setOrigin(.5).setInteractive({draggable:!0}),this.input.setDraggable(this.sliderHandle),this.input.on("drag",(e,t,i)=>{t===this.sliderHandle&&(t.x=s().Math.Clamp(i,320,480),this.sound.mute=!1,this.sound.volume=(t.x-320)/160)}),this.add.image(400,340,"Mute").setOrigin(.5).setScale(.5).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.sound.mute=!this.sound.mute})}}class w extends s().Scene{constructor(){super("ConnectionLostScene"),this.reconnectCheckInterval=null}preload(){this.load.image("ConexionPerdida","imagenes/ConexionPerdidaCW.png"),this.load.image("Fondo","imagenes/Fondo.jpg")}init(e){this.previousScene=e.previousScene}create(){this.add.image(400,300,"Fondo"),this.add.image(400,100,"ConexionPerdida").setScale(.4).setOrigin(.5),this.statusText=this.add.text(400,300,"Intentando reconectar...",{fontSize:"24px",color:"#ff0000"}).setOrigin(.5);const e=this.add.image(400,525,"BTNMenu").setOrigin(.5).setScale(.3).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setScale(.35)).on("pointerout",()=>e.setScale(.3)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.stop(this.previousScene),this.scene.stop(),this.scene.start("MenuScene")});this.attemptCount=0,this.attemptText=this.add.text(400,350,"Intentos: 0",{fontSize:"18px",color:"#000000"}).setOrigin(.5),this.dotCount=0,this.time.addEvent({delay:2e3,callback:()=>{this.dotCount=(this.dotCount+1)%4;const e=".".repeat(this.dotCount);this.statusText.setText(`Intentando reconectar${e}`)},loop:!0}),this.connectionListener=e=>{e.connected&&this.onReconnected()},u.addListener(this.connectionListener),this.reconnectCheckInterval=setInterval(()=>{this.attemptReconnect()},2e3),this.attemptReconnect()}async attemptReconnect(){this.attemptCount++,this.attemptText.setText(`Intentos: ${this.attemptCount}`),await u.checkConnection()}onReconnected(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),u.removeListener(this.connectionListener),this.statusText.setText("¡Conexión restablecida!"),this.statusText.setColor("#00ff00"),this.time.delayedCall(1e3,()=>{this.scene.stop(),this.previousScene&&this.scene.resume(this.previousScene)})}shutdown(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),this.connectionListener&&u.removeListener(this.connectionListener)}}class B extends s().Scene{constructor(){super("OnlineGameScene")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("Vida","imagenes/VidaCW.png"),this.load.image("Bubble","imagenes/BurbujaCW.png"),this.load.image("MedioMapa","imagenes/MedioObstaculoCW.png"),this.load.image("Palo","imagenes/PaloObstaculoCW.png"),this.load.image("BloqueSimple","imagenes/TileMuro.png"),this.load.image("BottomTopWall","imagenes/BottomTopCW.png"),this.load.image("LeftRightWall","imagenes/LeftRightCW.png"),this.load.image("BaseRed","imagenes/TanqueRojoCW.png"),this.load.image("TorretaRed","imagenes/CanonRojoCW.png"),this.load.image("BalaRed","imagenes/BalaNRojoCw.png"),this.load.image("BaseGreen","imagenes/TanqueVerdeCW.png"),this.load.image("TorretaGreen","imagenes/CanonVerdeCW.png"),this.load.image("BalaGreen","imagenes/BalaNVerdeCW.png"),this.load.image("BaseBlue","imagenes/TanqueAzulCW.png"),this.load.image("TorretaBlue","imagenes/CanonAzulCW.png"),this.load.image("BalaBlue","imagenes/BalaNAzulCW.png"),this.load.image("BaseYellow","imagenes/TanqueAmarilloCW.png"),this.load.image("TorretaYellow","imagenes/CanonAmarilloCW.png"),this.load.image("BalaYellow","imagenes/BalaNAmarilloCW.png"),this.load.image("MuroBloque6","imagenes/MedioObstaculoCW.png"),this.load.image("Bloque","imagenes/TileMuro.png"),this.load.image("Palo","imagenes/PaloObstaculoCW.png")}init(e){if(this.ws=e.ws,this.playerRole=e.playerRole,this.roomId=e.roomId,this.localTank=null,this.remoteTank=null,this.processor=new c,this.players=new Map,this.isGameOver=!1,this.colorPlayer1=e.avatar1,this.colorPlayer2=e.avatar2,this.name1=e.name1,this.name2=e.name2,this.colorPlayer2===this.colorPlayer1){let e=["Red","Blue","Green","Yellow"].filter(e=>e!==this.colorPlayer1),t=s().Utils.Array.GetRandom(e);"player1"===this.playerRole?this.colorPlayer2=t:this.colorPlayer1=t}this.usePowerUps=!1}create(){this.powerUpsGroup=this.physics.add.group();const e=this.sound.get("musica_menu");e?.stop();let t=this.sound.get("musica_game");t||(t=this.sound.add("musica_game",{loop:!0,volume:.4})),t.isPlaying||t.play(),this.add.image(400,300,"Fondo"),this.createBounds(),this.obstacles=this.physics.add.staticGroup(this.top,this.bottom,this.left,this.right,this.block1,this.block2,this.centro1,this.centro2,this.centro3,this.palo1,this.palo2),this.cursors=this.input.keyboard.createCursorKeys(),this.setUpPlayers(),this.createCollisions(),this.setupWebSocketListeners(),this.vidasJugadores(),this.connectionListener=e=>{!e.connected&&this.scene.isActive()&&this.onConnectionLost()},u.addListener(this.connectionListener),this.events.on("shutdown",this.onShutdown,this),this.events.on("destroy",this.onShutdown,this),this.poweUpGenerator=new h(this,1e4,!0)}onConnectionLost(){}setupWebSocketListeners(){this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.gameEnded||this.handleDisconnection()},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.gameEnded||this.handleDisconnection()}}handleServerMessage(e){switch(e.type){case"tankUpdate":let t=new p(this.remoteTank,e.action);this.processor.process(t),this.remoteTank.sprite.x=e.x,this.remoteTank.sprite.y=e.y,this.remoteTank.turret.x=e.x,this.remoteTank.turret.y=e.y,this.actualizarVidas("player1"===this.playerRole?"player2":"player1",e.lives);break;case"spawnPowerUp":const i=e.data;new l(this,i.x,i.y,i.tipo,this.poweUpGenerator);break;case"collectPowerUp":console.log("Power-up collected");break;case"tankColor":if(e.role!==this.playerRole){if(this.remoteTank.destroy(),e.color!==this.remoteTank.color)this.remoteTank=new r(this,e.role,"player1"===e.role?90:710,300,e.color);else{let t=["Red","Blue","Green","Yellow"].filter(t=>t!==e.color),i=s().Utils.Array.GetRandom(t);this.remoteTank=new r(this,e.role,"player1"===e.role?90:710,300,i)}this.players.set(e.role,this.remoteTank),this.remoteTank.SetTarget(this.localTank),this.createCollisions()}break;case"gameOver":this.endGame(e.winner);break;case"playerDisconnected":this.handleDisconnection();break;default:console.log("Unknown message type:",e.type)}}handleDisconnection(){this.gameEnded=!0,this.localTank.sprite.setVelocity(0,0),this.remoteTank.sprite.setVelocity(0,0),this.physics.pause(),this.add.image(400,130,"ConexionPerdida").setScale(.4).setOrigin(.5),this.createMenuButton()}createMenuButton(){const e=this.add.image(400,400,"BTNMenu").setOrigin(.5).setScale(.4).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setScale(.43)).on("pointerout",()=>e.setScale(.4)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close(),this.scene.start("MenuScene")})}vidasJugadores(){this.vidaPlayer1=[],this.vidaPlayer2=[],this.add.image(10,20,`Base${this.players.get("player1").color}`).setOrigin(0,0),this.add.image(740,20,`Base${this.players.get("player2").color}`).setOrigin(0,0),this.add.image(35,40,`Torreta${this.players.get("player1").color}`).setOrigin(.15,.5),this.add.image(765,40,`Torreta${this.players.get("player2").color}`).setOrigin(.15,.5).setRotation(Math.PI);for(let e=0;e<5;e++){const t=this.add.image(90+30*e,35,"Vida").setScale(.05);this.vidaPlayer1.push(t);const s=this.add.image(710-30*e,35,"Vida").setScale(.05);this.vidaPlayer2.push(s)}}actualizarVidas(e,t){const s="player1"===e?this.vidaPlayer1:this.vidaPlayer2;if(s.length>t&&s.pop().destroy(),s.length<t){if("player1"===e){const e=this.add.image(90+30*s.length,35,"Vida").setScale(.05);s.push(e)}if("player2"===e){const e=this.add.image(710-30*s.length,35,"Vida").setScale(.05);s.push(e)}}t<=0&&(this.sendMessage({type:"gameOver",winner:e}),this.endGame(e))}setUpPlayers(){"player1"===this.playerRole?(this.localTank=new r(this,"player1",90,300,this.colorPlayer1),this.remoteTank=new r(this,"player2",710,300,this.colorPlayer2),this.players.set("player1",this.localTank),this.players.set("player2",this.remoteTank)):(this.localTank=new r(this,"player2",710,300,this.colorPlayer2),this.remoteTank=new r(this,"player1",90,300,this.colorPlayer1),this.players.set("player2",this.localTank),this.players.set("player1",this.remoteTank)),this.localTank.SetTarget(this.remoteTank),this.remoteTank.SetTarget(this.localTank)}endGame(e){this.players.forEach(e=>{e.sprite.setVelocityY(0),e.sprite.setVelocityX(0),e.turret.sprite.setVelocityY(0),e.turret.sprite.setVelocityX(0),e.turret.shoot(!0)}),this.physics.pause(),this.isGameOver=!0,this.scene.start("GameOverScene",{ganador:"player1"===e?"player2":"player1",color:this.players.get("player1"===e?"player2":"player1").color})}createBounds(){this.top=this.physics.add.sprite(400,83,"BottomTopWall"),this.top.setImmovable(!0),this.top.body.setSize(765,45),this.bottom=this.physics.add.sprite(400,577,"BottomTopWall"),this.bottom.setImmovable(!0),this.bottom.body.setSize(765,45),this.left=this.physics.add.sprite(40,330,"LeftRightWall"),this.left.setImmovable(!0),this.left.body.setSize(45,450),this.right=this.physics.add.sprite(760,330,"LeftRightWall"),this.right.setImmovable(!0),this.right.body.setSize(45,450),this.block1=this.physics.add.sprite(400,198,"MuroBloque6"),this.block1.setImmovable(!0),this.block2=this.physics.add.sprite(400,462,"MuroBloque6"),this.block2.setImmovable(!0),this.centro1=this.physics.add.sprite(400,352,"Bloque"),this.centro1.setImmovable(!0),this.centro2=this.physics.add.sprite(355,307,"Bloque"),this.centro2.setImmovable(!0),this.centro3=this.physics.add.sprite(445,307,"Bloque"),this.centro3.setImmovable(!0),this.palo1=this.physics.add.sprite(648,439,"Palo"),this.palo1.setImmovable(!0),this.palo2=this.physics.add.sprite(152,218,"Palo"),this.palo2.setImmovable(!0)}createCollisions(){this.players.forEach(e=>{this.physics.add.collider(this.left,e.sprite),this.physics.add.collider(this.right,e.sprite),this.physics.add.collider(this.top,e.sprite),this.physics.add.collider(this.bottom,e.sprite),this.physics.add.collider(this.block1,e.sprite),this.physics.add.collider(this.block2,e.sprite),this.physics.add.collider(this.centro1,e.sprite),this.physics.add.collider(this.centro2,e.sprite),this.physics.add.collider(this.centro3,e.sprite),this.physics.add.collider(this.palo1,e.sprite),this.physics.add.collider(this.palo2,e.sprite)})}sendMessage(e){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify(e))}update(){if(this.isGameOver)return;this.usePowerUps&&(this.sendMessage({type:"collectPowerUp"}),this.usePowerUps=!1);let e=null;e=this.cursors.up.isDown?"up":this.cursors.down.isDown?"down":this.cursors.left.isDown?"left":this.cursors.right.isDown?"right":"stop";let t=new p(this.localTank,e);this.processor.process(t),this.sendMessage({type:"tankMove",action:e,x:this.localTank.GetX(),y:this.localTank.GetY(),lives:this.localTank.vidas})}onShutdown(){this.connectionListener&&(u.removeListener(this.connectionListener),this.connectionListener=null),this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close()}}class P extends Phaser.Scene{constructor(){super({key:"LobbyScene"}),this.ws=null}init(e){this.playerName=e.playerName,this.avatar=e.avatar}create(){const e=this.cameras.main.width,t=this.cameras.main.height;this.add.image(400,300,"Fondo"),this.add.image(400,90,"BTNOnline").setOrigin(.5).setScale(.33),this.statusText=this.add.text(e/2,t/2-50,"Connecting to server...",{fontSize:"24px",color:"#939342ff"}).setOrigin(.5),this.playerCountText=this.add.text(e/2,t/2+20,"",{fontSize:"20px",color:"#4b954bff"}).setOrigin(.5),this.add.image(400,350,`Base${this.avatar}`).setScale(1.3).setDepth(10),this.add.image(400,350,`Torreta${this.avatar}`).setScale(1.3).setOrigin(.2,.5).setDepth(15),this.add.text(400,400,this.playerName,{fontSize:"32px",color:"#2b2b27ff",backgroundColor:"#bbb7b7ff"}).setOrigin(.5);const s=this.add.image(e/2,t-100,"BTNCancel").setOrigin(.5).setScale(.35).setInteractive();s.on("pointerover",()=>{s.setScale(.38)}),s.on("pointerout",()=>{s.setScale(.35)}),s.on("pointerdown",()=>{this.leaveQueue(),this.scene.start("OnlineScene")}),this.connectToServer()}connectToServer(){try{const e=`ws://${window.location.hostname}:3000`;this.ws=new WebSocket(e),this.ws.onopen=()=>{console.log("Connected to WebSocket server"),this.statusText.setText("Waiting for opponent..."),this.ws.send(JSON.stringify({type:"joinQueue",color:this.avatar,name:this.playerName}))},this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.statusText.setText("Connection error!"),this.statusText.setColor("#ff0000")},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.scene.isActive("LobbyScene")&&(this.statusText.setText("Connection lost!"),this.statusText.setColor("#8a4848ff"))}}catch(e){console.error("Error connecting to server:",e),this.statusText.setText("Failed to connect!"),this.statusText.setColor("#a94848ff")}}handleServerMessage(e){switch(e.type){case"queueStatus":this.playerCountText.setText(`Players in queue: ${e.position}/2`);break;case"gameStart":console.log("Game starting!",e),this.scene.start("OnlineGameScene",{ws:this.ws,playerRole:e.role,roomId:e.roomId,avatar1:e.colorp1,avatar2:e.colorp2,name1:e.namep1,name2:e.namep2});break;default:console.log("Unknown message type:",e.type)}}leaveQueue(){this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"leaveQueue"})),this.ws.close())}shutdown(){this.leaveQueue()}}const k={type:s().AUTO,width:800,height:600,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{y:0},debug:!1}},scene:[i,a,m,y,S,C,b,T,f,P,w,B],backgroundColor:"#1a1a2e"};new(s().Game)(k)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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L2NoYXJ0YXJpdW0td2Fycy93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy9leHRlcm5hbCB2YXIgXCJQaGFzZXJcIiIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvLi9zcmMvY2xpZW50L3NjZW5lcy9NZW51U2NlbmUuanMiLCJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzLy4vc3JjL2NsaWVudC9zY2VuZXMvU2VsZWN0Q29sb3IuanMiLCJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzLy4vc3JjL2NsaWVudC9lbnRpdGllcy9CdWxsZXQuanMiLCJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzLy4vc3JjL2NsaWVudC9lbnRpdGllcy9UdXJyZXQuanMiLCJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzLy4vc3JjL2NsaWVudC9lbnRpdGllcy9UYW5rLmpzIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy8uL3NyYy9jbGllbnQvZW50aXRpZXMvUG93ZXJVcC5qcyIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvLi9zcmMvY2xpZW50L2VudGl0aWVzL1Bvd2VyVXBHZW5lcmF0b3IuanMiLCJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzLy4vc3JjL2NsaWVudC9jb21tYW5kcy9Db21tYW5kUHJvY2Vzc29yLmpzIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy8uL3NyYy9jbGllbnQvY29tbWFuZHMvQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvLi9zcmMvY2xpZW50L2NvbW1hbmRzL01vdmVUYW5rQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvLi9zcmMvY2xpZW50L2NvbW1hbmRzL1B1YXNlR2FtZUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzLy4vc3JjL2NsaWVudC9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvLi9zcmMvY2xpZW50L3NjZW5lcy9HYW1lU2NlbmUuanMiLCJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzLy4vc3JjL2NsaWVudC9zY2VuZXMvUGF1c2VTY2VuZS5qcyIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvLi9zcmMvY2xpZW50L3NjZW5lcy9DcmVkaXRTY2VuZS5qcyIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvLi9zcmMvY2xpZW50L3NjZW5lcy9PbmxpbmVTY2VuZS5qcyIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvLi9zcmMvY2xpZW50L3NjZW5lcy9UdXRvcmlhbFNjZW5lLmpzIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy8uL3NyYy9jbGllbnQvc2NlbmVzL0dhbWVPdmVyU2NlbmUuanMiLCJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzLy4vc3JjL2NsaWVudC9zY2VuZXMvT3B0aW9uc1NjZW5lLmpzIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy8uL3NyYy9jbGllbnQvc2NlbmVzL0NvbmVjdGlvbkxvc3QuanMiLCJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzLy4vc3JjL2NsaWVudC9zY2VuZXMvT25saW5lR2FtZVNjZW5lLmpzIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy8uL3NyYy9jbGllbnQvc2NlbmVzL0xvYmJ5U2NlbmUuanMiLCJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzLy4vc3JjL2NsaWVudC9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gUGhhc2VyOyIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgTWVudVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdNZW51U2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkgey8vY2FyZ2EgZGUgYXJjaGl2b3NcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0ZvbmRvJywgJ2ltYWdlbmVzL0ZvbmRvLmpwZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTG9nbycsICdpbWFnZW5lcy9Mb2dvLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0NvbmV4aW9uUGVyZGlkYScsICdpbWFnZW5lcy9Db25leGlvblBlcmRpZGFDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0JUTlBsYXllcicsICdpbWFnZW5lcy9Mb2NhbEJ0bkNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQlROQ3JlZGl0JywgJ2ltYWdlbmVzL0NyZWRpdG9zQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCVE5PbmxpbmUnLCAnaW1hZ2VuZXMvT25saW5lQnRuQ1cucG5nJyk7ICAgXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCVE5NZW51JywgJ2ltYWdlbmVzL01lbnVDVy5wbmcnKTsgXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCVE5UdXRvcmlhbCcsICdpbWFnZW5lcy9UdXRvcmlhbENXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQlROT3BjaW9uZXMnLCAnaW1hZ2VuZXMvT3BjaW9uZXNDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0JUTkNhbmNlbCcgLCAnaW1hZ2VuZXMvQ2FuY2VsQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdtdXNpY2FfbWVudScsICdhdWRpby9tdXNpY2EubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzZngnLCAnYXVkaW8vbWVudXNmeC5tcDMnKTsgICBcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1ZlbG9jaWRhZCcsICdpbWFnZW5lcy9WZWxvY2lkYWRDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0VzY3VkbycsICdpbWFnZW5lcy9Fc2N1ZG9DVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ05vRnVlZ29BbWlnbycsICdpbWFnZW5lcy9Ob0Z1ZWdvQW1pZ29DVy5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdtdXNpY2FfZ2FtZScsICdhdWRpby9tdXNpY2FiLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc2Z4X2dhbWUnLCAnYXVkaW8vZGlzcGFyby5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3NmeF9yZWJvdGUnLCAnYXVkaW8vcmVib3RlLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc2Z4X3Bvd2VydXAnLCAnYXVkaW8vcG93ZXJ1cHNmeC5tcDMnKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIC8vbXVzaWNhXHJcbiAgICAgICAgY29uc3QgbXVzaWNhSnVlZ28gPSB0aGlzLnNvdW5kLmdldCgnbXVzaWNhX2dhbWUnKTtcclxuICAgICAgICBtdXNpY2FKdWVnbz8uc3RvcCgpO1xyXG4gICAgICAgIGxldCBtdXNpY2FNZW51ID0gdGhpcy5zb3VuZC5nZXQoJ211c2ljYV9tZW51Jyk7XHJcbiAgICAgICAgaWYgKCFtdXNpY2FNZW51KSB7XHJcbiAgICAgICAgICAgbXVzaWNhTWVudSA9IHRoaXMuc291bmQuYWRkKCdtdXNpY2FfbWVudScsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAwLjQgfSk7ICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIW11c2ljYU1lbnUuaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgbXVzaWNhTWVudS5wbGF5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDMwMCwgJ0ZvbmRvJyk7XHJcbiAgICAgICAgLy9sb2dvXHJcbiAgICAgICAgY29uc3QgbG9nbz10aGlzLmFkZC5pbWFnZSg0MDAsIDE4MCwgJ0xvZ28nKVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBsb2dvLnNldFNjYWxlKDEuMSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgbG9jYWxCdG4gPSB0aGlzLmFkZC5pbWFnZSgxNjAsIDQwMCwgXCJCVE5QbGF5ZXJcIilcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgICAgIGxvY2FsQnRuLnNldFNjYWxlKDAuMTkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL2xvY2FsQnRuLnNldFRpbnQoMHgwMGZmODgpOyAgIC8vIGFwbGljYSBjb2xvclxyXG4gICAgICAgICAgICAgICAgbG9jYWxCdG4uc2V0U2NhbGUoMC4yMCk7ICAgICAgIC8vIGF1bWVudGEgdGFtYcOxbyB1biAxMCVcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy9sb2NhbEJ0bi5zZXRUaW50KDB4MDBmZjAwKTsgICAvLyB2dWVsdmUgYWwgY29sb3Igb3JpZ2luYWxcclxuICAgICAgICAgICAgICAgIGxvY2FsQnRuLnNldFNjYWxlKDAuMTkpOyAgICAgICAgIC8vIHZ1ZWx2ZSBhbCB0YW1hw7FvIG9yaWdpbmFsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3NmeCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdTZWxlY3RDb2xvcicpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBvbmxpbmVCdG4gPSB0aGlzLmFkZC5pbWFnZSg2MjAsIDQwMCwgXCJCVE5PbmxpbmVcIilcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgICAgIG9ubGluZUJ0bi5zZXRTY2FsZSgwLjE5KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy9sb2NhbEJ0bi5zZXRUaW50KDB4MDBmZjg4KTsgICAvLyBhcGxpY2EgY29sb3JcclxuICAgICAgICAgICAgICAgIG9ubGluZUJ0bi5zZXRTY2FsZSgwLjIwKTsgICAgICAgLy8gYXVtZW50YSB0YW1hw7FvIHVuIDEwJVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL2xvY2FsQnRuLnNldFRpbnQoMHgwMGZmMDApOyAgIC8vIHZ1ZWx2ZSBhbCBjb2xvciBvcmlnaW5hbFxyXG4gICAgICAgICAgICAgICAgb25saW5lQnRuLnNldFNjYWxlKDAuMTkpOyAgICAgICAgIC8vIHZ1ZWx2ZSBhbCB0YW1hw7FvIG9yaWdpbmFsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3NmeCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdPbmxpbmVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCB0dXRvcmlhbEJ0biA9IHRoaXMuYWRkLmltYWdlKDE2MCw1MTcsJ0JUTlR1dG9yaWFsJykuc2V0T3JpZ2luKDAuNSkuc2V0U2NhbGUoMC4zKVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vbG9jYWxCdG4uc2V0VGludCgweDAwZmY4OCk7ICAgLy8gYXBsaWNhIGNvbG9yXHJcbiAgICAgICAgICAgICAgICB0dXRvcmlhbEJ0bi5zZXRTY2FsZSgwLjMzKTsgICAgICAgLy8gYXVtZW50YSB0YW1hw7FvIHVuIDEwJVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL2xvY2FsQnRuLnNldFRpbnQoMHgwMGZmMDApOyAgIC8vIHZ1ZWx2ZSBhbCBjb2xvciBvcmlnaW5hbFxyXG4gICAgICAgICAgICAgICAgdHV0b3JpYWxCdG4uc2V0U2NhbGUoMC4zKTsgICAgICAgICAvLyB2dWVsdmUgYWwgdGFtYcOxbyBvcmlnaW5hbFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdzZngnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnVHV0b3JpYWxTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBjcmVkaXRCdG4gPSB0aGlzLmFkZC5pbWFnZSg2MjAsIDUxMCwgXCJCVE5DcmVkaXRcIilcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vbG9jYWxCdG4uc2V0VGludCgweDAwZmY4OCk7ICAgLy8gYXBsaWNhIGNvbG9yXHJcbiAgICAgICAgICAgICAgICBjcmVkaXRCdG4uc2V0U2NhbGUoMS4xKTsgICAgICAgLy8gYXVtZW50YSB0YW1hw7FvIHVuIDEwJVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL2xvY2FsQnRuLnNldFRpbnQoMHgwMGZmMDApOyAgIC8vIHZ1ZWx2ZSBhbCBjb2xvciBvcmlnaW5hbFxyXG4gICAgICAgICAgICAgICAgY3JlZGl0QnRuLnNldFNjYWxlKDEpOyAgICAgICAgIC8vIHZ1ZWx2ZSBhbCB0YW1hw7FvIG9yaWdpbmFsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3NmeCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdDcmVkaXRTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBvcHRpb25zQnRuID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCA0NjAsICdCVE5PcGNpb25lcycpXHJcbiAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICBvcHRpb25zQnRuLnNldFNjYWxlKDAuMTkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL2xvY2FsQnRuLnNldFRpbnQoMHgwMGZmODgpOyAgIC8vIGFwbGljYSBjb2xvclxyXG4gICAgICAgICAgICAgICAgb3B0aW9uc0J0bi5zZXRTY2FsZSgwLjIwKTsgICAgICAgLy8gYXVtZW50YSB0YW1hw7FvIHVuIDEwJVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL2xvY2FsQnRuLnNldFRpbnQoMHgwMGZmMDApOyAgIC8vIHZ1ZWx2ZSBhbCBjb2xvciBvcmlnaW5hbFxyXG4gICAgICAgICAgICAgICAgb3B0aW9uc0J0bi5zZXRTY2FsZSgwLjE5KTsgICAgICAgICAvLyB2dWVsdmUgYWwgdGFtYcOxbyBvcmlnaW5hbFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdzZngnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnT3B0aW9uc1NjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNlbGVjdENvbG9yIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdTZWxlY3RDb2xvcicpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdGb25kbycsICdpbWFnZW5lcy9Gb25kby5qcGcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCYXNlUmVkJywgJ2ltYWdlbmVzL1RhbnF1ZVJvam9DVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1RvcnJldGFSZWQnLCAnaW1hZ2VuZXMvQ2Fub25Sb2pvQ1cucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmFzZUdyZWVuJywgJ2ltYWdlbmVzL1RhbnF1ZVZlcmRlQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdUb3JyZXRhR3JlZW4nLCAnaW1hZ2VuZXMvQ2Fub25WZXJkZUNXLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0Jhc2VCbHVlJywgJ2ltYWdlbmVzL1RhbnF1ZUF6dWxDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1RvcnJldGFCbHVlJywgJ2ltYWdlbmVzL0Nhbm9uQXp1bENXLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0Jhc2VZZWxsb3cnLCAnaW1hZ2VuZXMvVGFucXVlQW1hcmlsbG9DVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1RvcnJldGFZZWxsb3cnLCAnaW1hZ2VuZXMvQ2Fub25BbWFyaWxsb0NXLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BsYXknLCAnaW1hZ2VuZXMvUExBWUNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQlROTWVudScsICdpbWFnZW5lcy9NZW51Q1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQJywgJ2ltYWdlbmVzL1Bjdy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJzEnLCAnaW1hZ2VuZXMvMUNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnMicsICdpbWFnZW5lcy8yQ1cucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQnViYmxlJywgJ2ltYWdlbmVzL0J1cmJ1amFDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0VsaWdlJywgJ2ltYWdlbmVzL0VsaWdlQ29sb3JDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3NmeCcsICdhdWRpby9tZW51c2Z4Lm1wMycpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gRm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDMwMCwgJ0ZvbmRvJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDAwLDUwLCdFbGlnZScpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDAuNCk7XHJcblxyXG4gICAgICAgIC8vIEFob3JhIGVtcGV6YW1vcyBTSU4gY29sb3IgZWxlZ2lkb1xyXG4gICAgICAgIHRoaXMuY29sb3JQbGF5ZXIxID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNvbG9yUGxheWVyMiA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vIC0tLSBUw610dWxvcyAtLS1cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSgxOTAsIDEyMCwgJ1AnKS5zZXRPcmlnaW4oMC41KS5zZXRTY2FsZSgwLjI1KTtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSgyNDAsIDEyMiwgJzEnKS5zZXRPcmlnaW4oMC41KS5zZXRTY2FsZSgwLjI1KTsgIFxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDU5MCwgMTIwLCAnUCcpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDAuMjUpO1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDY0MCwgMTIwLCAnMicpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDAuMjUpO1xyXG5cclxuICAgICAgICB0aGlzLnAxT3B0aW9ucyA9IFtdO1xyXG4gICAgICAgIHRoaXMucDJPcHRpb25zID0gW107XHJcblxyXG4gICAgICAgIGNvbnN0IGNyZWF0ZVRhbmtPcHRpb24gPSAoeCwgeSwgY29sb3JLZXksIG9uQ2xpY2spID0+IHtcclxuICAgICAgICAgICAgLy8gUmVjdMOhbmd1bG8gZGUgc2VsZWNjacOzbiAoaW52aXNpYmxlIGFsIGluaWNpbylcclxuICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICBjb25zdCBiYXNlID0gdGhpcy5hZGQuaW1hZ2UoMCwgMCwgYEJhc2Uke2NvbG9yS2V5fWApLnNldFNjYWxlKDEuMikuc2V0RGVwdGgoMTApO1xyXG4gICAgICAgICAgICBjb25zdCB0dXJyZXQgPSB0aGlzLmFkZC5pbWFnZSgwLCAwLCBgVG9ycmV0YSR7Y29sb3JLZXl9YCkuc2V0U2NhbGUoMS4yKS5zZXRPcmlnaW4oMC4yLDAuNSkuc2V0RGVwdGgoMTUpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgaGlnaGxpZ2h0ID0gdGhpcy5hZGQuaW1hZ2UoMCwgMCwgXCJCdWJibGVcIikuc2V0U2NhbGUoMS42KS5zZXREZXB0aCg0MCk7XHJcbiAgICAgICAgICAgIGhpZ2hsaWdodC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuYWRkLmNvbnRhaW5lcih4LCB5LCBbYmFzZSwgdHVycmV0LGhpZ2hsaWdodF0pO1xyXG4gICAgICAgICAgICBjb250YWluZXIuc2V0U2l6ZShiYXNlLndpZHRoICogMS4yLCBiYXNlLmhlaWdodCAqIDEuMik7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgICAgICBjb250YWluZXIuc2V0RGF0YSgnY29sb3JLZXknLCBjb2xvcktleSk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zZXREYXRhKCdzZWxlY3RlZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnNldERhdGEoJ2Rpc2FibGVkJywgZmFsc2UpO1xyXG4gICAgICAgICAgICBjb250YWluZXIuc2V0RGF0YSgnaGlnaGxpZ2h0JywgaGlnaGxpZ2h0KTtcclxuXHJcblxyXG4gICAgICAgICAgICBjb250YWluZXIub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy9sb2NhbEJ0bi5zZXRUaW50KDB4MDBmZjg4KTsgICAvLyBhcGxpY2EgY29sb3JcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZXRTY2FsZSgxLjMpOyAgICAgICAvLyBhdW1lbnRhIHRhbWHDsW8gdW4gMTAlXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vbG9jYWxCdG4uc2V0VGludCgweDAwZmYwMCk7ICAgLy8gdnVlbHZlIGFsIGNvbG9yIG9yaWdpbmFsXHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIuc2V0U2NhbGUoMS4wKTsgICAgICAgICAvLyB2dWVsdmUgYWwgdGFtYcOxbyBvcmlnaW5hbFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gQ2xpY2sgcGFyYSBzZWxlY2Npb25hclxyXG4gICAgICAgICAgICBjb250YWluZXIub24oJ3BvaW50ZXJ1cCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChjb250YWluZXIuZ2V0RGF0YSgnZGlzYWJsZWQnKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgb25DbGljayhjb2xvcktleSwgY29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBjb250YWluZXI7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gQ29vcmRlbmFkYXNcclxuICAgICAgICBjb25zdCBwMVggPSAyMDA7XHJcbiAgICAgICAgY29uc3QgcDJYID0gNjAwO1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0WSA9IDE4MDtcclxuICAgICAgICBjb25zdCBnYXBZID0gMTAwO1xyXG4gICAgICAgIGNvbnN0IGNvbG9ycyA9IFsnUmVkJywgJ0JsdWUnLCAnR3JlZW4nLCAnWWVsbG93J107XHJcblxyXG4gICAgICAgIC8vIFBsYXllciAxXHJcbiAgICAgICAgY29sb3JzLmZvckVhY2goKGNvbG9yLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wdCA9IGNyZWF0ZVRhbmtPcHRpb24ocDFYLCBzdGFydFkgKyBpICogZ2FwWSwgY29sb3IsIChrZXksIG9wdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvclBsYXllcjEgPSBrZXk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hcmtTZWxlY3RlZCh0aGlzLnAxT3B0aW9ucywgb3B0aW9uKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRGlzYWJsZWRTdGF0ZXMoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucDFPcHRpb25zLnB1c2gob3B0KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gUGxheWVyIDJcclxuICAgICAgICBjb2xvcnMuZm9yRWFjaCgoY29sb3IsIGkpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb3B0ID0gY3JlYXRlVGFua09wdGlvbihwMlgsIHN0YXJ0WSArIGkgKiBnYXBZLCBjb2xvciwgKGtleSwgb3B0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yUGxheWVyMiA9IGtleTtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFya1NlbGVjdGVkKHRoaXMucDJPcHRpb25zLCBvcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVEaXNhYmxlZFN0YXRlcygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5wMk9wdGlvbnMucHVzaChvcHQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gUGxheVxyXG4gICAgICAgIGNvbnN0IHBsYXlCdG4gPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDMyMCwgXCJQbGF5XCIpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgICAgICBwbGF5QnRuLnNldFNjYWxlKDAuMylcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vbG9jYWxCdG4uc2V0VGludCgweDAwZmY4OCk7ICAgLy8gYXBsaWNhIGNvbG9yXHJcbiAgICAgICAgICAgICAgICBwbGF5QnRuLnNldFNjYWxlKDAuMzMpOyAgICAgICAvLyBhdW1lbnRhIHRhbWHDsW8gdW4gMTAlXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vbG9jYWxCdG4uc2V0VGludCgweDAwZmYwMCk7ICAgLy8gdnVlbHZlIGFsIGNvbG9yIG9yaWdpbmFsXHJcbiAgICAgICAgICAgICAgICBwbGF5QnRuLnNldFNjYWxlKDAuMyk7ICAgICAgICAgLy8gdnVlbHZlIGFsIHRhbWHDsW8gb3JpZ2luYWxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcGxheUJ0bi5vbigncG9pbnRlcnVwJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuY29sb3JQbGF5ZXIxIHx8ICF0aGlzLmNvbG9yUGxheWVyMiB8fCB0aGlzLmNvbG9yUGxheWVyMSA9PT0gdGhpcy5jb2xvclBsYXllcjIpIHJldHVybjtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdzZngnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdHYW1lU2NlbmUnLCB7XHJcbiAgICAgICAgICAgICAgICBjb2xvclBsYXllcjE6IHRoaXMuY29sb3JQbGF5ZXIxLFxyXG4gICAgICAgICAgICAgICAgY29sb3JQbGF5ZXIyOiB0aGlzLmNvbG9yUGxheWVyMlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIHZvbHZlclxyXG4gICAgICAgIGNvbnN0IG1lbnVCdG4gPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDUyNSwgJ0JUTk1lbnUnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuMylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbWVudUJ0bi5zZXRTY2FsZSgwLjM1KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbWVudUJ0bi5zZXRTY2FsZSgwLjMpKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdzZngnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE1hcmNhIHNlbGVjY2lvbmFkb1xyXG4gICAgbWFya1NlbGVjdGVkKG9wdGlvbkFycmF5LCBzZWxlY3RlZE9wdGlvbikge1xyXG4gICAgICAgIG9wdGlvbkFycmF5LmZvckVhY2gobyA9PiB7XHJcbiAgICAgICAgICAgIG8uc2V0RGF0YSgnc2VsZWN0ZWQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIG8uZ2V0RGF0YSgnaGlnaGxpZ2h0Jykuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc2VsZWN0ZWRPcHRpb24uc2V0RGF0YSgnc2VsZWN0ZWQnLCB0cnVlKTtcclxuICAgICAgICBzZWxlY3RlZE9wdGlvbi5nZXREYXRhKCdoaWdobGlnaHQnKS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFjdHVhbGl6YSBlc3RhZG9zXHJcbiAgICB1cGRhdGVEaXNhYmxlZFN0YXRlcygpIHtcclxuICAgICAgICB0aGlzLnAxT3B0aW9ucy5mb3JFYWNoKG8gPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBrZXkgPSBvLmdldERhdGEoJ2NvbG9yS2V5Jyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHNob3VsZERpc2FibGUgPSAodGhpcy5jb2xvclBsYXllcjIgJiYga2V5ID09PSB0aGlzLmNvbG9yUGxheWVyMik7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0T3B0aW9uRGlzYWJsZWQobywgc2hvdWxkRGlzYWJsZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucDJPcHRpb25zLmZvckVhY2gobyA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IG8uZ2V0RGF0YSgnY29sb3JLZXknKTtcclxuICAgICAgICAgICAgY29uc3Qgc2hvdWxkRGlzYWJsZSA9ICh0aGlzLmNvbG9yUGxheWVyMSAmJiBrZXkgPT09IHRoaXMuY29sb3JQbGF5ZXIxKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRPcHRpb25EaXNhYmxlZChvLCBzaG91bGREaXNhYmxlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRPcHRpb25EaXNhYmxlZChvcHRpb24sIGRpc2FibGVkKSB7XHJcbiAgICAgICAgb3B0aW9uLnNldERhdGEoJ2Rpc2FibGVkJywgZGlzYWJsZWQpO1xyXG5cclxuICAgICAgICBpZiAoZGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgb3B0aW9uLmRpc2FibGVJbnRlcmFjdGl2ZSgpO1xyXG4gICAgICAgICAgICBvcHRpb24uc2V0QWxwaGEoMC4zKTtcclxuICAgICAgICAgICAgb3B0aW9uLnNldERhdGEoJ3NlbGVjdGVkJywgZmFsc2UpO1xyXG4gICAgICAgICAgICBvcHRpb24uZ2V0RGF0YSgnaGlnaGxpZ2h0Jykuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgb3B0aW9uLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgb3B0aW9uLnNldEFscGhhKDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBUdXJyZXQgfSBmcm9tICcuL1R1cnJldCc7XHJcblxyXG5leHBvcnQgY2xhc3MgQnVsbGV0IHtcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCB4LCB5LCB0dXJyZXQsIGFuZ2xlLCBjb2xvcikge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgICAgIHRoaXMubXlUdXJyZXQgPSB0dXJyZXQ7XHJcbiAgICAgICAgdGhpcy5kaXIgPSBhbmdsZTtcclxuICAgICAgICB0aGlzLmJhc2VTcGVlZCA9IDIwMDtcclxuICAgICAgICB0aGlzLnNwZWVkTXVsdCA9IDE7XHJcbiAgICAgICAgdGhpcy5jYW5Db2xsaWRlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmJvdW5jZXMgPSAzO1xyXG4gICAgICAgIHRoaXMuY2FuRGFtYWdlID0gZmFsc2U7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IHRoaXMuY2FuRGFtYWdlID0gdHJ1ZTsgfSwgMjAwKTsgLy9Fc3RvIGVzIG5lY2VzYXJpbyBvIGxvcyB0YW5xdWVzIHNlIGRhw7FhcsOhbiBhbCBpbnN0YW50ZSBhbCBkaXNwYXJhciAvLyBOTyBUT0NBUlxyXG5cclxuICAgICAgICBpZiAodGhpcy5jb2xvciA9PT0gXCJSZWRcIikge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdCYWxhUmVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMuY29sb3I9PT1cIkdyZWVuXCIpe1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdCYWxhR3JlZW4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5jb2xvcj09PVwiQmx1ZVwiKXtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSh4LCB5LCAnQmFsYUJsdWUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5jb2xvcj09PVwiWWVsbG93XCIpe1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdCYWxhWWVsbG93Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3ByaXRlLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0Q29sbGlkZVdvcmxkQm91bmRzKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFNpemUoMjAsMTUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldEJvdW5jZSgwLjgpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnJvdGF0aW9uPXRoaXMuZGlyO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldERlcHRoKDUpO1xyXG4gICAgICAgIHRoaXMuc2V0RGlyKCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5ldmVudHMub24oJ3VwZGF0ZScsIHRoaXMudXBkYXRlLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZUNvbGxpc2lvbnMoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXREaXIoKSB7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHkoXHJcbiAgICAgICAgICAgIE1hdGguY29zKHRoaXMuZGlyKSAqIHRoaXMuYmFzZVNwZWVkICogdGhpcy5zcGVlZE11bHQsXHJcbiAgICAgICAgICAgIE1hdGguc2luKHRoaXMuZGlyKSAqIHRoaXMuYmFzZVNwZWVkICogdGhpcy5zcGVlZE11bHRcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgIC8vIFNvbG8gc2kgbGEgYmFsYSB0aWVuZSBjdWVycG8gZsOtc2ljb1xyXG4gICAgICAgIGlmICh0aGlzLnNwcml0ZS5ib2R5KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZ4ID0gdGhpcy5zcHJpdGUuYm9keS52ZWxvY2l0eS54O1xyXG4gICAgICAgICAgICBjb25zdCB2eSA9IHRoaXMuc3ByaXRlLmJvZHkudmVsb2NpdHkueTtcclxuXHJcbiAgICAgICAgICAgIC8vIGF0YW4yIGRldnVlbHZlIGVsIMOhbmd1bG8gZW4gcmFkaWFuZXMgc2Vnw7puIGxhIGRpcmVjY2nDs24gZGVsIHZlY3RvclxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5yb3RhdGlvbiA9IE1hdGguYXRhbjIodnksIHZ4KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoJ3NmeF9yZWJvdGUnLCB7ICAgICAgICBcclxuICAgICAgICAgICAgdm9sdW1lOiAwLjUsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5ib3VuY2VzLT0xO1xyXG4gICAgICAgIGlmICh0aGlzLmJvdW5jZXM8MSl7XHJcbiAgICAgICAgdGhpcy5kZXN0cm95QnVsbGV0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRlc3Ryb3lCdWxsZXQoKSB7ICAgICAgICBcclxuICAgICAgICB0aGlzLnNjZW5lLmV2ZW50cy5vZmYoJ3VwZGF0ZScsIHRoaXMudXBkYXRlLCB0aGlzKTsgICAgICAgIFxyXG4gICAgICAgIHRoaXMuc3ByaXRlLmRlc3Ryb3koKTsgICAgXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQ29sbGlzaW9ucygpIHtcclxuICAgIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zY2VuZS5sZWZ0LCB0aGlzLnNwcml0ZSwgKCkgPT4geyB0aGlzLmRlc3Ryb3koKTsgfSk7XHJcbiAgICB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc2NlbmUucmlnaHQsIHRoaXMuc3ByaXRlLCAoKSA9PiB7IHRoaXMuZGVzdHJveSgpOyB9KTtcclxuICAgIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zY2VuZS50b3AsIHRoaXMuc3ByaXRlLCAoKSA9PiB7IHRoaXMuZGVzdHJveSgpOyB9KTtcclxuICAgIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zY2VuZS5ib3R0b20sIHRoaXMuc3ByaXRlLCAoKSA9PiB7IHRoaXMuZGVzdHJveSgpOyB9KTtcclxuICAgIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zY2VuZS5ibG9jazEsIHRoaXMuc3ByaXRlLCAoKSA9PiB7IHRoaXMuZGVzdHJveSgpOyB9KTtcclxuICAgIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zY2VuZS5ibG9jazIsIHRoaXMuc3ByaXRlLCAoKSA9PiB7IHRoaXMuZGVzdHJveSgpOyB9KTtcclxuICAgIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zY2VuZS5jZW50cm8xLCB0aGlzLnNwcml0ZSwgKCkgPT4geyB0aGlzLmRlc3Ryb3koKTsgfSk7XHJcbiAgICB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc2NlbmUuY2VudHJvMiwgdGhpcy5zcHJpdGUsICgpID0+IHsgdGhpcy5kZXN0cm95KCk7IH0pO1xyXG4gICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNjZW5lLmNlbnRybzMsIHRoaXMuc3ByaXRlLCAoKSA9PiB7IHRoaXMuZGVzdHJveSgpOyB9KTsgXHJcbiAgICB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc2NlbmUucGFsbzEsIHRoaXMuc3ByaXRlLCAoKSA9PiB7IHRoaXMuZGVzdHJveSgpOyB9KTsgXHJcbiAgICB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc2NlbmUucGFsbzIsIHRoaXMuc3ByaXRlLCAoKSA9PiB7IHRoaXMuZGVzdHJveSgpOyB9KTsgXHJcbiAgICB0aGlzLnNjZW5lLnBsYXllcnMuZm9yRWFjaCh0YW5rID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNwcml0ZSwgdGFuay5zcHJpdGUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbkRhbWFnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhbmsucmVjZWl2ZURhbWFnZSgxKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3lCdWxsZXQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBCdWxsZXQgfSBmcm9tICcuL0J1bGxldCc7XHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuZXhwb3J0IGNsYXNzIFR1cnJldCB7XHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgdGFuaywgeCwgeSwgY29sb3IpIHtcclxuICAgICAgICB0aGlzLm15VGFuayA9IHRhbms7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuICAgICAgICBpZih4PjQwMCl7XHJcbiAgICAgICAgICAgIHRoaXMuYW5nbGUgPSBNYXRoLlBJO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLmFuZ2xlID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcclxuICAgICAgICB0aGlzLnJvdGF0ZVNwZWVkID0gUGhhc2VyLk1hdGguRGVnVG9SYWQoMSk7XHJcbiAgICAgICAgdGhpcy5jYW5TaG9vdCA9IGZhbHNlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh4ID4gNDAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGVyZmVjdEFuZ2xlID0gTWF0aC5QSTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5wZXJmZWN0QW5nbGUgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxlZnRBbmdsZSA9IDc1O1xyXG4gICAgICAgIHRoaXMucmlnaHRBbmdsZSA9IDEwNTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY29sb3IgPT09IFwiUmVkXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSh4LCB5LCAnVG9ycmV0YVJlZCcpO1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRPcmlnaW4oMC4xNSwgMC41KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY29sb3IgPT09IFwiR3JlZW5cIikge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdUb3JyZXRhR3JlZW4nKTtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0T3JpZ2luKDAuMjAsIDAuNSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmNvbG9yID09PSBcIkJsdWVcIikge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdUb3JyZXRhQmx1ZScpO1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRPcmlnaW4oMC4xNSwgMC41KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY29sb3IgPT09IFwiWWVsbG93XCIpIHtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSh4LCB5LCAnVG9ycmV0YVllbGxvdycpO1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRPcmlnaW4oMC4yLCAwLjUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNwcml0ZS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuU2V0UG9zaXRpb24gPSAoeCwgeSkgPT4geyB0aGlzLnNwcml0ZS54ID0geDsgdGhpcy5zcHJpdGUueSA9IHk7IH07XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0RGVwdGgoMTApO1xyXG4gICAgICAgIHRoaXMucG93ZXJVcEJ1bGxldCA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnJvdGF0aW9uID0gdGhpcy5hbmdsZTtcclxuICAgICAgICB0aGlzLmZpcmVFdmVudCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcm90YXRlKCkge1xyXG4gICAgICAgIHRoaXMuYWltKCk7XHJcbiAgICAgICAgdGhpcy5hbmdsZSA9IHRoaXMucGVyZmVjdEFuZ2xlO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnJvdGF0aW9uID0gdGhpcy5hbmdsZTtcclxuICAgIH1cclxuXHJcbiAgICBmaXJlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5teVRhbmsuY2FuU2hvb3QpIHJldHVybjsgLy8gUG93ZXItdXAgbm8gcHVlZGUgZGlzcGFyYXJcclxuICAgICAgICBcclxuICAgICAgICBpZiAodGhpcy5wb3dlclVwQnVsbGV0ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNhblNob290KSB7XHJcbiAgICAgICAgICAgICAgICBuZXcgQnVsbGV0KFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5teVRhbmsuR2V0WCgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubXlUYW5rLkdldFkoKSxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3ByaXRlLnJvdGF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sb3JcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoJ3NmeF9nYW1lJywgeyB2b2x1bWU6IDAuMyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaG9vdChhKSB7XHJcbiAgICAgICAgdGhpcy5jYW5TaG9vdCA9IGE7XHJcbiAgICAgICAgdGhpcy5zdGFydEF1dG9GaXJlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VGFyZ2V0KHRhcikge1xyXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyO1xyXG4gICAgfVxyXG5cclxuICAgIGFpbSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMudGFyZ2V0KSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IGR4ID0gdGhpcy50YXJnZXQuR2V0WCgpIC0gdGhpcy5zcHJpdGUueDtcclxuICAgICAgICBjb25zdCBkeSA9IHRoaXMudGFyZ2V0LkdldFkoKSAtIHRoaXMuc3ByaXRlLnk7XHJcblxyXG4gICAgICAgIHRoaXMucGVyZmVjdEFuZ2xlID0gTWF0aC5hdGFuMihkeSwgZHgpO1xyXG4gICAgICAgIHRoaXMubGVmdEFuZ2xlID0gdGhpcy5wZXJmZWN0QW5nbGUgKyBQaGFzZXIuTWF0aC5EZWdUb1JhZCgzMCk7XHJcbiAgICAgICAgdGhpcy5yaWdodEFuZ2xlID0gdGhpcy5wZXJmZWN0QW5nbGUgLSBQaGFzZXIuTWF0aC5EZWdUb1JhZCgzMCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g8J+UuSBpbmljaWFyIGRpc3Bhcm8gYXV0b23DoXRpY28gKHNvbG8gdW5hIHZleilcclxuICAgIHN0YXJ0QXV0b0ZpcmUoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmZpcmVFdmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLmZpcmVFdmVudCA9IHRoaXMuc2NlbmUudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgICAgICBkZWxheTogMTAwMCwgICAgICAgICAgLy8gY2FkYSBzZWd1bmRvXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4gdGhpcy5maXJlKCksXHJcbiAgICAgICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95KCkgeyAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMuZmlyZUV2ZW50KSB7ICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMuZmlyZUV2ZW50LnJlbW92ZShmYWxzZSk7ICAgICAgICBcclxuICAgICAgICB9ICAgICAgICBcclxuICAgIHRoaXMuc3ByaXRlLmRlc3Ryb3koKTsgICAgICAgICBcclxuICAgIHRoaXMudGFyZ2V0ID0gbnVsbDsgICAgICAgIFxyXG4gICAgdGhpcy5teVRhbmsgPSBudWxsOyAgICBcclxuICAgIH1cclxuXHJcbiAgICBzZXRhbHBoYShhbCl7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0QWxwaGEoYWwpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgVHVycmV0IH0gZnJvbSAnLi9UdXJyZXQnO1xyXG5leHBvcnQgY2xhc3MgVGFuayB7XHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgaWQsIHgsIHksY29sb3IpIHtcclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuZGlyWCA9IDA7XHJcbiAgICAgICAgdGhpcy5kaXJZID0gMDtcclxuICAgICAgICB0aGlzLmJhc2VTcGVlZCA9IDEyMDtcclxuICAgICAgICB0aGlzLnNwZWVkTXVsdGlwbGllciA9IDE7XHJcbiAgICAgICAgdGhpcy54PXg7XHJcbiAgICAgICAgdGhpcy55PXk7XHJcbiAgICAgICAgdGhpcy5jb2xvcj1jb2xvcjtcclxuICAgICAgICB0aGlzLnRhcmdldD1udWxsOy8vZG9uZGUgYXB1bnRhXHJcbiAgICAgICAgdGhpcy52aWRhcyA9IDU7XHJcbiAgICAgICAgdGhpcy5pbnZ1bG5lcmFibGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNhblNob290ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm5vU2hvb3RVbnRpbCA9IDA7XHJcbiAgICAgICAgaWYodGhpcy5jb2xvcj09PVwiUmVkXCIpe1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdCYXNlUmVkJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFNpemUoNDAsMzUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0aGlzLmNvbG9yPT09XCJHcmVlblwiKXtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSh4LCB5LCAnQmFzZUdyZWVuJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFNpemUoNDIsMzUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0aGlzLmNvbG9yPT09XCJCbHVlXCIpe1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdCYXNlQmx1ZScpO1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRTaXplKDQ1LDM1KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5jb2xvcj09PVwiWWVsbG93XCIpe1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdCYXNlWWVsbG93Jyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFNpemUoNDUsMzUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRDb2xsaWRlV29ybGRCb3VuZHModHJ1ZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXREZXB0aCg4KTtcclxuICAgICAgICB0aGlzLnR1cnJldCA9IG5ldyBUdXJyZXQoc2NlbmUsdGhpcyx4ICx5LHRoaXMuY29sb3IgKTtcclxuXHJcbiAgICAgICAgdGhpcy5HZXRYID0gKCk9PntyZXR1cm4gdGhpcy5zcHJpdGUueDt9O1xyXG4gICAgICAgIHRoaXMuR2V0WSA9ICgpPT57cmV0dXJuIHRoaXMuc3ByaXRlLnk7fTtcclxuICAgIH1cclxuXHJcbiAgICBTZXRUYXJnZXQodGFyKXtcclxuICAgICAgICB0aGlzLnRhcmdldD10YXI7XHJcbiAgICAgICAgdGhpcy50dXJyZXQuc2V0VGFyZ2V0KHRoaXMudGFyZ2V0KTtcclxuICAgIH1cclxuICAgIFxyXG5yZWNlaXZlRGFtYWdlKGFtb3VudCkgeyAgICAgICBcclxuICAgIGlmICh0aGlzLmludnVsbmVyYWJsZSkgcmV0dXJuOyAgICAgICBcclxuICAgICAgICB0aGlzLnZpZGFzIC09IGFtb3VudDsgICAgICBcclxuICAgICAgICB0aGlzLnNjZW5lLmFjdHVhbGl6YXJWaWRhcyh0aGlzLmlkLCB0aGlzLnZpZGFzKTsgICBcclxuICAgICAgICBpZiAodGhpcy52aWRhcyA8PSAwKSB7ICAgICAgICAgIFxyXG4gICAgICAgIHRoaXMuZGVzdHJveSgpOyAgICAgICAgXHJcbiAgICB9IFxyXG5lbHNlIHsgICAgICAgICAgICBcclxuICAgIHRoaXMubWFrZUludnVsbmVyYWJsZSgpOyAgICAgICAgXHJcbn0gICAgXHJcbn1cclxuICAgIFxyXG5tYWtlSW52dWxuZXJhYmxlKCkge1xyXG4gICAgdGhpcy5pbnZ1bG5lcmFibGUgPSB0cnVlO1xyXG4gICAgbGV0IGJsaW5rQ291bnQgPSAwO1xyXG4gICAgdGhpcy5zY2VuZS50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICBkZWxheTogMjAwLFxyXG4gICAgICAgIHJlcGVhdDogNSxcclxuICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRBbHBoYSh0aGlzLnNwcml0ZS5hbHBoYSA9PT0gMSA/IDAuMyA6IDEpO1xyXG4gICAgICAgICAgICB0aGlzLnR1cnJldC5zZXRhbHBoYSh0aGlzLnR1cnJldC5zcHJpdGUuYWxwaGEgPT09IDEgPyAwLjMgOiAxKTtcclxuICAgICAgICAgICAgYmxpbmtDb3VudCsrO1xyXG4gICAgICAgICAgICBpZiAoYmxpbmtDb3VudCA+PSA1KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRBbHBoYSgxKTsgXHJcbiAgICAgICAgICAgICAgICB0aGlzLnR1cnJldC5zZXRhbHBoYSgxKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW52dWxuZXJhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuYXBwbHlOb1Nob290KG1zKSB7XHJcbiAgICBjb25zdCBub3cgPSB0aGlzLnNjZW5lLnRpbWUubm93O1xyXG4gICAgdGhpcy5ub1Nob290VW50aWwgPSBNYXRoLm1heCh0aGlzLm5vU2hvb3RVbnRpbCwgbm93ICsgbXMpO1xyXG4gICAgdGhpcy5jYW5TaG9vdCA9IGZhbHNlO1xyXG5cclxuICAgIHRoaXMuc2NlbmUudGltZS5kZWxheWVkQ2FsbChtcywgKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnNjZW5lLnRpbWUubm93ID49IHRoaXMubm9TaG9vdFVudGlsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FuU2hvb3QgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5kZXN0cm95KCkge1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLnR1cnJldC5kZXN0cm95KCk7XHJcbn1cclxufSIsIlxyXG5cclxuZXhwb3J0IGNsYXNzIFBvd2VyVXAge1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIHgsIHksIHR5cGUsIGdlbmVyYXRvcikge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmdlbmVyYXRvciA9IGdlbmVyYXRvcjtcclxuICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTsgXHJcbiAgICAgICAgaWYgKHR5cGU9PT0nSGVhbCcpXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlID0gdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoeCwgeSwgJ1ZpZGEnKS5zZXRTY2FsZSgwLjA1KTtcclxuICAgICAgICBpZiAodHlwZT09PSdTcGVlZCcpXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlID0gdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoeCwgeSwgJ1ZlbG9jaWRhZCcpLnNldFNjYWxlKDEuMSk7XHJcbiAgICAgICAgaWYgKHR5cGU9PT0nU2hpZWxkJylcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSh4LCB5LCAnRXNjdWRvJykuc2V0U2NhbGUoMS4xKTtcclxuICAgICAgICBpZiAodHlwZSA9PT0gJ05vU2hvb3QnKVxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdOb0Z1ZWdvQW1pZ28nKS5zZXRTY2FsZSgxLjEpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldERlcHRoKDEpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQ29sbGlzdGlvbnMoKTtcclxuICAgICAgICB0aGlzLnNjZW5lLnBvd2VyVXBzR3JvdXAuYWRkKHRoaXMuc3ByaXRlKTtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGFwbHlQb3dlclVwKHRhbmssIHR5cGUpe1xyXG4gICAgICAgIHRoaXMuc2NlbmUuc291bmQucGxheSgnc2Z4X3Bvd2VydXAnLCB7IHZvbHVtZTogMC43IH0pO1xyXG4gICAgICAgIHRoaXMuc2NlbmUudXNlUG93ZXJVcHMgPSB0cnVlO1xyXG4gICAgICAgIHN3aXRjaCh0eXBlKXtcclxuICAgICAgICAgICAgY2FzZSAnSGVhbCc6XHJcbiAgICAgICAgICAgICAgICBpZiAodGFuay52aWRhczw1KXtcclxuICAgICAgICAgICAgICAgICAgICB0YW5rLnZpZGFzKz0xO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuYWN0dWFsaXphclZpZGFzKHRhbmsuaWQsIHRhbmsudmlkYXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ1NwZWVkJzpcclxuICAgICAgICAgICAgICAgIHRhbmsuc3BlZWRNdWx0aXBsaWVyPTEuNTsgICAgXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnRpbWUuZGVsYXllZENhbGwoNTAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhbmsuc3BlZWRNdWx0aXBsaWVyPTE7XHJcbiAgICAgICAgICAgICAgICB9LCBbXSwgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICBicmVhazsgIFxyXG4gICAgICAgICAgICBjYXNlICdTaGllbGQnOlxyXG4gICAgICAgICAgICAgICAgdGFuay5pbnZ1bG5lcmFibGUgPSB0cnVlOyAgICBcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUudGltZS5kZWxheWVkQ2FsbCg1MDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFuay5pbnZ1bG5lcmFibGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0sIFtdLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrOyAgXHJcbiAgICAgICAgICAgIGNhc2UgJ05vU2hvb3QnOlxyXG4gICAgICAgICAgICAgICAgdGFuay5hcHBseU5vU2hvb3QoNTAwMCk7IC8vIDUgc2VndW5kb3Mgc2luIGRpc3BhcmFyXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUNvbGxpc3Rpb25zKCkge1xyXG4gICAgdGhpcy5zY2VuZS5wbGF5ZXJzLmZvckVhY2godGFua0NvbGxlY3RvciA9PiB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNwcml0ZSwgdGFua0NvbGxlY3Rvci5zcHJpdGUsICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgIC8vIEJ1c2NhciByaXZhbFxyXG4gICAgICAgICAgICBsZXQgZW5lbXlUYW5rID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5wbGF5ZXJzLmZvckVhY2godCA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodCAhPT0gdGFua0NvbGxlY3RvcikgZW5lbXlUYW5rID0gdDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBTb2xvIG5lZ2F0aXZvcyBhbCByaXZhbFxyXG4gICAgICAgICAgICBjb25zdCBuZWdhdGl2ZVR5cGVzID0gbmV3IFNldChbJ05vU2hvb3QnXSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldFRhbmsgPSBuZWdhdGl2ZVR5cGVzLmhhcyh0aGlzLnR5cGUpXHJcbiAgICAgICAgICAgICAgICA/IChlbmVteVRhbmsgPz8gdGFua0NvbGxlY3RvcilcclxuICAgICAgICAgICAgICAgIDogdGFua0NvbGxlY3RvcjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYXBseVBvd2VyVXAodGFyZ2V0VGFuaywgdGhpcy50eXBlKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgdGhpcy5nZW5lcmF0b3IubWF4UG93ZXJVcHMgLT0gMTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG59IFxyXG4gICAiLCJcclxuaW1wb3J0IHsgUG93ZXJVcCB9IGZyb20gJy4vUG93ZXJVcC5qcyc7XHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3dlclVwR2VuZXJhdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLGludGVydmFsLCBvbmxpbmUpIHtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5pbnRlcnZhbD1pbnRlcnZhbDtcclxuICAgICAgICB0aGlzLm9ubGluZSA9IG9ubGluZTsgXHJcbiAgICAgICAgdGhpcy50eXBlcyA9IFsnSGVhbCcsICdTcGVlZCcsICdTaGllbGQnLCAnTm9TaG9vdCddO1xyXG4gICAgICAgIHRoaXMucG9zaXRpb25zWCA9IFsxMDAsNzAwLDcwMCwxMDAsNDAwXTtcclxuICAgICAgICB0aGlzLnBvc2l0aW9uc1kgPSBbMTUwLDUwMCwxNTAsNTAwLDMwMF07XHJcbiAgICAgICAgdGhpcy5tYXhQb3dlclVwcyA9IDA7XHJcbiAgICAgICAgaWYgKCF0aGlzLm9ubGluZSlcclxuICAgICAgICAgICAgdGhpcy5zdGFydEdlbmVyYXRpbmcoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydEdlbmVyYXRpbmcoKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICAgICAgZGVsYXk6IHRoaXMuaW50ZXJ2YWwsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB0aGlzLmdlbmVyYXRlUG93ZXJVcCgpLFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlzU3Bhd25WYWxpZCh4LCB5KSB7XHJcbiAgICAgICAgLy8gWm9uYSBpbnZpc2libGUgZGVsIHRhbWHDsW8gYXByb3hpbWFkbyBkZWwgcG93ZXItdXBcclxuICAgICAgICBjb25zdCB6b25lID0gdGhpcy5zY2VuZS5hZGQuem9uZSh4LCB5LCA0MCwgNDApO1xyXG4gICAgICAgIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuZXhpc3Rpbmcoem9uZSk7XHJcbiAgICAgICAgem9uZS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBTaSB0b2NhIGN1YWxxdWllciBtdXJvL29ic3TDoWN1bG8gPT4gbm8gdmFsZVxyXG4gICAgICAgIGNvbnN0IGhpdFdhbGwgPSB0aGlzLnNjZW5lLnBoeXNpY3Mub3ZlcmxhcCh6b25lLCB0aGlzLnNjZW5lLm9ic3RhY2xlcyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGhpdFBvd2VyVXAgPSB0aGlzLnNjZW5lLnBvd2VyVXBzR3JvdXBcclxuICAgICAgICAgICAgPyB0aGlzLnNjZW5lLnBoeXNpY3Mub3ZlcmxhcCh6b25lLCB0aGlzLnNjZW5lLnBvd2VyVXBzR3JvdXApXHJcbiAgICAgICAgICAgIDogZmFsc2U7XHJcblxyXG4gICAgICAgIHpvbmUuZGVzdHJveSgpO1xyXG4gICAgICAgIHJldHVybiAhaGl0V2FsbCAmJiAhaGl0UG93ZXJVcDtcclxuICAgIH1cclxuXHJcbiAgICBnZW5lcmF0ZVBvd2VyVXAoKSB7XHJcbiAgICBpZiAodGhpcy5tYXhQb3dlclVwcyA+PSAzKSByZXR1cm47XHJcblxyXG4gICAgLy8gUHJvYmFyIHB1bnRvcyBlbiBvcmRlbiBhbGVhdG9yaW8gc2luIHJlcGV0aXJcclxuICAgIGNvbnN0IGluZGljZXMgPSBQaGFzZXIuVXRpbHMuQXJyYXkuU2h1ZmZsZShcclxuICAgICAgICBbLi4uQXJyYXkodGhpcy5wb3NpdGlvbnNYLmxlbmd0aCkua2V5cygpXVxyXG4gICAgKTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IGkgb2YgaW5kaWNlcykge1xyXG4gICAgICAgIGNvbnN0IHggPSB0aGlzLnBvc2l0aW9uc1hbaV07XHJcbiAgICAgICAgY29uc3QgeSA9IHRoaXMucG9zaXRpb25zWVtpXTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNTcGF3blZhbGlkKHgsIHkpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBQaGFzZXIuVXRpbHMuQXJyYXkuR2V0UmFuZG9tKHRoaXMudHlwZXMpO1xyXG4gICAgICAgICAgICBuZXcgUG93ZXJVcCh0aGlzLnNjZW5lLCB4LCB5LCB0eXBlLCB0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy5tYXhQb3dlclVwcyArPSAxO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgQ29tbWFuZFByb2Nlc3NvciB7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmdhbWVTY2VuZSA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHNldFBsYXllcnMocGxheWVycykge1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IHBsYXllcnM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0R2FtZVNjZW5lKGdhbWVTY2VuZSkge1xyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lID0gZ2FtZVNjZW5lO1xyXG4gICAgfVxyXG5cclxuICAgIHByb2Nlc3MoY29tbWFuZCkge1xyXG4gICAgICAgIGNvbW1hbmQuZXhlY3V0ZSgpO1xyXG4gICAgICAgIC8vIFNlbnQgb3ZlciB0aGUgd2Vic29ja2V0XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgQ29tbWFuZCB7XHJcblxyXG4gICAgZXhlY3V0ZSgpIHt9XHJcblxyXG4gICAgc2VyaWFsaXplKCkge31cclxuXHJcbiAgICBnZXRQbGF5ZXIoKSB7fVxyXG59IiwiaW1wb3J0IHsgQ29tbWFuZCB9IGZyb20gXCIuL0NvbW1hbmRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBNb3ZlVGFua0NvbW1hbmQgZXh0ZW5kcyBDb21tYW5kIHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih0YW5rLCBkaXJlY3Rpb24pIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMudGFuayA9IHRhbms7XHJcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBkaXJlY3Rpb247IFxyXG4gICAgXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGV4ZWN1dGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGlyZWN0aW9uID09PSAndXAnKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGFuay5zcHJpdGUuc2V0VmVsb2NpdHlZKC10aGlzLnRhbmsuYmFzZVNwZWVkKnRoaXMudGFuay5zcGVlZE11bHRpcGxpZXIpO1xyXG4gICAgICAgICAgICB0aGlzLnRhbmsudHVycmV0LnJvdGF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnRhbmsudHVycmV0LnNob290KGZhbHNlKTtcclxuICAgICAgICBcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGlyZWN0aW9uID09PSAnZG93bicpIHtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnNwcml0ZS5zZXRWZWxvY2l0eVkoK3RoaXMudGFuay5iYXNlU3BlZWQqdGhpcy50YW5rLnNwZWVkTXVsdGlwbGllcik7XHJcbiAgICAgICAgICAgIHRoaXMudGFuay50dXJyZXQucm90YXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMudGFuay50dXJyZXQuc2hvb3QoZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfWVsc2UgaWYgKHRoaXMuZGlyZWN0aW9uID09PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGFuay5zcHJpdGUuc2V0VmVsb2NpdHlYKHRoaXMudGFuay5iYXNlU3BlZWQqdGhpcy50YW5rLnNwZWVkTXVsdGlwbGllcik7XHJcbiAgICAgICAgICAgIHRoaXMudGFuay50dXJyZXQucm90YXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMudGFuay50dXJyZXQuc2hvb3QoZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfWVsc2UgaWYgKHRoaXMuZGlyZWN0aW9uID09PSAnbGVmdCcpIHtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnNwcml0ZS5zZXRWZWxvY2l0eVgoLXRoaXMudGFuay5iYXNlU3BlZWQqdGhpcy50YW5rLnNwZWVkTXVsdGlwbGllcik7XHJcbiAgICAgICAgICAgIHRoaXMudGFuay50dXJyZXQucm90YXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMudGFuay50dXJyZXQuc2hvb3QoZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnNwcml0ZS5zZXRWZWxvY2l0eVkoMCk7XHJcbiAgICAgICAgICAgIHRoaXMudGFuay5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgICAgICB0aGlzLnRhbmsudHVycmV0LnNwcml0ZS5zZXRWZWxvY2l0eVkoMCk7XHJcbiAgICAgICAgICAgIHRoaXMudGFuay50dXJyZXQuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnR1cnJldC5zaG9vdCh0cnVlKTsgLy9oYXkgcWllIGxpbWl0YXJsb1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRhbmsudHVycmV0LlNldFBvc2l0aW9uKHRoaXMudGFuay5HZXRYKCksdGhpcy50YW5rLkdldFkoKSk7XHJcbiAgICAgICAgdGhpcy50YW5rLnR1cnJldC5haW0oKTtcclxuICAgICAgICBpZiAodGhpcy50YW5rLnNwcml0ZS5ib2R5KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZ4ID0gdGhpcy50YW5rLnNwcml0ZS5ib2R5LnZlbG9jaXR5Lng7XHJcbiAgICAgICAgICAgIGNvbnN0IHZ5ID0gdGhpcy50YW5rLnNwcml0ZS5ib2R5LnZlbG9jaXR5Lnk7XHJcblxyXG4gICAgICAgICAgICAvLyBhdGFuMiBkZXZ1ZWx2ZSBlbCDDoW5ndWxvIGVuIHJhZGlhbmVzIHNlZ8O6biBsYSBkaXJlY2Npw7NuIGRlbCB2ZWN0b3JcclxuICAgICAgICAgICAgdGhpcy50YW5rLnNwcml0ZS5yb3RhdGlvbiA9IE1hdGguYXRhbjIodnksIHZ4KSsoTWF0aC5QSS8yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxufSIsImltcG9ydCB7IENvbW1hbmQgfSBmcm9tIFwiLi9Db21tYW5kXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUGF1c2VHYW1lQ29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGdhbWVTY2VuZSwgaXNQYXVzZWQpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lID0gZ2FtZVNjZW5lO1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBpc1BhdXNlZFxyXG4gICAgfVxyXG5cclxuICAgIGV4ZWN1dGUoKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUuc2V0UGF1c2VTdGF0ZSh0aGlzLmlzUGF1c2VkKTtcclxuICAgIH1cclxufSIsIi8qKlxyXG4gKiBTZXJ2aWNpbyBwYXJhIGdlc3Rpb25hciBsYSBjb25leGnDs24gY29uIGVsIHNlcnZpZG9yXHJcbiAqIE1hbmVqYSBlbCBwb2xsaW5nIGFsIGVuZHBvaW50IC9hcGkvY29ubmVjdGVkIHkgZGV0ZWN0YSBww6lyZGlkYXMgZGUgY29uZXhpw7NuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29ubmVjdGlvbk1hbmFnZXIge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IDA7XHJcbiAgICB0aGlzLmlzQ29ubmVjdGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmxhc3RDaGVja1RpbWUgPSAwO1xyXG4gICAgdGhpcy5jaGVja0ludGVydmFsID0gMjAwMDsgLy8gQ29tcHJvYmFyIGNhZGEgMiBzZWd1bmRvc1xyXG4gICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcclxuICAgIHRoaXMuc2Vzc2lvbklkID0gdGhpcy5nZW5lcmF0ZVNlc3Npb25JZCgpO1xyXG4gICAgdGhpcy5pbnRlcnZhbElkID0gbnVsbDtcclxuXHJcbiAgICAvLyBJbmljaWFyIGVsIHBvbGxpbmcgYXV0b23DoXRpY29cclxuICAgIHRoaXMuc3RhcnRQb2xsaW5nKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmFyIHVuIElEIMO6bmljbyBkZSBzZXNpw7NuIHBhcmEgZXN0ZSBjbGllbnRlXHJcbiAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgKi9cclxuICBnZW5lcmF0ZVNlc3Npb25JZCgpIHtcclxuICAgIHJldHVybiBgc2Vzc2lvbl8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb21wcm9iYXIgY29uZXhpw7NuIGNvbiBlbCBzZXJ2aWRvclxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHtjb25uZWN0ZWQ6IG51bWJlciwgc3VjY2VzczogYm9vbGVhbn0+fVxyXG4gICAqL1xyXG4gIGFzeW5jIGNoZWNrQ29ubmVjdGlvbigpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvY29ubmVjdGVkJywge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWRcclxuICAgICAgICB9KVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IGRhdGEuY29ubmVjdGVkO1xyXG4gICAgICAgIHRoaXMuaXNDb25uZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubGFzdENoZWNrVGltZSA9IERhdGUubm93KCk7XHJcblxyXG4gICAgICAgIC8vIE5vdGlmaWNhciBhIGxvcyBsaXN0ZW5lcnNcclxuICAgICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyh7IGNvbm5lY3RlZDogdHJ1ZSwgY291bnQ6IHRoaXMuY29ubmVjdGVkQ291bnQgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogdGhpcy5jb25uZWN0ZWRDb3VudCwgc3VjY2VzczogdHJ1ZSB9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogMCwgc3VjY2VzczogZmFsc2UgfTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2hlY2tpbmcgY29ubmVjdGlvbjonLCBlcnJvcik7XHJcbiAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICByZXR1cm4geyBjb25uZWN0ZWQ6IDAsIHN1Y2Nlc3M6IGZhbHNlIH07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBNYW5lamFyIGRlc2NvbmV4acOzblxyXG4gICAqL1xyXG4gIGhhbmRsZURpc2Nvbm5lY3Rpb24oKSB7XHJcbiAgICB0aGlzLmlzQ29ubmVjdGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmNvbm5lY3RlZENvdW50ID0gMDtcclxuICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKHsgY29ubmVjdGVkOiBmYWxzZSwgY291bnQ6IDAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWdpc3RyYXIgdW4gbGlzdGVuZXIgcGFyYSBjYW1iaW9zIGRlIGNvbmV4acOzblxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gRnVuY2nDs24gcXVlIHNlIGxsYW1hcsOhIGN1YW5kbyBjYW1iaWUgZWwgZXN0YWRvXHJcbiAgICovXHJcbiAgYWRkTGlzdGVuZXIoY2FsbGJhY2spIHtcclxuICAgIHRoaXMubGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRWxpbWluYXIgdW4gbGlzdGVuZXJcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmNpw7NuIGEgZWxpbWluYXJcclxuICAgKi9cclxuICByZW1vdmVMaXN0ZW5lcihjYWxsYmFjaykge1xyXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKTtcclxuICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBOb3RpZmljYXIgYSB0b2RvcyBsb3MgbGlzdGVuZXJzXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBEYXRvcyBkZWwgZXN0YWRvIGRlIGNvbmV4acOzblxyXG4gICAqL1xyXG4gIG5vdGlmeUxpc3RlbmVycyhkYXRhKSB7XHJcbiAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyKGRhdGEpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE9idGVuZXIgZWwgZXN0YWRvIGFjdHVhbCBkZSBjb25leGnDs25cclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gICAqL1xyXG4gIGdldFN0YXR1cygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlzQ29ubmVjdGVkOiB0aGlzLmlzQ29ubmVjdGVkLFxyXG4gICAgICBjb25uZWN0ZWRDb3VudDogdGhpcy5jb25uZWN0ZWRDb3VudCxcclxuICAgICAgbGFzdENoZWNrVGltZTogdGhpcy5sYXN0Q2hlY2tUaW1lXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5pY2lhciBlbCBwb2xsaW5nIGF1dG9tw6F0aWNvIGRlIGNvbmV4acOzblxyXG4gICAqL1xyXG4gIHN0YXJ0UG9sbGluZygpIHtcclxuICAgIGlmICh0aGlzLmludGVydmFsSWQpIHtcclxuICAgICAgcmV0dXJuOyAvLyBZYSBlc3TDoSBjb3JyaWVuZG9cclxuICAgIH1cclxuXHJcbiAgICAvLyBDb21wcm9iYXIgaW5tZWRpYXRhbWVudGVcclxuICAgIHRoaXMuY2hlY2tDb25uZWN0aW9uKCk7XHJcblxyXG4gICAgLy8gTHVlZ28gY29tcHJvYmFyIGNhZGEgWCBzZWd1bmRvc1xyXG4gICAgdGhpcy5pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICB0aGlzLmNoZWNrQ29ubmVjdGlvbigpO1xyXG4gICAgfSwgdGhpcy5jaGVja0ludGVydmFsKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERldGVuZXIgZWwgcG9sbGluZyBhdXRvbcOhdGljb1xyXG4gICAqL1xyXG4gIHN0b3BQb2xsaW5nKCkge1xyXG4gICAgaWYgKHRoaXMuaW50ZXJ2YWxJZCkge1xyXG4gICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCk7XHJcbiAgICAgIHRoaXMuaW50ZXJ2YWxJZCA9IG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLyBDcmVhciBpbnN0YW5jaWEgc2luZ2xldG9uXHJcbmV4cG9ydCBjb25zdCBjb25uZWN0aW9uTWFuYWdlciA9IG5ldyBDb25uZWN0aW9uTWFuYWdlcigpO1xyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IFRhbmsgfSBmcm9tICcuLi9lbnRpdGllcy9UYW5rJztcclxuaW1wb3J0IHsgUG93ZXJVcEdlbmVyYXRvciB9IGZyb20gJy4uL2VudGl0aWVzL1Bvd2VyVXBHZW5lcmF0b3IuanMnO1xyXG5pbXBvcnQgeyBDb21tYW5kUHJvY2Vzc29yIH0gZnJvbSAnLi4vY29tbWFuZHMvQ29tbWFuZFByb2Nlc3Nvcic7XHJcbmltcG9ydCB7IE1vdmVUYW5rQ29tbWFuZCB9IGZyb20gJy4uL2NvbW1hbmRzL01vdmVUYW5rQ29tbWFuZCc7XHJcbmltcG9ydCB7IFBhdXNlR2FtZUNvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kcy9QdWFzZUdhbWVDb21tYW5kJztcclxuaW1wb3J0IHsgY29ubmVjdGlvbk1hbmFnZXIgfSBmcm9tICcuLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignR2FtZVNjZW5lJyk7XHJcbiAgICB9XHJcbiAgICBwcmVsb2FkKCkgey8vY2FyZ2EgZGUgYXJjaGl2b3NcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0ZvbmRvJywgJ2ltYWdlbmVzL0ZvbmRvLmpwZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnVmlkYScsICdpbWFnZW5lcy9WaWRhQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCdWJibGUnLCAnaW1hZ2VuZXMvQnVyYnVqYUNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRXNjdWRvJywgJ2ltYWdlbmVzL0VzY3Vkb0NXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTm9GdWVnb0FtaWdvJywgJ2ltYWdlbmVzL05vRnVlZ29BbWlnb0NXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTWVkaW9NYXBhJywgJ2ltYWdlbmVzL01lZGlvT2JzdGFjdWxvQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQYWxvJywgJ2ltYWdlbmVzL1BhbG9PYnN0YWN1bG9DVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0Jsb3F1ZVNpbXBsZScsICdpbWFnZW5lcy9UaWxlTXVyby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0JvdHRvbVRvcFdhbGwnLCAnaW1hZ2VuZXMvQm90dG9tVG9wQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdMZWZ0UmlnaHRXYWxsJywgJ2ltYWdlbmVzL0xlZnRSaWdodENXLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0Jhc2VSZWQnLCAnaW1hZ2VuZXMvVGFucXVlUm9qb0NXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnVG9ycmV0YVJlZCcsICdpbWFnZW5lcy9DYW5vblJvam9DVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0JhbGFSZWQnLCAnaW1hZ2VuZXMvQmFsYU5Sb2pvQ3cucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmFzZUdyZWVuJywgJ2ltYWdlbmVzL1RhbnF1ZVZlcmRlQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdUb3JyZXRhR3JlZW4nLCAnaW1hZ2VuZXMvQ2Fub25WZXJkZUNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmFsYUdyZWVuJywgJ2ltYWdlbmVzL0JhbGFOVmVyZGVDVy5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCYXNlQmx1ZScsICdpbWFnZW5lcy9UYW5xdWVBenVsQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdUb3JyZXRhQmx1ZScsICdpbWFnZW5lcy9DYW5vbkF6dWxDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0JhbGFCbHVlJywgJ2ltYWdlbmVzL0JhbGFOQXp1bENXLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0Jhc2VZZWxsb3cnLCAnaW1hZ2VuZXMvVGFucXVlQW1hcmlsbG9DVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1RvcnJldGFZZWxsb3cnLCAnaW1hZ2VuZXMvQ2Fub25BbWFyaWxsb0NXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmFsYVllbGxvdycsICdpbWFnZW5lcy9CYWxhTkFtYXJpbGxvQ1cucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTXVyb0Jsb3F1ZTYnLCAnaW1hZ2VuZXMvTWVkaW9PYnN0YWN1bG9DVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0Jsb3F1ZScsICdpbWFnZW5lcy9UaWxlTXVyby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BhbG8nLCAnaW1hZ2VuZXMvUGFsb09ic3RhY3Vsb0NXLnBuZycpO1xyXG4gICAgICAgXHJcblxyXG4gICAgfVxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncyA9IFtdO1xyXG4gICAgICAgIHRoaXMuYmFsbCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5wb3dlclVwR2VuZXJhdG9yID0gbnVsbDtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lc2NXYXNEb3duID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IgPSBuZXcgQ29tbWFuZFByb2Nlc3NvcigpO1xyXG4gICAgICAgIHRoaXMuaXNHYW1lT3ZlciA9IGZhbHNlO1xyXG4gICAgICAgIC8vIENvbG9yZXMgcXVlIHZpZW5lbiBkZSBTZWxlY3RDb2xvclxyXG4gICAgICAgIHRoaXMuY29sb3JQbGF5ZXIxID0gZGF0YT8uY29sb3JQbGF5ZXIxO1xyXG4gICAgICAgIHRoaXMuY29sb3JQbGF5ZXIyID0gZGF0YT8uY29sb3JQbGF5ZXIyO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcblxyXG4gICAgICAgIHRoaXMucG93ZXJVcHNHcm91cCA9IHRoaXMucGh5c2ljcy5hZGQuZ3JvdXAoKTtcclxuICAgICAgICBcclxuICAgICAgICAvL211c2ljYVxyXG4gICAgICAgIGNvbnN0IG11c2ljYU1lbnUgPSB0aGlzLnNvdW5kLmdldCgnbXVzaWNhX21lbnUnKTsgICAgXHJcbiAgICAgICAgbXVzaWNhTWVudT8uc3RvcCgpO1xyXG4gICAgICAgIGxldCBtdXNpY2FKdWVnbyA9IHRoaXMuc291bmQuZ2V0KCdtdXNpY2FfZ2FtZScpO1xyXG4gICAgICAgIGlmICghbXVzaWNhSnVlZ28pIHtcclxuICAgICAgICAgICBtdXNpY2FKdWVnbyA9IHRoaXMuc291bmQuYWRkKCdtdXNpY2FfZ2FtZScsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAwLjQgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghbXVzaWNhSnVlZ28uaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgbXVzaWNhSnVlZ28ucGxheSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL2ZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDAwLCAzMDAsICdGb25kbycpOyAgICAgICBcclxuICAgICAgICB0aGlzLmNyZWF0ZUJvdW5kcygpO1xyXG4gICAgICAgIC8vdGhpcy5jcmVhdGVCYWxsKCk7XHJcbiAgICAgICAgLy90aGlzLmxhdW5jaEJhbGwoKTtcclxuXHJcbiAgICAgICAgLy8gT2JzdMOhY3Vsb3NcclxuICAgICAgICB0aGlzLm9ic3RhY2xlcyA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljR3JvdXAoXHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIHRoaXMudG9wLCB0aGlzLmJvdHRvbSwgdGhpcy5sZWZ0LCB0aGlzLnJpZ2h0LFxyXG4gICAgICAgIHRoaXMuYmxvY2sxLCB0aGlzLmJsb2NrMixcclxuICAgICAgICB0aGlzLmNlbnRybzEsIHRoaXMuY2VudHJvMiwgdGhpcy5jZW50cm8zLFxyXG4gICAgICAgIHRoaXMucGFsbzEsIHRoaXMucGFsbzJcclxuICAgICAgICApO1xyXG4gICAgXHJcblxyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMuYmFsbCwgdGhpcy5sZWZ0R29hbCwgdGhpcy5zY29yZVJpZ2h0R29hbCwgbnVsbCwgdGhpcyk7XHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5iYWxsLCB0aGlzLnJpZ2h0R29hbCwgdGhpcy5zY29yZUxlZnRHb2FsLCBudWxsLCB0aGlzKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRVcFBsYXllcnMoKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZUNvbGxpc2lvbnMoKTtcclxuICAgICAgICBcclxuXHJcbiAgICAgICAgdGhpcy52aWRhc0p1Z2Fkb3JlcygpO1xyXG4gICAgICAgIHRoaXMucG93ZXJVcEdlbmVyYXRvciA9IG5ldyBQb3dlclVwR2VuZXJhdG9yKHRoaXMsIDEwMDAwLCBmYWxzZSk7IC8vIEdlbmVyYSB1biBwb3dlci11cCBjYWRhIDEwIHNlZ3VuZG9zXHJcbiAgICAgICAgdGhpcy5lc2NLZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuRVNDKTtcclxuXHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uTGlzdGVuZXIgPSAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBpZighZGF0YS5jb25uZWN0ZWQgJiYgdGhpcy5zY2VuZS5pc0FjdGl2ZSgpKXtcclxuICAgICAgICAgICAgICAgIHRoaXMub25Db25uZWN0aW9uTG9zdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLmFkZExpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICB0aGlzLmV2ZW50cy5vbignc2h1dGRvd24nLCB0aGlzLm9uU2h1dGRvd24sIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdkZXN0cm95JywgdGhpcy5vblNodXRkb3duLCB0aGlzKTtcclxuXHJcbiAgICAgICAgdGhpcy5yZW1vdmVLZXlzID0gdGhpcy5pbnB1dC5rZXlib2FyZC5yZW1vdmVDYXB0dXJlKFsnRVNDJywgJ1cnLCAnQScsICdTJywgJ0QnLCAnVVAnLCAnRE9XTicsICdMRUZUJywgJ1JJR0hUJ10pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBvbkNvbm5lY3Rpb25Mb3N0KCl7Ly9hcGlcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnQ29ubmVjdGlvbkxvc3RTY2VuZScsIHsgcHJldmlvdXNTY2VuZTogJ0dhbWVTY2VuZScgfSk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuYnJpbmdUb1RvcCgnQ29ubmVjdGlvbkxvc3RTY2VuZScpO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHZpZGFzSnVnYWRvcmVzKCkge1xyXG4gICAgICAgIHRoaXMudmlkYVBsYXllcjEgPSBbXTtcclxuICAgICAgICB0aGlzLnZpZGFQbGF5ZXIyID0gW107XHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMTAsIDIwLCBgQmFzZSR7dGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLmNvbG9yfWApLnNldE9yaWdpbigwLCAwKTtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3NDAsIDIwLCBgQmFzZSR7dGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLmNvbG9yfWApLnNldE9yaWdpbigwLCAwKTtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSgzNSwgNDAsIGBUb3JyZXRhJHt0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuY29sb3J9YCkuc2V0T3JpZ2luKDAuMTUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzY1LCA0MCwgYFRvcnJldGEke3RoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5jb2xvcn1gKS5zZXRPcmlnaW4oMC4xNSwgMC41KS5zZXRSb3RhdGlvbihNYXRoLlBJKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCB2aWRhMSA9IHRoaXMuYWRkLmltYWdlKDkwICsgaSAqIDMwLCAzNSwgJ1ZpZGEnKS5zZXRTY2FsZSgwLjA1KTtcclxuICAgICAgICAgICAgdGhpcy52aWRhUGxheWVyMS5wdXNoKHZpZGExKTtcclxuICAgICAgICAgICAgY29uc3QgdmlkYTIgPSB0aGlzLmFkZC5pbWFnZSg3MTAgLSBpICogMzAsIDM1LCAnVmlkYScpLnNldFNjYWxlKDAuMDUpO1xyXG4gICAgICAgICAgICB0aGlzLnZpZGFQbGF5ZXIyLnB1c2godmlkYTIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuIFxyXG4gICAgYWN0dWFsaXphclZpZGFzKHBsYXllcklkLCB2aWRhc1Jlc3RhbnRlcykge1xyXG4gICAgICAgIGNvbnN0IHZpZGFBcnJheSA9IHBsYXllcklkID09PSAncGxheWVyMScgPyB0aGlzLnZpZGFQbGF5ZXIxIDogdGhpcy52aWRhUGxheWVyMjtcclxuICAgICAgICBpZiAodmlkYUFycmF5Lmxlbmd0aCA+IHZpZGFzUmVzdGFudGVzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZpZGFTcHJpdGUgPSB2aWRhQXJyYXkucG9wKCk7XHJcbiAgICAgICAgICAgIHZpZGFTcHJpdGUuZGVzdHJveSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodmlkYUFycmF5Lmxlbmd0aCA8IHZpZGFzUmVzdGFudGVzKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXJJZCA9PT0gJ3BsYXllcjEnKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBudWV2YVZpZGEgPSB0aGlzLmFkZC5pbWFnZSg5MCArIHZpZGFBcnJheS5sZW5ndGggKiAzMCwgMzUsICdWaWRhJykuc2V0U2NhbGUoMC4wNSk7XHJcbiAgICAgICAgICAgICAgICB2aWRhQXJyYXkucHVzaChudWV2YVZpZGEpO1xyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICBpZiAocGxheWVySWQgPT09ICdwbGF5ZXIyJykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbnVldmFWaWRhID0gdGhpcy5hZGQuaW1hZ2UoNzEwIC0gdmlkYUFycmF5Lmxlbmd0aCAqIDMwLCAzNSwgJ1ZpZGEnKS5zZXRTY2FsZSgwLjA1KTtcclxuICAgICAgICAgICAgICAgIHZpZGFBcnJheS5wdXNoKG51ZXZhVmlkYSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHZpZGFzUmVzdGFudGVzIDw9IDApIHtcclxuICAgICAgICAgICAgdGhpcy5pc0dhbWVPdmVyID0gdHJ1ZTsgXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0dhbWVPdmVyU2NlbmUnLHtcclxuICAgICAgICAgICAgICAgIGdhbmFkb3I6IHBsYXllcklkPT09J3BsYXllcjEnID8gJ3BsYXllcjInIDogJ3BsYXllcjEnLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6IHRoaXMucGxheWVycy5nZXQocGxheWVySWQ9PT0ncGxheWVyMScgPyAncGxheWVyMicgOiAncGxheWVyMScpLmNvbG9yXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXRVcFBsYXllcnMoKSB7XHJcbiAgICAgICAgY29uc3QgdGFuazEgPSBuZXcgVGFuayh0aGlzLCAncGxheWVyMScsIDkwLCAzMDAsdGhpcy5jb2xvclBsYXllcjEpO1xyXG4gICAgICAgIGNvbnN0IHRhbmsyID0gbmV3IFRhbmsodGhpcywgJ3BsYXllcjInLCA3MTAsIDMwMCx0aGlzLmNvbG9yUGxheWVyMik7IFxyXG5cclxuICAgICAgICB0YW5rMS5TZXRUYXJnZXQodGFuazIpO1xyXG4gICAgICAgIHRhbmsyLlNldFRhcmdldCh0YW5rMSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMScsIHRhbmsxKTtcclxuICAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIyJywgdGFuazIpO1xyXG5cclxuICAgICAgICBjb25zdCBJbnB1dENvbmZpZyA9IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6ICdwbGF5ZXIxJyxcclxuICAgICAgICAgICAgICAgIHVwS2V5IDogJ1cnLFxyXG4gICAgICAgICAgICAgICAgZG93bktleSA6ICdTJyxcclxuICAgICAgICAgICAgICAgIHJpZ2h0S2V5IDogJ0QnLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleSA6ICdBJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogJ3BsYXllcjInLFxyXG4gICAgICAgICAgICAgICAgdXBLZXkgOiAnVVAnLFxyXG4gICAgICAgICAgICAgICAgZG93bktleSA6ICdET1dOJyxcclxuICAgICAgICAgICAgICAgIHJpZ2h0S2V5IDogJ1JJR0hUJyxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXkgOiAnTEVGVCdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF1cclxuICAgICAgICB0aGlzLmlucHV0TWFwcGluZ3MgPSBJbnB1dENvbmZpZy5tYXAoY29uZmlnID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkIDogY29uZmlnLnBsYXllcklkLFxyXG4gICAgICAgICAgICAgICAgdXBLZXlPYmogOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLnVwS2V5XSksXHJcbiAgICAgICAgICAgICAgICBkb3duS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmRvd25LZXldKSxcclxuICAgICAgICAgICAgICAgIHJpZ2h0S2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLnJpZ2h0S2V5XSksXHJcbiAgICAgICAgICAgICAgICBsZWZ0S2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmxlZnRLZXldKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2NvcmVMZWZ0R29hbCgpIHtcclxuICAgICAgICBjb25zdCBwbGF5ZXIxID0gdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpO1xyXG4gICAgICAgIHBsYXllcjEuc2NvcmUgLT0gMTtcclxuICAgICAgICAvL3RoaXMuc2NvcmVMZWZ0LnNldFRleHQocGxheWVyMS5zY29yZS50b1N0cmluZygpKTtcclxuXHJcbiAgICAgICAgaWYgKHBsYXllcjEuc2NvcmUgPj0gMikge1xyXG4gICAgICAgICAgICB0aGlzLmVuZEdhbWUoJ3BsYXllcjEnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnJlc2V0QmFsbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzY29yZVJpZ2h0R29hbCgpIHtcclxuICAgICAgICBjb25zdCBwbGF5ZXIyID0gdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpO1xyXG4gICAgICAgIHBsYXllcjIuc2NvcmUgKz0gMTtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3MDAgKyAzMCAqIChwbGF5ZXIyLnNjb3JlIC0gMSksIDEwMCwgJ1ZpZGEnKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgICAgIC8vdGhpcy5yaWdodFNjb3JlLnNldFRleHQocGxheWVyMi5zY29yZS50b1N0cmluZygpKTtcclxuXHJcbiAgICAgICAgaWYgKHBsYXllcjIuc2NvcmUgPj0gMikge1xyXG4gICAgICAgICAgICB0aGlzLmVuZEdhbWUoJ3BsYXllcjInKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnJlc2V0QmFsbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBlbmRHYW1lKHdpbm5lcklkKSB7XHJcbiAgICAgICAgdGhpcy5iYWxsLnNldFZlbG9jaXR5KDAsIDApO1xyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHRhbmsgPT4ge1xyXG4gICAgICAgICAgICB0YW5rLnNwcml0ZS5zZXRWZWxvY2l0eSgwLCAwKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MucGF1c2UoKTtcclxuXHJcbiAgICAgICAgY29uc3Qgd2lubmVyVGV4dCA9IHdpbm5lcklkID09PSAncGxheWVyMScgPyAnUGxheWVyIDEgV2lucyEnIDogJ1BsYXllciAyIFdpbnMhJztcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgMjUwLCB3aW5uZXJUZXh0LCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwZmYwMCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgY29uc3QgbWVudUJ0biA9IHRoaXMuYWRkLnRleHQoNDAwLCAzNTAsICdSZXR1cm4gdG8gTWFpbiBNZW51Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBtZW51QnRuLnNldENvbG9yKCcjY2NjY2NjJykpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbWVudUJ0bi5zZXRDb2xvcignI2ZmZmZmZicpKVxyXG4gICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc2V0QmFsbCgpIHtcclxuICAgICAgICB0aGlzLmJhbGwuc2V0VmVsb2NpdHkoMCwgMCk7XHJcbiAgICAgICAgdGhpcy5iYWxsLnNldFBvc2l0aW9uKDQwMCwgMzAwKTtcclxuICAgIFxyXG4gICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgxMDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubGF1bmNoQmFsbCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGxhdW5jaEJhbGwoKSB7XHJcbiAgICAgICAgY29uc3QgYW5nbGUgPSBQaGFzZXIuTWF0aC5CZXR3ZWVuKC0zMCwgMzApO1xyXG4gICAgICAgIGNvbnN0IHNwZWVkID0gMzAwO1xyXG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IE1hdGgucmFuZG9tKCkgPCAwLjUgPyAxIDogLTE7XHJcblxyXG4gICAgICAgIHRoaXMuYmFsbC5zZXRWZWxvY2l0eShcclxuICAgICAgICAgICAgTWF0aC5jb3MoUGhhc2VyLk1hdGguRGVnVG9SYWQoYW5nbGUpKSAqIHNwZWVkICogZGlyZWN0aW9uLFxyXG4gICAgICAgICAgICBNYXRoLnNpbihQaGFzZXIuTWF0aC5EZWdUb1JhZChhbmdsZSkpICogc3BlZWRcclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQmFsbCgpIHtcclxuICAgICAgICBjb25zdCBncmFwaGljcyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XHJcbiAgICAgICAgZ3JhcGhpY3MuZmlsbFN0eWxlKDB4ZmZmZmZmKTtcclxuICAgICAgICBncmFwaGljcy5maWxsQ2lyY2xlKDgsIDgsIDgpO1xyXG4gICAgICAgIGdyYXBoaWNzLmdlbmVyYXRlVGV4dHVyZSgnYmFsbCcsIDE2LCAxNik7XHJcbiAgICAgICAgZ3JhcGhpY3MuZGVzdHJveSgpO1xyXG5cclxuICAgICAgICB0aGlzLmJhbGwgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSg0MDAsIDMwMCwgJ2JhbGwnKTtcclxuICAgICAgICB0aGlzLmJhbGwuc2V0Q29sbGlkZVdvcmxkQm91bmRzKHRydWUpO1xyXG4gICAgICAgIHRoaXMuYmFsbC5zZXRCb3VuY2UoMSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQm91bmRzKCkge1xyXG5cclxuICAgICAgICAvL011cm9zIGFycmliYSB5IGFiYWpvXHJcbiAgICAgICAgdGhpcy50b3AgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSg0MDAsIDgzLCAnQm90dG9tVG9wV2FsbCcpO1xyXG4gICAgICAgIHRoaXMudG9wLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnRvcC5ib2R5LnNldFNpemUoNzY1LDQ1KTtcclxuXHJcbiAgICAgICAgdGhpcy5ib3R0b20gPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSg0MDAsIDU3NywgJ0JvdHRvbVRvcFdhbGwnKTtcclxuICAgICAgICB0aGlzLmJvdHRvbS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5ib3R0b20uYm9keS5zZXRTaXplKDc2NSw0NSk7XHJcblxyXG4gICAgICAgIC8vTXVyb3MgaXpxdWllcmRhIHkgZGVyZWNoYVxyXG4gICAgICAgIHRoaXMubGVmdCA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDQwLCAzMzAsICdMZWZ0UmlnaHRXYWxsJyk7XHJcbiAgICAgICAgdGhpcy5sZWZ0LnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmxlZnQuYm9keS5zZXRTaXplKDQ1LDQ1MCk7XHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIHRoaXMucmlnaHQgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSg3NjAsIDMzMCwgJ0xlZnRSaWdodFdhbGwnKTtcclxuICAgICAgICB0aGlzLnJpZ2h0LnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnJpZ2h0LmJvZHkuc2V0U2l6ZSg0NSw0NTApO1xyXG5cclxuICAgICAgICAvL2Jsb3F1ZXMgZGUgNlxyXG4gICAgICAgIHRoaXMuYmxvY2sxPXRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDQwMCwxOTgsXCJNdXJvQmxvcXVlNlwiKTtcclxuICAgICAgICB0aGlzLmJsb2NrMS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMuYmxvY2syPXRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDQwMCw0NjIsXCJNdXJvQmxvcXVlNlwiKTtcclxuICAgICAgICB0aGlzLmJsb2NrMi5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMuY2VudHJvMT10aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSg0MDAsNDYyLTExMCxcIkJsb3F1ZVwiKTtcclxuICAgICAgICB0aGlzLmNlbnRybzEuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuY2VudHJvMj10aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSg0MDAtNDUsNDYyLTE1NSxcIkJsb3F1ZVwiKTtcclxuICAgICAgICB0aGlzLmNlbnRybzIuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuY2VudHJvMz10aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSg0MDArNDUsNDYyLTE1NSxcIkJsb3F1ZVwiKTtcclxuICAgICAgICB0aGlzLmNlbnRybzMuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLnBhbG8xPXRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDY0OCw0MzksXCJQYWxvXCIpO1xyXG4gICAgICAgIHRoaXMucGFsbzEuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucGFsbzI9dGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoMTUyLDIxOCxcIlBhbG9cIik7XHJcbiAgICAgICAgdGhpcy5wYWxvMi5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQ29sbGlzaW9ucygpe1xyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHRhbmsgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubGVmdCwgdGFuay5zcHJpdGUpO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMucmlnaHQsIHRhbmsuc3ByaXRlKTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnRvcCwgdGFuay5zcHJpdGUpO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuYm90dG9tLCB0YW5rLnNwcml0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5ibG9jazEsIHRhbmsuc3ByaXRlKTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLmJsb2NrMiwgdGFuay5zcHJpdGUpO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuY2VudHJvMSwgdGFuay5zcHJpdGUpO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuY2VudHJvMiwgdGFuay5zcHJpdGUpO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuY2VudHJvMywgdGFuay5zcHJpdGUpO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMucGFsbzEsIHRhbmsuc3ByaXRlKTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnBhbG8yLCB0YW5rLnNwcml0ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0UGF1c2VTdGF0ZShpc1BhdXNlZCkge1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBpc1BhdXNlZDtcclxuICAgICAgICBpZiAoaXNQYXVzZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1BhdXNlU2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6ICdHYW1lU2NlbmUnIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgfSBcclxuICAgIH1cclxuXHJcbiAgICByZXN1bWUoKSB7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZVBhdXNlKCkge1xyXG4gICAgICAgIGNvbnN0IG5ld1BhdXNlU3RhdGUgPSAhdGhpcy5pc1BhdXNlZDtcclxuICAgICAgICB0aGlzLnByb2Nlc3Nvci5wcm9jZXNzKFxyXG4gICAgICAgICAgICBuZXcgUGF1c2VHYW1lQ29tbWFuZCh0aGlzLCBuZXdQYXVzZVN0YXRlKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzR2FtZU92ZXIpIHJldHVybjtcclxuICAgICAgICBcclxuICAgICAgICBpZiAodGhpcy5lc2NLZXkuaXNEb3duICYmICF0aGlzLmVzY1dhc0Rvd24pIHtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVQYXVzZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzLmZvckVhY2gobWFwcGluZyA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhbmsgPSB0aGlzLnBsYXllcnMuZ2V0KG1hcHBpbmcucGxheWVySWQpO1xyXG4gICAgICAgICAgICBsZXQgZGlyZWN0aW9uID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKG1hcHBpbmcudXBLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAndXAnO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1hcHBpbmcuZG93bktleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdkb3duJztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChtYXBwaW5nLmxlZnRLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAnbGVmdCc7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWFwcGluZy5yaWdodEtleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdyaWdodCc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAnc3RvcCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IG1vdmVDb21tYW5kID0gbmV3IE1vdmVUYW5rQ29tbWFuZCh0YW5rLCBkaXJlY3Rpb24pO1xyXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3Nvci5wcm9jZXNzKG1vdmVDb21tYW5kKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBvblNodXRkb3duKCkge1xyXG5cclxuICAgICAgICAvLyBRdWl0YXIgbGlzdGVuZXIgZGVsIHNlcnZpZG9yXHJcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uTGlzdGVuZXIgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJlbW92ZUtleXM7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgUGF1c2VTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ1BhdXNlU2NlbmUnKTtcclxuICAgIH1cclxuICAgXHJcbnByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdGb25kbycsICdpbWFnZW5lcy9Gb25kby5qcGcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0JUTlBhdXNlJywgJ2ltYWdlbmVzL1BhdXNhQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCVE5NZW51JywgJ2ltYWdlbmVzL01lbnVDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0JUTkNvbnRpbnVlJywgJ2ltYWdlbmVzL0NvbnRpbnVhckNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTXV0ZScsICdpbWFnZW5lcy9NdXRlQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCYXJyYScsICdpbWFnZW5lcy9CYXJyYU11c2ljYUNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRGVzbGl6YWRvcicsICdpbWFnZW5lcy9EZXNsaXphZG9yTXVzaWNhQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzZngnLCAnYXVkaW8vbWVudXNmeC5tcDMnKTtcclxuICAgICAgICB0aGlzLnNjZW5lLmJyaW5nVG9Ub3AoJ1BhdXNlU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoZGF0YSkge1xyXG4gICAgICAgIC8vZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDMwMCwgJ0ZvbmRvJyk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQwMCwxMDAsJ0JUTlBhdXNlJykuc2V0T3JpZ2luKDAuNSkuc2V0U2NhbGUoMC43KTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCByZXN1bWVCdG4gPSB0aGlzLmFkZC5pbWFnZSg0MDAsMjcwLCdCVE5Db250aW51ZScpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDAuMilcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoe3VzZUhhbmRDdXJzb3I6IHRydWV9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiByZXN1bWVCdG4uc2V0U2NhbGUoMC4yNCkpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gcmVzdW1lQnRuLnNldFNjYWxlKDAuMikpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdzZngnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUoZGF0YS5vcmlnaW5hbFNjZW5lKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5nZXQoZGF0YS5vcmlnaW5hbFNjZW5lKS5yZXN1bWUoKTtcclxuICAgICAgICB9KTtcclxuICAgIFxyXG4gICAgICAgIGNvbnN0IG1lbnVCdG4gPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDUyNSwgJ0JUTk1lbnUnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuMylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbWVudUJ0bi5zZXRTY2FsZSgwLjM1KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbWVudUJ0bi5zZXRTY2FsZSgwLjMpKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdzZngnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCdHYW1lU2NlbmUnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL1NsaWRlciBkZSB2b2x1bWVuXHJcbiAgICAgICAgICAgIGNvbnN0IHggPSA0MDA7XHJcbiAgICAgICAgICAgIGNvbnN0IHkgPSAzNzA7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIEJhcnJhIGRlbCBzbGlkZXJcclxuICAgICAgICAgICAgdGhpcy5zbGlkZXJCYXIgPSB0aGlzLmFkZC5pbWFnZSh4LCB5LCAnQmFycmEnKS5zZXREaXNwbGF5U2l6ZSgyMDAsNjgpLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICAvLyBPYnRlbmVyIHZvbHVtZW4gZ2xvYmFsIGFjdHVhbCAoMCBhIDEpXHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRWb2x1bWUgPSBQaGFzZXIuTWF0aC5DbGFtcCh0aGlzLnNvdW5kLnZvbHVtZSA/PyAxLCAwLCAxKTtcclxuICAgICAgICBcclxuICAgICAgICAgICAgLy8gQ29udmVydGlyIHZvbHVtZW4gYSBwb3NpY2nDs24gZGVsIGhhbmRsZVxyXG4gICAgICAgICAgICBjb25zdCBtaW5YID0geCAtIDgwO1xyXG4gICAgICAgICAgICBjb25zdCBtYXhYID0geCArIDgwO1xyXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVYID0gbWluWCArIChtYXhYIC0gbWluWCkgKiBjdXJyZW50Vm9sdW1lO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICAvLyBDcmVhciBoYW5kbGUgZW4gbGEgcG9zaWNpw7NuIGNvcnJlY3RhXHJcbiAgICAgICAgICAgIHRoaXMuc2xpZGVySGFuZGxlID0gdGhpcy5hZGQuaW1hZ2UoaGFuZGxlWCwgeSwgJ0Rlc2xpemFkb3InKS5zZXRTY2FsZSgwLjUpLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyBkcmFnZ2FibGU6IHRydWUgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMuaW5wdXQuc2V0RHJhZ2dhYmxlKHRoaXMuc2xpZGVySGFuZGxlKTtcclxuICAgICAgICBcclxuICAgICAgICAgICAgLy8gRXZlbnRvIGRlIGFycmFzdHJlXHJcbiAgICAgICAgICAgIHRoaXMuaW5wdXQub24oJ2RyYWcnLCAocG9pbnRlciwgZ2FtZU9iamVjdCwgZHJhZ1gpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChnYW1lT2JqZWN0ICE9PSB0aGlzLnNsaWRlckhhbmRsZSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgZ2FtZU9iamVjdC54ID0gUGhhc2VyLk1hdGguQ2xhbXAoZHJhZ1gsIG1pblgsIG1heFgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5tdXRlID0gZmFsc2U7IC8vIERlc211dGVhciBhbCBtb3ZlciBlbCBzbGlkZXJcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQudm9sdW1lID0gKGdhbWVPYmplY3QueCAtIG1pblgpIC8gKG1heFggLSBtaW5YKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQm90w7NuIE11dGVcclxuICAgICAgICBjb25zdCBtdXRlQnRuID0gdGhpcy5hZGQuaW1hZ2UoeCwgeSArIDQwLCAnTXV0ZScpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDAuNSlcclxuICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIG11dGVCdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLm11dGUgPSAhdGhpcy5zb3VuZC5tdXRlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgQ3JlZGl0U2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0NyZWRpdFNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHsvL2NhcmdhIGRlIGFyY2hpdm9zXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdGb25kbycsICdpbWFnZW5lcy9Gb25kby5qcGcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0JUTkNyZWRpdCcsICdpbWFnZW5lcy9DcmVkaXRvc0NXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQXV0b3JlcycsJ2ltYWdlbmVzL0F1dG9yZXNDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3NmeCcsICdhdWRpby9tZW51c2Z4Lm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuXHJcbiAgICAgICAgLy9mb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQwMCwgMzAwLCAnRm9uZG8nKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBjcmVkaXRCdG4gPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDkwLCBcIkJUTkNyZWRpdFwiKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgICAgICAgICBjcmVkaXRCdG4uc2V0U2NhbGUoMS41KTtcclxuICAgICAgICBcclxuXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDAwLDMwMCwnQXV0b3JlcycpLnNldFNjYWxlKDAuMyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgbWVudUJ0biA9IHRoaXMuYWRkLmltYWdlKDQwMCwgNTI1LCAnQlROTWVudScpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC4zKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBtZW51QnRuLnNldFNjYWxlKDAuMzUpKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBtZW51QnRuLnNldFNjYWxlKDAuMykpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3NmeCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgY29ubmVjdGlvbk1hbmFnZXIgfSBmcm9tICcuLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlcic7IFxyXG5pbXBvcnQgeyBjcmVhdGVVc2VyQ29udHJvbGxlciB9IGZyb20gJy4uLy4uL3NlcnZlci9jb250cm9sbGVycy91c2VyQ29udHJvbGxlcic7XHJcbmltcG9ydCB7IGNyZWF0ZVVzZXJTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmVyL3NlcnZpY2VzL3VzZXJTZXJ2aWNlJztcclxuLy9pbXBvcnQgeyB1c2VyQ29udHJvbGxlciB9IGZyb20gJy4uLy4uL3NlcnZlci9jb250cm9sbGVycy91c2VyQ29udHJvbGxlci5qcyc7XHJcblxyXG5jb25zdCBBUElfQkFTRSA9IGBodHRwOi8vJHt3aW5kb3cubG9jYXRpb24uaG9zdG5hbWV9OjMwMDBgO1xyXG5cclxuZXhwb3J0IGNsYXNzIE9ubGluZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdPbmxpbmVTY2VuZScpO1xyXG4gICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCYXNlUmVkJywgJ2ltYWdlbmVzL1RhbnF1ZVJvam9DVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1RvcnJldGFSZWQnLCAnaW1hZ2VuZXMvQ2Fub25Sb2pvQ1cucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmFzZUdyZWVuJywgJ2ltYWdlbmVzL1RhbnF1ZVZlcmRlQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdUb3JyZXRhR3JlZW4nLCAnaW1hZ2VuZXMvQ2Fub25WZXJkZUNXLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0Jhc2VCbHVlJywgJ2ltYWdlbmVzL1RhbnF1ZUF6dWxDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1RvcnJldGFCbHVlJywgJ2ltYWdlbmVzL0Nhbm9uQXp1bENXLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0Jhc2VZZWxsb3cnLCAnaW1hZ2VuZXMvVGFucXVlQW1hcmlsbG9DVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1RvcnJldGFZZWxsb3cnLCAnaW1hZ2VuZXMvQ2Fub25BbWFyaWxsb0NXLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BsYXknLCAnaW1hZ2VuZXMvUExBWUNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQlROTWVudScsICdpbWFnZW5lcy9NZW51Q1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCYXN1cmEnLCAnaW1hZ2VuZXMvRWxpbWluYXJDVy5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCdWJibGUnLCAnaW1hZ2VuZXMvQnVyYnVqYUNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRWxpZ2UnLCAnaW1hZ2VuZXMvRWxpZ2VDb2xvckNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc2Z4JywgJ2F1ZGlvL21lbnVzZngubXAzJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRXNjdWRvJywgJ2ltYWdlbmVzL0VzY3Vkb0NXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTm9GdWVnb0FtaWdvJywgJ2ltYWdlbmVzL05vRnVlZ29BbWlnb0NXLnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCBNYXR0ZXIgPSB0aGlzLm1hdHRlcjsvL25vIHNlIHBvcnF1ZSBwZXJvIGhheSBxdWUgcG9uZXIgZXN0b1xyXG4gICAgICAgIC8vIEZvbmRvXHJcbiAgICAgICAgdGhpcy5jb25uZWN0ZWQ9ZmFsc2U7XHJcbiAgICAgICAgY29uc3QgdXNlclNlcnZpY2UgPSBjcmVhdGVVc2VyU2VydmljZSgpO1xyXG4gICAgICAgIGNvbnN0IHVzZXJDb250cm9sbGVyID0gY3JlYXRlVXNlckNvbnRyb2xsZXIodXNlclNlcnZpY2UpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDMwMCwgJ0ZvbmRvJyk7XHJcbiAgICAgICAgY29uc3Qgb25saW5lQnRuID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCA5MCwgXCJCVE5PbmxpbmVcIilcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjMzKTtcclxuICAgICAgICAvKlxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAzMTAsICdMYSBmdW5jaW9uYWxpZGFkIG9ubGluZSBubyBlc3TDoSBkaXNwb25pYmxlIGVuIGVzdGEgdmVyc2nDs24nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICAqL1xyXG4gICAgICAgIGNvbnN0IG1lbnVCdG4gPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDUyNSwgJ0JUTk1lbnUnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuMylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbWVudUJ0bi5zZXRTY2FsZSgwLjM1KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbWVudUJ0bi5zZXRTY2FsZSgwLjMpKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdzZngnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyAtLS0tLS0tLS0gTE9HSU4gLS0tLS0tLS0tXHJcbiAgICAgICAgdGhpcy5jb2xvclBsYXllcjEgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucGxheSA9IHRoaXMuYWRkLmltYWdlKDQwMCwgNDAwLCAnUGxheScpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC4zKS5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheS5zZXRTY2FsZSgwLjM1KTsgICAgICAgLy8gYXVtZW50YSB0YW1hw7FvIHVuIDEwJVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXkuc2V0U2NhbGUoMC4zKTsgICAgICAgICAvLyB2dWVsdmUgYWwgdGFtYcOxbyBvcmlnaW5hbFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4geyBcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTG9naW4oKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5iYXN1cmEgPSB0aGlzLmFkZC5pbWFnZSg1NTAsIDMxMCwgJ0Jhc3VyYScpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC4zKS5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFzdXJhLnNldFNjYWxlKDAuMzUpOyAgICAgICAvLyBhdW1lbnRhIHRhbWHDsW8gdW4gMTAlXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFzdXJhLnNldFNjYWxlKDAuMyk7ICAgICAgICAgLy8gdnVlbHZlIGFsIHRhbWHDsW8gb3JpZ2luYWxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHsgXHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURlbGV0ZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBDcmVhciBpbnB1dCBIVE1MIHkgZ3VhcmRhcmxvIGVuIHRoaXMuaW5wdXROYW1lXHJcbiAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5nYW1lLmNhbnZhcztcclxuICAgICAgICBjb25zdCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICAgICAgICB0aGlzLmlucHV0TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICAgICAgdGhpcy5pbnB1dE5hbWUudHlwZSA9ICd0ZXh0JztcclxuICAgICAgICB0aGlzLmlucHV0TmFtZS5wbGFjZWhvbGRlciA9ICdUdSBhcG9kby4uLic7XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXROYW1lLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICAgICAgICB0aGlzLmlucHV0TmFtZS5zdHlsZS50b3AgPSAocmVjdC50b3AgKyAzMDApICsgJ3B4JztcclxuICAgICAgICB0aGlzLmlucHV0TmFtZS5zdHlsZS5sZWZ0ID0gKHJlY3QubGVmdCArIDI3MCkgKyAncHgnO1xyXG4gICAgICAgIHRoaXMuaW5wdXROYW1lLnN0eWxlLmZvbnRTaXplID0gJzIwcHgnO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuaW5wdXROYW1lKTtcclxuXHJcblxyXG4gICAgICAgIC8vIC0tLS0tLS0tLSBFc3RhZG8gZGVsIHNlcnZpZG9yIC0tLS0tLS0tLVxyXG5cclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0MiA9IHRoaXMuYWRkLnRleHQoNDI1LCA0NzAsICdTZXJ2aWRvcjogQ29tcHJvYmFuZG8uLi4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzhkOGQzYmZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ29ubmVjdGlvbkRpc3BsYXkoZGF0YSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIuYWRkTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG5cclxuICAgICAgICAvLyBSZWdpc3RyYXIgZXZlbnRvcyBkZSBhcGFnYWRvIGRlIGVzY2VuYVxyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdzaHV0ZG93bicsIHRoaXMub25TaHV0ZG93biwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ2Rlc3Ryb3knLCB0aGlzLm9uU2h1dGRvd24sIHRoaXMpO1xyXG5cclxuICAgICAgICAvLy0tLS0tLS10YW5xdWVzIHBhcmEgc2VsZWNjacOzbiBkZSBhdmF0YXItLS0tLS0tXHJcbiAgICAgICAgdGhpcy5wMU9wdGlvbnMgPSBbXTtcclxuXHJcbiAgICAgICAgY29uc3QgY3JlYXRlVGFua09wdGlvbiA9ICh4LCB5LCBjb2xvcktleSwgb25DbGljaykgPT4ge1xyXG4gICAgICAgICAgICAvLyBSZWN0w6FuZ3VsbyBkZSBzZWxlY2Npw7NuIChpbnZpc2libGUgYWwgaW5pY2lvKVxyXG4gICAgICAgICAgICBcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGJhc2UgPSB0aGlzLmFkZC5pbWFnZSgwLCAwLCBgQmFzZSR7Y29sb3JLZXl9YCkuc2V0U2NhbGUoMS4yKS5zZXREZXB0aCgxMCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHR1cnJldCA9IHRoaXMuYWRkLmltYWdlKDAsIDAsIGBUb3JyZXRhJHtjb2xvcktleX1gKS5zZXRTY2FsZSgxLjIpLnNldE9yaWdpbigwLjIsMC41KS5zZXREZXB0aCgxNSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBoaWdobGlnaHQgPSB0aGlzLmFkZC5pbWFnZSgwLCAwLCBcIkJ1YmJsZVwiKS5zZXRTY2FsZSgxLjYpLnNldERlcHRoKDQwKTtcclxuICAgICAgICAgICAgaGlnaGxpZ2h0LnNldFZpc2libGUoZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5hZGQuY29udGFpbmVyKHgsIHksIFtiYXNlLCB0dXJyZXQsaGlnaGxpZ2h0XSk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zZXRTaXplKGJhc2Uud2lkdGggKiAxLjIsIGJhc2UuaGVpZ2h0ICogMS4yKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zZXREYXRhKCdjb2xvcktleScsIGNvbG9yS2V5KTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnNldERhdGEoJ3NlbGVjdGVkJywgZmFsc2UpO1xyXG4gICAgICAgICAgICBjb250YWluZXIuc2V0RGF0YSgnZGlzYWJsZWQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zZXREYXRhKCdoaWdobGlnaHQnLCBoaWdobGlnaHQpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL2xvY2FsQnRuLnNldFRpbnQoMHgwMGZmODgpOyAgIC8vIGFwbGljYSBjb2xvclxyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnNldFNjYWxlKDEuMyk7ICAgICAgIC8vIGF1bWVudGEgdGFtYcOxbyB1biAxMCVcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgY29udGFpbmVyLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy9sb2NhbEJ0bi5zZXRUaW50KDB4MDBmZjAwKTsgICAvLyB2dWVsdmUgYWwgY29sb3Igb3JpZ2luYWxcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZXRTY2FsZSgxLjApOyAgICAgICAgIC8vIHZ1ZWx2ZSBhbCB0YW1hw7FvIG9yaWdpbmFsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyBDbGljayBwYXJhIHNlbGVjY2lvbmFyXHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5vbigncG9pbnRlcnVwJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5nZXREYXRhKCdkaXNhYmxlZCcpKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrKGNvbG9yS2V5LCBjb250YWluZXIpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCBjb2xvcnMgPSBbJ1JlZCcsICdCbHVlJywgJ0dyZWVuJywgJ1llbGxvdyddO1xyXG4gICAgICAgIGNvbnN0IHAxWCA9IDI0MDtcclxuICAgICAgICBjb25zdCBzdGFydFkgPSAyNDA7XHJcbiAgICAgICAgY29uc3QgZ2FwWSA9IDEwMDtcclxuICAgICAgICBjb2xvcnMuZm9yRWFjaCgoY29sb3IsIGkpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb3B0ID0gY3JlYXRlVGFua09wdGlvbihwMVgrIGkgKiBnYXBZLCBzdGFydFkgLCBjb2xvciwgKGtleSwgb3B0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yUGxheWVyMSA9IGtleTtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFya1NlbGVjdGVkKHRoaXMucDFPcHRpb25zLCBvcHRpb24pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5wMU9wdGlvbnMucHVzaChvcHQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGhhbmRsZURlbGV0ZSgpIHtcclxuICAgICAgICBjb25zdCBub21icmUgPSB0aGlzLmlucHV0TmFtZS52YWx1ZS50cmltKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJFbGltaW5hbmRvIHVzdWFyaW8uLi5cIik7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJOb21icmUgaW5ncmVzYWRvOlwiLCBub21icmUpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQXZhdGFyIHNlbGVjY2lvbmFkbzpcIiwgdGhpcy5jb2xvclBsYXllcjEpO1xyXG5cclxuICAgICAgICBpZiAobm9tYnJlLmxlbmd0aCA9PT0gMCB8fCAhdGhpcy5jb25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdzZngnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlVzdWFyaW8gaW52w6FsaWRvIHBhcmEgZWxpbWluYXIuXCIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB1c2VyID0gYXdhaXQgdGhpcy5nZXRQbGF5ZXJCeU5hbWUobm9tYnJlKTtcclxuXHJcbiAgICAgICAgLy8gU2kgZGV2dWVsdmUgW10g4oaSIG5vIGV4aXN0ZVxyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHVzZXIpICYmIHVzZXIubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHVzZXIgPSBudWxsO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh1c2VyKSkge1xyXG4gICAgICAgICAgICB1c2VyID0gdXNlclswXTsgLy8gdG9tYXIgZWwgdXN1YXJpbyByZWFsXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodXNlcikge1xyXG4gICAgICAgICAgICAvLyBVc3VhcmlvIGV4aXN0ZW50ZVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVsaW1pbmFuZG8gdXN1YXJpbyBleGlzdGVudGUuXCIpO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmRlbGV0ZVBsYXllcih1c2VyLmlkKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJVc3VhcmlvIGVsaW1pbmFkbzpcIiwgdXNlcik7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVXN1YXJpbyBubyBleGlzdGUsIG5vIHNlIHB1ZWRlIGVsaW1pbmFyLlwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGhhbmRsZUxvZ2luKCkge1xyXG4gICAgICAgIGNvbnN0IG5vbWJyZSA9IHRoaXMuaW5wdXROYW1lLnZhbHVlLnRyaW0oKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIk5vbWJyZSBpbmdyZXNhZG86XCIsIG5vbWJyZSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJBdmF0YXIgc2VsZWNjaW9uYWRvOlwiLCB0aGlzLmNvbG9yUGxheWVyMSk7XHJcblxyXG4gICAgICAgIGlmIChub21icmUubGVuZ3RoID09PSAwIHx8ICF0aGlzLmNvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3NmeCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUG9yIGZhdm9yLCBpbmdyZXNhIHVuIG5vbWJyZSB2w6FsaWRvLlwiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHVzZXIgPSBhd2FpdCB0aGlzLmdldFBsYXllckJ5TmFtZShub21icmUpO1xyXG5cclxuICAgICAgICAvLyBTaSBkZXZ1ZWx2ZSBbXSDihpIgbm8gZXhpc3RlXHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodXNlcikgJiYgdXNlci5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgdXNlciA9IG51bGw7XHJcbiAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHVzZXIpKSB7XHJcbiAgICAgICAgICAgIHVzZXIgPSB1c2VyWzBdOyAvLyB0b21hciBlbCB1c3VhcmlvIHJlYWxcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBpZiAodXNlcikge1xyXG4gICAgICAgICAgICAvLyBVc3VhcmlvIGV4aXN0ZW50ZVxyXG4gICAgICAgICAgICBpZiAodGhpcy5jb2xvclBsYXllcjEgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQWN0dWFsaXphbmRvIGF2YXRhciBkZWwgdXN1YXJpbyBleGlzdGVudGUuXCIpO1xyXG4gICAgICAgICAgICAgICAgdXNlciA9IGF3YWl0IHRoaXMudXBkYXRlUGxheWVyKHVzZXIuaWQsIHtcclxuICAgICAgICAgICAgICAgICAgICBhdmF0YXI6IHRoaXMuY29sb3JQbGF5ZXIxXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVXNhbmRvIGF2YXRhciBleGlzdGVudGUgZGVsIHVzdWFyaW8uXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvclBsYXllcjEgPSB1c2VyLmF2YXRhcjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBVc3VhcmlvIG51ZXZvXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbG9yUGxheWVyMSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQb3IgZmF2b3IsIHNlbGVjY2lvbmEgdW4gYXZhdGFyLlwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJDcmVhbmRvIHVzdWFyaW8gbnVldm8uLi5cIik7XHJcbiAgICAgICAgICAgIHVzZXIgPSBhd2FpdCB0aGlzLmNyZWF0ZVBsYXllcih7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBub21icmUsXHJcbiAgICAgICAgICAgICAgICBhdmF0YXI6IHRoaXMuY29sb3JQbGF5ZXIxLFxyXG4gICAgICAgICAgICAgICAgd2luczogMFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVXN1YXJpbyBjcmVhZG86XCIsIHVzZXIpO1xyXG5cclxuICAgICAgICAgICAgLy8g4p2XIElNUE9SVEFOVEU6IE5PIGFjdHVhbGl6YXIgYXF1w61cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc291bmQucGxheSgnc2Z4JywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdMb2JieVNjZW5lJywgeyBcclxuICAgICAgICAgICAgcGxheWVyTmFtZTogdXNlci5uYW1lLCBcclxuICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhciBcclxuICAgICAgICB9KTtcclxufVxyXG5cclxuXHJcbiAgICB1cGRhdGVDb25uZWN0aW9uRGlzcGxheShkYXRhKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmNvbm5lY3Rpb25UZXh0MiB8fCAhdGhpcy5zY2VuZSB8fCAhdGhpcy5zY2VuZS5pc0FjdGl2ZSgnT25saW5lU2NlbmUnKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5jb25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQyLnNldFRleHQoYFNlcnZpZG9yOiAke2RhdGEuY291bnR9IHVzdWFyaW8ocykgY29uZWN0YWRvKHMpYCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0Mi5zZXRDb2xvcignIzVlOTI1ZWZmJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0Mi5zZXRUZXh0KCdTZXJ2aWRvcjogRGVzY29uZWN0YWRvJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0Mi5zZXRDb2xvcignI2ExNjY2NmZmJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignW09ubGluZVNjZW5lXSBFcnJvciB1cGRhdGluZyBjb25uZWN0aW9uIGRpc3BsYXk6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBNYXJjYSBzZWxlY2Npb25hZG9cclxuICAgIG1hcmtTZWxlY3RlZChvcHRpb25BcnJheSwgc2VsZWN0ZWRPcHRpb24pIHtcclxuICAgICAgICBvcHRpb25BcnJheS5mb3JFYWNoKG8gPT4ge1xyXG4gICAgICAgICAgICBvLnNldERhdGEoJ3NlbGVjdGVkJywgZmFsc2UpO1xyXG4gICAgICAgICAgICBvLmdldERhdGEoJ2hpZ2hsaWdodCcpLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNlbGVjdGVkT3B0aW9uLnNldERhdGEoJ3NlbGVjdGVkJywgdHJ1ZSk7XHJcbiAgICAgICAgc2VsZWN0ZWRPcHRpb24uZ2V0RGF0YSgnaGlnaGxpZ2h0Jykuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgc2V0T3B0aW9uRGlzYWJsZWQob3B0aW9uLCBkaXNhYmxlZCkge1xyXG4gICAgICAgIG9wdGlvbi5zZXREYXRhKCdkaXNhYmxlZCcsIGRpc2FibGVkKTtcclxuXHJcbiAgICAgICAgaWYgKGRpc2FibGVkKSB7XHJcbiAgICAgICAgICAgIG9wdGlvbi5kaXNhYmxlSW50ZXJhY3RpdmUoKTtcclxuICAgICAgICAgICAgb3B0aW9uLnNldEFscGhhKDAuMyk7XHJcbiAgICAgICAgICAgIG9wdGlvbi5zZXREYXRhKCdzZWxlY3RlZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgb3B0aW9uLmdldERhdGEoJ2hpZ2hsaWdodCcpLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG9wdGlvbi5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICAgICAgICAgIG9wdGlvbi5zZXRBbHBoYSgxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLWFwaS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgIGFzeW5jIGdldFBsYXllckJ5TmFtZShub21icmUpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFfS9hcGkvdXNlcnM/bmFtZT0ke2VuY29kZVVSSUNvbXBvbmVudChub21icmUpfWApO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdIVFRQIGVycm9yICcgKyByZXNwb25zZS5zdGF0dXMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSAmJiBkYXRhLmxlbmd0aCA+IDApIHsgXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5maW5kKHUgPT4gdS5uYW1lID09PSBub21icmUpIHx8IG51bGw7IFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvcjonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBjcmVhdGVQbGF5ZXIoZGF0YSkge1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0V9L2FwaS91c2Vyc2AsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyB1cGRhdGVQbGF5ZXIoaWQsIHVwZGF0ZXMpIHtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFfS9hcGkvdXNlcnMvJHtpZH1gLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodXBkYXRlcylcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBkZWxldGVQbGF5ZXIoaWQpIHtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFfS9hcGkvdXNlcnMvJHtpZH1gLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSByZXR1cm47IC8vIE5vIENvbnRlbnRcclxuXHJcbiAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcclxuICAgICAgICByZXR1cm4gdGV4dCA/IEpTT04ucGFyc2UodGV4dCkgOiBudWxsO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvL1xyXG4gICAgb25TaHV0ZG93bigpIHtcclxuXHJcbiAgICAgICAgLy8gUXVpdGFyIGxpc3RlbmVyIGRlbCBzZXJ2aWRvclxyXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcikge1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFF1aXRhciBpbnB1dCBIVE1MXHJcbiAgICAgICAgaWYgKHRoaXMuaW5wdXROYW1lKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5pbnB1dE5hbWUpO1xyXG4gICAgICAgICAgICB0aGlzLmlucHV0TmFtZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgVHV0b3JpYWxTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignVHV0b3JpYWxTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7Ly9jYXJnYSBkZSBhcmNoaXZvc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRm9uZG8nLCAnaW1hZ2VuZXMvRm9uZG8uanBnJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdUdXRvcmlhbCcsICdpbWFnZW5lcy9UdXRvcmlhbENXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnVHV0b3JpYWxJbmZvJywgJ2ltYWdlbmVzL0luZm9UdXRvcmlhbENXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnVGVjbGFzVHV0b3JpYWwnLCAnaW1hZ2VuZXMvVGVjbGFzVHV0b3JpYWxDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3NmeCcsICdhdWRpby9tZW51c2Z4Lm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuXHJcbiAgICAgICAgLy9mb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQwMCwgMzAwLCAnRm9uZG8nKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsODAsJ1R1dG9yaWFsJykuc2V0T3JpZ2luKDAuNSkuc2V0U2NhbGUoMC40NSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDYwMCwgMzAwLCAnVHV0b3JpYWxJbmZvJykuc2V0T3JpZ2luKDAuNSkuc2V0U2NhbGUoMC40KTtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSgyMDAsIDMwMCwgJ1RlY2xhc1R1dG9yaWFsJykuc2V0T3JpZ2luKDAuNSkuc2V0U2NhbGUoMC40KTtcclxuICAgICAgICBjb25zdCBtZW51QnRuID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCA1MjUsICdCVE5NZW51JylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjMpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IG1lbnVCdG4uc2V0U2NhbGUoMC4zNSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IG1lbnVCdG4uc2V0U2NhbGUoMC4zKSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnc2Z4JywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lT3ZlclNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdHYW1lT3ZlclNjZW5lJyk7XHJcbiAgICB9XHJcbiAgICBwcmVsb2FkKCl7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdGb25kbycsICdpbWFnZW5lcy9Gb25kby5qcGcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0JUTk1lbnUnLCAnaW1hZ2VuZXMvTWVudUNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQlROR2FuYWRvcicsICdpbWFnZW5lcy9HYW5hZG9yQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQJywgJ2ltYWdlbmVzL1Bjdy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJzEnLCAnaW1hZ2VuZXMvMUNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnMicsICdpbWFnZW5lcy8yQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzZngnLCAnYXVkaW8vbWVudXNmeC5tcDMnKTtcclxuICAgIH1cclxuICAgIGluaXQoZGF0YSl7XHJcbiAgICAgICAgdGhpcy5nYW5hZG9yPWRhdGE/LmdhbmFkb3I7XHJcbiAgICAgICAgdGhpcy5jb2xvcj1kYXRhPy5jb2xvcjtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDAwLCAzMDAsICdGb25kbycpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDEwMCwgJ0JUTkdhbmFkb3InKS5zZXRPcmlnaW4oMC41KS5zZXRTY2FsZSgwLjYpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSgzNTUsIDIwMCwgJ1AnKS5zZXRPcmlnaW4oMC41KS5zZXRTY2FsZSgwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCBnYW5hZG9yID0gdGhpcy5nYW5hZG9yO1xyXG4gICAgICAgIGxldCBnYW5hZG9yS2V5ID0gbnVsbDtcclxuICAgICAgICBpZiAoZ2FuYWRvci5pbmNsdWRlcygnMScpKSBnYW5hZG9yS2V5ID0gJzEnO1xyXG4gICAgICAgIGVsc2UgaWYgKGdhbmFkb3IuaW5jbHVkZXMoJzInKSkgZ2FuYWRvcktleSA9ICcyJztcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0NDUsIDIwMCwgZ2FuYWRvcktleSkuc2V0T3JpZ2luKDAuNSkuc2V0U2NhbGUoMC41KTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDM3NSwgYEJhc2Uke3RoaXMuY29sb3J9YCkuc2V0T3JpZ2luKDAuNSwgMC41KS5zZXRTY2FsZSgzKTtcclxuICAgICAgICBpZih0aGlzLmNvbG9yPT09J0FtYXJpbGxvJyB8fCB0aGlzLmNvbG9yPT09J1ZlcmRlJyl7XHJcbiAgICAgICAgICAgIHRoaXMudG9ycmU9dGhpcy5hZGQuaW1hZ2UoNDAwLCAzNzUsIGBUb3JyZXRhJHt0aGlzLmNvbG9yfWApLnNldE9yaWdpbigwLjIsIDAuNSkuc2V0U2NhbGUoMyk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMudG9ycmU9dGhpcy5hZGQuaW1hZ2UoNDAwLCAzNzUsIGBUb3JyZXRhJHt0aGlzLmNvbG9yfWApLnNldE9yaWdpbigwLjE1LCAwLjUpLnNldFNjYWxlKDMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuXHJcbiAgICAgICAgY29uc3QgbWVudUJ0biA9IHRoaXMuYWRkLmltYWdlKDQwMCw1NDAsJ0JUTk1lbnUnKS5zZXRPcmlnaW4oMC41KS5zZXRTY2FsZSgwLjQpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHt1c2VIYW5kQ3Vyc29yOiB0cnVlfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbWVudUJ0bi5zZXRTY2FsZSgwLjQzKSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBtZW51QnRuLnNldFNjYWxlKDAuNCkpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdzZngnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKXtcclxuICAgICAgICB0aGlzLnRvcnJlLnJvdGF0aW9uKz1NYXRoLlBJLzE4MDtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgT3B0aW9uc1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdPcHRpb25zU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkgey8vY2FyZ2EgZGUgYXJjaGl2b3NcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0ZvbmRvJywgJ2ltYWdlbmVzL0ZvbmRvLmpwZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQlROTWVudScsICdpbWFnZW5lcy9NZW51Q1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdPcGNpb25lcycsICdpbWFnZW5lcy9PcGNpb25lc0NXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmFycmEnLCAnaW1hZ2VuZXMvQmFycmFNdXNpY2FDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ011dGUnLCAnaW1hZ2VuZXMvTXV0ZUNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRGVzbGl6YWRvcicsICdpbWFnZW5lcy9EZXNsaXphZG9yTXVzaWNhQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzZngnLCAnYXVkaW8vbWVudXNmeC5tcDMnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy9mb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQwMCwgMzAwLCAnRm9uZG8nKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDkwLCAnT3BjaW9uZXMnKS5zZXRTY2FsZSgwLjUpLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IG1lbnVCdG4gPSB0aGlzLmFkZC5pbWFnZSg0MDAsNTI1LCdCVE5NZW51Jykuc2V0T3JpZ2luKDAuNSkuc2V0U2NhbGUoMC40KVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7dXNlSGFuZEN1cnNvcjogdHJ1ZX0pXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IG1lbnVCdG4uc2V0U2NhbGUoMC40MykpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbWVudUJ0bi5zZXRTY2FsZSgwLjQpKVxyXG4gICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnc2Z4JywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgY29uc3QgeCA9IDQwMDtcclxuICAgIGNvbnN0IHkgPSAzMDA7XHJcblxyXG4gICAgLy8gQmFycmEgZGVsIHNsaWRlclxyXG4gICAgdGhpcy5zbGlkZXJCYXIgPSB0aGlzLmFkZC5pbWFnZSh4LCB5LCAnQmFycmEnKS5zZXREaXNwbGF5U2l6ZSgyMDAsNjgpLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIC8vIE9idGVuZXIgdm9sdW1lbiBnbG9iYWwgYWN0dWFsICgwIGEgMSlcclxuICAgIGNvbnN0IGN1cnJlbnRWb2x1bWUgPSBQaGFzZXIuTWF0aC5DbGFtcCh0aGlzLnNvdW5kLnZvbHVtZSA/PyAxLCAwLCAxKTtcclxuXHJcbiAgICAvLyBDb252ZXJ0aXIgdm9sdW1lbiBhIHBvc2ljacOzbiBkZWwgaGFuZGxlXHJcbiAgICBjb25zdCBtaW5YID0geCAtIDgwO1xyXG4gICAgY29uc3QgbWF4WCA9IHggKyA4MDtcclxuICAgIGNvbnN0IGhhbmRsZVggPSBtaW5YICsgKG1heFggLSBtaW5YKSAqIGN1cnJlbnRWb2x1bWU7XHJcblxyXG4gICAgLy8gQ3JlYXIgaGFuZGxlIGVuIGxhIHBvc2ljacOzbiBjb3JyZWN0YVxyXG4gICAgdGhpcy5zbGlkZXJIYW5kbGUgPSB0aGlzLmFkZC5pbWFnZShoYW5kbGVYLCB5LCAnRGVzbGl6YWRvcicpLnNldFNjYWxlKDAuNSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyBkcmFnZ2FibGU6IHRydWUgfSk7XHJcblxyXG4gICAgdGhpcy5pbnB1dC5zZXREcmFnZ2FibGUodGhpcy5zbGlkZXJIYW5kbGUpO1xyXG5cclxuICAgIC8vIEV2ZW50byBkZSBhcnJhc3RyZVxyXG4gICAgdGhpcy5pbnB1dC5vbignZHJhZycsIChwb2ludGVyLCBnYW1lT2JqZWN0LCBkcmFnWCkgPT4ge1xyXG4gICAgICAgIGlmIChnYW1lT2JqZWN0ICE9PSB0aGlzLnNsaWRlckhhbmRsZSkgcmV0dXJuO1xyXG4gICAgICAgIGdhbWVPYmplY3QueCA9IFBoYXNlci5NYXRoLkNsYW1wKGRyYWdYLCBtaW5YLCBtYXhYKTtcclxuICAgICAgICB0aGlzLnNvdW5kLm11dGUgPSBmYWxzZTsgLy8gRGVzbXV0ZWFyIGFsIG1vdmVyIGVsIHNsaWRlclxyXG4gICAgICAgIHRoaXMuc291bmQudm9sdW1lID0gKGdhbWVPYmplY3QueCAtIG1pblgpIC8gKG1heFggLSBtaW5YKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAvLyBCb3TDs24gTXV0ZSBzaW1wbGVcclxuICAgIGNvbnN0IG11dGVCdG4gPSB0aGlzLmFkZC5pbWFnZSh4LCB5ICsgNDAsICdNdXRlJykuc2V0T3JpZ2luKDAuNSkuc2V0U2NhbGUoMC41KVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgbXV0ZUJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5tdXRlID0gIXRoaXMuc291bmQubXV0ZTtcclxuICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBjb25uZWN0aW9uTWFuYWdlciB9IGZyb20gJy4uL3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyJztcclxuXHJcbi8qKlxyXG4gKiBFc2NlbmEgcXVlIHNlIG11ZXN0cmEgY3VhbmRvIHNlIHBpZXJkZSBsYSBjb25leGnDs24gY29uIGVsIHNlcnZpZG9yXHJcbiAqIFBhdXNhIGVsIHJlc3RvIGRlIGVzY2VuYXMgeSBjb21wcnVlYmEgY29udGludWFtZW50ZSBoYXN0YSBxdWUgc2UgcmVzdGFibGV6Y2FcclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb25uZWN0aW9uTG9zdFNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ29ubmVjdGlvbkxvc3RTY2VuZScpO1xyXG4gICAgICAgIHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0NvbmV4aW9uUGVyZGlkYScsICdpbWFnZW5lcy9Db25leGlvblBlcmRpZGFDVy5wbmcnKTtcclxuICAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdGb25kbycsICdpbWFnZW5lcy9Gb25kby5qcGcnKTtcclxuICAgIH1cclxuICAgIGluaXQoZGF0YSkge1xyXG4gICAgICAgIC8vIEd1YXJkYXIgbGEgZXNjZW5hIHF1ZSBlc3RhYmEgYWN0aXZhIGN1YW5kbyBzZSBwZXJkacOzIGxhIGNvbmV4acOzblxyXG4gICAgICAgIHRoaXMucHJldmlvdXNTY2VuZSA9IGRhdGEucHJldmlvdXNTY2VuZTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gRm9uZG8gc2VtaS10cmFuc3BhcmVudGVcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDMwMCwgJ0ZvbmRvJyk7XHJcblxyXG4gICAgICAgIC8vIFTDrXR1bG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDEwMCwgXCJDb25leGlvblBlcmRpZGFcIikuc2V0U2NhbGUoMC40KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gTWVuc2FqZVxyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dCA9IHRoaXMuYWRkLnRleHQoNDAwLCAzMDAsICdJbnRlbnRhbmRvIHJlY29uZWN0YXIuLi4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmMDAwMCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy9ib3RvbiBtZW51XHJcbiAgICAgICAgY29uc3QgbWVudUJ0biA9IHRoaXMuYWRkLmltYWdlKDQwMCwgNTI1LCAnQlROTWVudScpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC4zKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBtZW51QnRuLnNldFNjYWxlKDAuMzUpKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBtZW51QnRuLnNldFNjYWxlKDAuMykpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3NmeCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AodGhpcy5wcmV2aW91c1NjZW5lKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gXHJcblxyXG4gICAgICAgIC8vIENvbnRhZG9yIGRlIGludGVudG9zXHJcbiAgICAgICAgdGhpcy5hdHRlbXB0Q291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdFRleHQgPSB0aGlzLmFkZC50ZXh0KDQwMCwgMzUwLCAnSW50ZW50b3M6IDAnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gSW5kaWNhZG9yIHBhcnBhZGVhbnRlXHJcbiAgICAgICAgdGhpcy5kb3RDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICAgICAgZGVsYXk6IDIwMDAsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRvdENvdW50ID0gKHRoaXMuZG90Q291bnQgKyAxKSAlIDQ7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkb3RzID0gJy4nLnJlcGVhdCh0aGlzLmRvdENvdW50KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KGBJbnRlbnRhbmRvIHJlY29uZWN0YXIke2RvdHN9YCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gTGlzdGVuZXIgcGFyYSBjYW1iaW9zIGRlIGNvbmV4acOzblxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuY29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uUmVjb25uZWN0ZWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIuYWRkTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG5cclxuICAgICAgICAvLyBJbnRlbnRhciByZWNvbmVjdGFyIGNhZGEgMiBzZWd1bmRvc1xyXG4gICAgICAgIHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hdHRlbXB0UmVjb25uZWN0KCk7XHJcbiAgICAgICAgfSwgMjAwMCk7XHJcblxyXG4gICAgICAgIC8vIFByaW1lciBpbnRlbnRvIGlubWVkaWF0b1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdFJlY29ubmVjdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGF0dGVtcHRSZWNvbm5lY3QoKSB7XHJcbiAgICAgICAgdGhpcy5hdHRlbXB0Q291bnQrKztcclxuICAgICAgICB0aGlzLmF0dGVtcHRUZXh0LnNldFRleHQoYEludGVudG9zOiAke3RoaXMuYXR0ZW1wdENvdW50fWApO1xyXG4gICAgICAgIGF3YWl0IGNvbm5lY3Rpb25NYW5hZ2VyLmNoZWNrQ29ubmVjdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uUmVjb25uZWN0ZWQoKSB7XHJcbiAgICAgICAgLy8gTGltcGlhciBpbnRlcnZhbFxyXG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlciBsaXN0ZW5lclxyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuXHJcbiAgICAgICAgLy8gTWVuc2FqZSBkZSDDqXhpdG9cclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnwqFDb25leGnDs24gcmVzdGFibGVjaWRhIScpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignIzAwZmYwMCcpO1xyXG5cclxuICAgICAgICAvLyBWb2x2ZXIgYSBsYSBlc2NlbmEgYW50ZXJpb3JcclxuICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMTAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMucHJldmlvdXNTY2VuZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUodGhpcy5wcmV2aW91c1NjZW5lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNodXRkb3duKCkge1xyXG4gICAgICAgIC8vIExpbXBpYXIgZWwgaW50ZXJ2YWwgYWwgY2VycmFyIGxhIGVzY2VuYVxyXG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBSZW1vdmVyIGVsIGxpc3RlbmVyXHJcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBUYW5rIH0gZnJvbSAnLi4vZW50aXRpZXMvVGFuayc7XHJcbmltcG9ydCB7IFBvd2VyVXBHZW5lcmF0b3IgfSBmcm9tICcuLi9lbnRpdGllcy9Qb3dlclVwR2VuZXJhdG9yLmpzJztcclxuaW1wb3J0IHsgQ29tbWFuZFByb2Nlc3NvciB9IGZyb20gJy4uL2NvbW1hbmRzL0NvbW1hbmRQcm9jZXNzb3InO1xyXG5pbXBvcnQgeyBNb3ZlVGFua0NvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kcy9Nb3ZlVGFua0NvbW1hbmQnO1xyXG5pbXBvcnQgeyBjb25uZWN0aW9uTWFuYWdlciB9IGZyb20gJy4uL3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyJztcclxuaW1wb3J0IHsgUG93ZXJVcCB9IGZyb20gJy4uL2VudGl0aWVzL1Bvd2VyVXAuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIE9ubGluZUdhbWVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ09ubGluZUdhbWVTY2VuZScpO1xyXG4gICAgfVxyXG4gICAgcHJlbG9hZCgpIHsvL2NhcmdhIGRlIGFyY2hpdm9zXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdGb25kbycsICdpbWFnZW5lcy9Gb25kby5qcGcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1ZpZGEnLCAnaW1hZ2VuZXMvVmlkYUNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQnViYmxlJywgJ2ltYWdlbmVzL0J1cmJ1amFDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ01lZGlvTWFwYScsICdpbWFnZW5lcy9NZWRpb09ic3RhY3Vsb0NXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUGFsbycsICdpbWFnZW5lcy9QYWxvT2JzdGFjdWxvQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCbG9xdWVTaW1wbGUnLCAnaW1hZ2VuZXMvVGlsZU11cm8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCb3R0b21Ub3BXYWxsJywgJ2ltYWdlbmVzL0JvdHRvbVRvcENXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTGVmdFJpZ2h0V2FsbCcsICdpbWFnZW5lcy9MZWZ0UmlnaHRDVy5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCYXNlUmVkJywgJ2ltYWdlbmVzL1RhbnF1ZVJvam9DVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1RvcnJldGFSZWQnLCAnaW1hZ2VuZXMvQ2Fub25Sb2pvQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCYWxhUmVkJywgJ2ltYWdlbmVzL0JhbGFOUm9qb0N3LnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0Jhc2VHcmVlbicsICdpbWFnZW5lcy9UYW5xdWVWZXJkZUNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnVG9ycmV0YUdyZWVuJywgJ2ltYWdlbmVzL0Nhbm9uVmVyZGVDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0JhbGFHcmVlbicsICdpbWFnZW5lcy9CYWxhTlZlcmRlQ1cucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmFzZUJsdWUnLCAnaW1hZ2VuZXMvVGFucXVlQXp1bENXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnVG9ycmV0YUJsdWUnLCAnaW1hZ2VuZXMvQ2Fub25BenVsQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCYWxhQmx1ZScsICdpbWFnZW5lcy9CYWxhTkF6dWxDVy5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCYXNlWWVsbG93JywgJ2ltYWdlbmVzL1RhbnF1ZUFtYXJpbGxvQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdUb3JyZXRhWWVsbG93JywgJ2ltYWdlbmVzL0Nhbm9uQW1hcmlsbG9DVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0JhbGFZZWxsb3cnLCAnaW1hZ2VuZXMvQmFsYU5BbWFyaWxsb0NXLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ011cm9CbG9xdWU2JywgJ2ltYWdlbmVzL01lZGlvT2JzdGFjdWxvQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCbG9xdWUnLCAnaW1hZ2VuZXMvVGlsZU11cm8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQYWxvJywgJ2ltYWdlbmVzL1BhbG9PYnN0YWN1bG9DVy5wbmcnKTtcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICBcclxuICAgIH1cclxuICAgIGluaXQoZGF0YSkge1xyXG4gICAgICAgIHRoaXMud3M9ZGF0YS53cztcclxuICAgICAgICB0aGlzLnBsYXllclJvbGUgPSBkYXRhLnBsYXllclJvbGU7IC8vICdwbGF5ZXIxJyBvciAncGxheWVyMidcclxuICAgICAgICB0aGlzLnJvb21JZCA9IGRhdGEucm9vbUlkO1xyXG5cclxuICAgICAgICB0aGlzLmxvY2FsVGFuayA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5yZW1vdGVUYW5rID0gbnVsbDtcclxuICAgICAgICB0aGlzLnByb2Nlc3NvciA9IG5ldyBDb21tYW5kUHJvY2Vzc29yKCk7Ly9wYXJhIGxvY2FsXHJcblxyXG4gICAgICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTtcclxuICAgICAgICAvL3RoaXMucG93ZXJVcEdlbmVyYXRvciA9IG51bGw7XHJcbiAgICAgICAgLy90aGlzLnByb2Nlc3NvciA9IG5ldyBDb21tYW5kUHJvY2Vzc29yKCk7XHJcbiAgICAgICAgdGhpcy5pc0dhbWVPdmVyID0gZmFsc2U7XHJcbiAgICAgICAgLy8gQ29sb3JlcyBxdWUgdmllbmVuIGRlIFNlbGVjdENvbG9yXHJcbiAgICAgICAgLy9taXJhciBzaSBjb2xvcmVzIGRlIGFtYm9zIGp1Z2Fkb3JlcyBzb24gaWd1YWxlc1xyXG4gICAgICAgIHRoaXMuY29sb3JQbGF5ZXIxID0gZGF0YS5hdmF0YXIxO1xyXG4gICAgICAgIHRoaXMuY29sb3JQbGF5ZXIyID0gZGF0YS5hdmF0YXIyO1xyXG4gICAgICAgIHRoaXMubmFtZTEgPSBkYXRhLm5hbWUxO1xyXG4gICAgICAgIHRoaXMubmFtZTIgPSBkYXRhLm5hbWUyO1xyXG4gICAgICAgIC8vYWp1c3RhciBlbCBjb2xvclxyXG4gICAgICAgIGlmKHRoaXMuY29sb3JQbGF5ZXIyID09PSB0aGlzLmNvbG9yUGxheWVyMSl7XHJcbiAgICAgICAgICAgIC8vbWlzbW8gY29sb3JcclxuICAgICAgICAgICAgY29uc3QgY29sb3JzID0gWydSZWQnLCAnQmx1ZScsICdHcmVlbicsICdZZWxsb3cnXTtcclxuICAgICAgICAgICAgbGV0IGRpc3BvbmlibGVzID0gY29sb3JzLmZpbHRlcihlID0+IGUgIT09IHRoaXMuY29sb3JQbGF5ZXIxKTsgXHJcbiAgICAgICAgICAgIGxldCBlbGVnaWRvID0gUGhhc2VyLlV0aWxzLkFycmF5LkdldFJhbmRvbShkaXNwb25pYmxlcyk7XHJcbiAgICAgICAgICAgIGlmKHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3JQbGF5ZXIyID0gZWxlZ2lkbztcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yUGxheWVyMSA9IGVsZWdpZG87XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy51c2VQb3dlclVwcyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcblxyXG4gICAgICAgIHRoaXMucG93ZXJVcHNHcm91cCA9IHRoaXMucGh5c2ljcy5hZGQuZ3JvdXAoKTtcclxuICAgICAgICAvL211c2ljYVxyXG4gICAgICAgIGNvbnN0IG11c2ljYU1lbnUgPSB0aGlzLnNvdW5kLmdldCgnbXVzaWNhX21lbnUnKTsgICAgXHJcbiAgICAgICAgbXVzaWNhTWVudT8uc3RvcCgpO1xyXG4gICAgICAgIGxldCBtdXNpY2FKdWVnbyA9IHRoaXMuc291bmQuZ2V0KCdtdXNpY2FfZ2FtZScpO1xyXG4gICAgICAgIGlmICghbXVzaWNhSnVlZ28pIHtcclxuICAgICAgICAgICBtdXNpY2FKdWVnbyA9IHRoaXMuc291bmQuYWRkKCdtdXNpY2FfZ2FtZScsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAwLjQgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghbXVzaWNhSnVlZ28uaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgbXVzaWNhSnVlZ28ucGxheSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9mb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQwMCwgMzAwLCAnRm9uZG8nKTsgICAgICAgXHJcbiAgICAgICAgdGhpcy5jcmVhdGVCb3VuZHMoKTtcclxuXHJcblxyXG4gICAgICAgIC8vIE9ic3TDoWN1bG9zXHJcbiAgICAgICAgdGhpcy5vYnN0YWNsZXMgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY0dyb3VwKFxyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICB0aGlzLnRvcCwgdGhpcy5ib3R0b20sIHRoaXMubGVmdCwgdGhpcy5yaWdodCxcclxuICAgICAgICB0aGlzLmJsb2NrMSwgdGhpcy5ibG9jazIsXHJcbiAgICAgICAgdGhpcy5jZW50cm8xLCB0aGlzLmNlbnRybzIsIHRoaXMuY2VudHJvMyxcclxuICAgICAgICB0aGlzLnBhbG8xLCB0aGlzLnBhbG8yXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgdGhpcy5jdXJzb3JzID0gdGhpcy5pbnB1dC5rZXlib2FyZC5jcmVhdGVDdXJzb3JLZXlzKCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0VXBQbGF5ZXJzKCk7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVDb2xsaXNpb25zKCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0dXBXZWJTb2NrZXRMaXN0ZW5lcnMoKTsvL3dzXHJcblxyXG5cclxuICAgICAgICB0aGlzLnZpZGFzSnVnYWRvcmVzKCk7XHJcbiAgICAgICAgLy90aGlzLnBvd2VyVXBHZW5lcmF0b3IgPSBuZXcgUG93ZXJVcEdlbmVyYXRvcih0aGlzLCAxMDAwMCk7IC8vIEdlbmVyYSB1biBwb3dlci11cCBjYWRhIDEwIHNlZ3VuZG9zXHJcblxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgaWYoIWRhdGEuY29ubmVjdGVkICYmIHRoaXMuc2NlbmUuaXNBY3RpdmUoKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ29ubmVjdGlvbkxvc3QoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIuYWRkTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdzaHV0ZG93bicsIHRoaXMub25TaHV0ZG93biwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ2Rlc3Ryb3knLCB0aGlzLm9uU2h1dGRvd24sIHRoaXMpO1xyXG4gICAgICAgIHRoaXMucG93ZVVwR2VuZXJhdG9yID0gbmV3IFBvd2VyVXBHZW5lcmF0b3IodGhpcywgMTAwMDAsIHRydWUpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBvbkNvbm5lY3Rpb25Mb3N0KCl7Ly9hcGlcclxuICAgICAgICBcclxuICAgICAgICAvL3RoaXMuc2NlbmUubGF1bmNoKCdDb25uZWN0aW9uTG9zdFNjZW5lJywgeyBwcmV2aW91c1NjZW5lOiAnT25saW5lR2FtZVNjZW5lJyB9KTtcclxuICAgICAgICAvL3RoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICAvL3RoaXMuc2NlbmUuYnJpbmdUb1RvcCgnQ29ubmVjdGlvbkxvc3RTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAgc2V0dXBXZWJTb2NrZXRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTZXJ2ZXJNZXNzYWdlKGRhdGEpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBzZXJ2ZXIgbWVzc2FnZTonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLndzLm9uY2xvc2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgY29ubmVjdGlvbiBjbG9zZWQnKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmdhbWVFbmRlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLndzLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignV2ViU29ja2V0IGVycm9yOicsIGVycm9yKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmdhbWVFbmRlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSkge1xyXG4gICAgICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3RhbmtVcGRhdGUnOlxyXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIG9wcG9uZW50J3MgdGFuayBwb3NpdGlvblxyXG4gICAgICAgICAgICAgICAgbGV0IG1vdmVDb21tYW5kMiA9IG5ldyBNb3ZlVGFua0NvbW1hbmQodGhpcy5yZW1vdGVUYW5rLCBkYXRhLmFjdGlvbik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3Nvci5wcm9jZXNzKG1vdmVDb21tYW5kMik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZVRhbmsuc3ByaXRlLnggPSBkYXRhLng7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZVRhbmsuc3ByaXRlLnkgPSBkYXRhLnk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZVRhbmsudHVycmV0LnggPSBkYXRhLng7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZVRhbmsudHVycmV0LnkgPSBkYXRhLnk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFjdHVhbGl6YXJWaWRhcyh0aGlzLnBsYXllclJvbGUgPT09ICdwbGF5ZXIxJyA/ICdwbGF5ZXIyJyA6ICdwbGF5ZXIxJywgZGF0YS5saXZlcyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ3NwYXduUG93ZXJVcCc6XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwb3dlclVwID0gZGF0YS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgbmV3IFBvd2VyVXAodGhpcywgcG93ZXJVcC54LCBwb3dlclVwLnksIHBvd2VyVXAudGlwbywgdGhpcy5wb3dlVXBHZW5lcmF0b3IpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2NvbGxlY3RQb3dlclVwJzpcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3dlci11cCBjb2xsZWN0ZWQnKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAndGFua0NvbG9yJzpcclxuICAgICAgICAgICAgICAgIGlmKGRhdGEucm9sZSAhPT0gdGhpcy5wbGF5ZXJSb2xlKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZVRhbmsuZGVzdHJveSgpOy8vZGVzdHJ1eWUgZWwgdGFucXVlIHJlbW90byBhY3R1YWxcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLmNvbG9yICE9PSB0aGlzLnJlbW90ZVRhbmsuY29sb3Ipe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZVRhbmsgPSBuZXcgVGFuayh0aGlzLCBkYXRhLnJvbGUsIGRhdGEucm9sZT09PSdwbGF5ZXIxJyA/IDkwOiA3MTAsIDMwMCwgZGF0YS5jb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbWlzbW8gY29sb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sb3JzID0gWydSZWQnLCAnQmx1ZScsICdHcmVlbicsICdZZWxsb3cnXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRpc3BvbmlibGVzID0gY29sb3JzLmZpbHRlcihlID0+IGUgIT09IGRhdGEuY29sb3IpOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVsZWdpZG8gPSBQaGFzZXIuVXRpbHMuQXJyYXkuR2V0UmFuZG9tKGRpc3BvbmlibGVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVUYW5rID0gbmV3IFRhbmsodGhpcywgZGF0YS5yb2xlLCBkYXRhLnJvbGU9PT0ncGxheWVyMScgPyA5MDogNzEwLCAzMDAsIGVsZWdpZG8pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcnMuc2V0KGRhdGEucm9sZSwgdGhpcy5yZW1vdGVUYW5rKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZVRhbmsuU2V0VGFyZ2V0KHRoaXMubG9jYWxUYW5rKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZUNvbGxpc2lvbnMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnZ2FtZU92ZXInOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbmRHYW1lKGRhdGEud2lubmVyKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAncGxheWVyRGlzY29ubmVjdGVkJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1Vua25vd24gbWVzc2FnZSB0eXBlOicsIGRhdGEudHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZURpc2Nvbm5lY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lRW5kZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubG9jYWxUYW5rLnNwcml0ZS5zZXRWZWxvY2l0eSgwLCAwKTtcclxuICAgICAgICB0aGlzLnJlbW90ZVRhbmsuc3ByaXRlLnNldFZlbG9jaXR5KDAsIDApO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5wYXVzZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDEzMCwgXCJDb25leGlvblBlcmRpZGFcIikuc2V0U2NhbGUoMC40KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVNZW51QnV0dG9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlTWVudUJ1dHRvbigpIHtcclxuICAgICAgICBjb25zdCBtZW51QnRuID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCA0MDAsIFwiQlROTWVudVwiKS5zZXRPcmlnaW4oMC41KS5zZXRTY2FsZSgwLjQpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHt1c2VIYW5kQ3Vyc29yOiB0cnVlfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbWVudUJ0bi5zZXRTY2FsZSgwLjQzKSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBtZW51QnRuLnNldFNjYWxlKDAuNCkpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnc2Z4JywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICB2aWRhc0p1Z2Fkb3JlcygpIHtcclxuICAgICAgICB0aGlzLnZpZGFQbGF5ZXIxID0gW107XHJcbiAgICAgICAgdGhpcy52aWRhUGxheWVyMiA9IFtdO1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDEwLCAyMCwgYEJhc2Uke3RoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5jb2xvcn1gKS5zZXRPcmlnaW4oMCwgMCk7XHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzQwLCAyMCwgYEJhc2Uke3RoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5jb2xvcn1gKS5zZXRPcmlnaW4oMCwgMCk7XHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMzUsIDQwLCBgVG9ycmV0YSR7dGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLmNvbG9yfWApLnNldE9yaWdpbigwLjE1LCAwLjUpO1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDc2NSwgNDAsIGBUb3JyZXRhJHt0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuY29sb3J9YCkuc2V0T3JpZ2luKDAuMTUsIDAuNSkuc2V0Um90YXRpb24oTWF0aC5QSSk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgdmlkYTEgPSB0aGlzLmFkZC5pbWFnZSg5MCArIGkgKiAzMCwgMzUsICdWaWRhJykuc2V0U2NhbGUoMC4wNSk7XHJcbiAgICAgICAgICAgIHRoaXMudmlkYVBsYXllcjEucHVzaCh2aWRhMSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHZpZGEyID0gdGhpcy5hZGQuaW1hZ2UoNzEwIC0gaSAqIDMwLCAzNSwgJ1ZpZGEnKS5zZXRTY2FsZSgwLjA1KTtcclxuICAgICAgICAgICAgdGhpcy52aWRhUGxheWVyMi5wdXNoKHZpZGEyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiBcclxuICAgIGFjdHVhbGl6YXJWaWRhcyhwbGF5ZXJJZCwgdmlkYXNSZXN0YW50ZXMpIHtcclxuICAgICAgICBjb25zdCB2aWRhQXJyYXkgPSBwbGF5ZXJJZCA9PT0gJ3BsYXllcjEnID8gdGhpcy52aWRhUGxheWVyMSA6IHRoaXMudmlkYVBsYXllcjI7XHJcbiAgICAgICAgaWYgKHZpZGFBcnJheS5sZW5ndGggPiB2aWRhc1Jlc3RhbnRlcykge1xyXG4gICAgICAgICAgICBjb25zdCB2aWRhU3ByaXRlID0gdmlkYUFycmF5LnBvcCgpO1xyXG4gICAgICAgICAgICB2aWRhU3ByaXRlLmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHZpZGFBcnJheS5sZW5ndGggPCB2aWRhc1Jlc3RhbnRlcykge1xyXG4gICAgICAgICAgICBpZiAocGxheWVySWQgPT09ICdwbGF5ZXIxJykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbnVldmFWaWRhID0gdGhpcy5hZGQuaW1hZ2UoOTAgKyB2aWRhQXJyYXkubGVuZ3RoICogMzAsIDM1LCAnVmlkYScpLnNldFNjYWxlKDAuMDUpO1xyXG4gICAgICAgICAgICAgICAgdmlkYUFycmF5LnB1c2gobnVldmFWaWRhKTtcclxuICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgaWYgKHBsYXllcklkID09PSAncGxheWVyMicpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG51ZXZhVmlkYSA9IHRoaXMuYWRkLmltYWdlKDcxMCAtIHZpZGFBcnJheS5sZW5ndGggKiAzMCwgMzUsICdWaWRhJykuc2V0U2NhbGUoMC4wNSk7XHJcbiAgICAgICAgICAgICAgICB2aWRhQXJyYXkucHVzaChudWV2YVZpZGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh2aWRhc1Jlc3RhbnRlcyA8PSAwKSB7XHJcbiAgICAgICAgICAgIC8vZW52aWFyIHF1ZSBoYSBtdWVydG9cclxuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnZ2FtZU92ZXInLFxyXG4gICAgICAgICAgICAgICAgd2lubmVyOiBwbGF5ZXJJZFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5lbmRHYW1lKHBsYXllcklkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXBQbGF5ZXJzKCkge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5wbGF5ZXJSb2xlID09PSAncGxheWVyMScpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbFRhbmsgPSBuZXcgVGFuayh0aGlzLCAncGxheWVyMScsIDkwLCAzMDAsIHRoaXMuY29sb3JQbGF5ZXIxKTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdGVUYW5rID0gbmV3IFRhbmsodGhpcywgJ3BsYXllcjInLCA3MTAsIDMwMCwgdGhpcy5jb2xvclBsYXllcjIpO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIxJywgdGhpcy5sb2NhbFRhbmspO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIyJywgdGhpcy5yZW1vdGVUYW5rKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmxvY2FsVGFuayA9IG5ldyBUYW5rKHRoaXMsICdwbGF5ZXIyJywgNzEwLCAzMDAsIHRoaXMuY29sb3JQbGF5ZXIyKTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdGVUYW5rID0gbmV3IFRhbmsodGhpcywgJ3BsYXllcjEnLCA5MCwgMzAwLCB0aGlzLmNvbG9yUGxheWVyMSk7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjInLCB0aGlzLmxvY2FsVGFuayk7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjEnLCB0aGlzLnJlbW90ZVRhbmspO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5sb2NhbFRhbmsuU2V0VGFyZ2V0KHRoaXMucmVtb3RlVGFuayk7XHJcbiAgICAgICAgdGhpcy5yZW1vdGVUYW5rLlNldFRhcmdldCh0aGlzLmxvY2FsVGFuayk7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBlbmRHYW1lKHdpbm5lcklkKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2godGFuayA9PiB7XHJcbiAgICAgICAgICAgIHRhbmsuc3ByaXRlLnNldFZlbG9jaXR5WSgwKTtcclxuICAgICAgICAgICAgdGFuay5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgICAgICB0YW5rLnR1cnJldC5zcHJpdGUuc2V0VmVsb2NpdHlZKDApO1xyXG4gICAgICAgICAgICB0YW5rLnR1cnJldC5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgICAgICB0YW5rLnR1cnJldC5zaG9vdCh0cnVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MucGF1c2UoKTtcclxuXHJcbiAgICAgICAgdGhpcy5pc0dhbWVPdmVyID0gdHJ1ZTsgXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0dhbWVPdmVyU2NlbmUnLHtcclxuICAgICAgICAgICAgICAgIGdhbmFkb3I6IHdpbm5lcklkPT09J3BsYXllcjEnID8gJ3BsYXllcjInIDogJ3BsYXllcjEnLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6IHRoaXMucGxheWVycy5nZXQod2lubmVySWQ9PT0ncGxheWVyMScgPyAncGxheWVyMicgOiAncGxheWVyMScpLmNvbG9yXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgY3JlYXRlQm91bmRzKCkge1xyXG5cclxuICAgICAgICAvL011cm9zIGFycmliYSB5IGFiYWpvXHJcbiAgICAgICAgdGhpcy50b3AgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSg0MDAsIDgzLCAnQm90dG9tVG9wV2FsbCcpO1xyXG4gICAgICAgIHRoaXMudG9wLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnRvcC5ib2R5LnNldFNpemUoNzY1LDQ1KTtcclxuXHJcbiAgICAgICAgdGhpcy5ib3R0b20gPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSg0MDAsIDU3NywgJ0JvdHRvbVRvcFdhbGwnKTtcclxuICAgICAgICB0aGlzLmJvdHRvbS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5ib3R0b20uYm9keS5zZXRTaXplKDc2NSw0NSk7XHJcblxyXG4gICAgICAgIC8vTXVyb3MgaXpxdWllcmRhIHkgZGVyZWNoYVxyXG4gICAgICAgIHRoaXMubGVmdCA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDQwLCAzMzAsICdMZWZ0UmlnaHRXYWxsJyk7XHJcbiAgICAgICAgdGhpcy5sZWZ0LnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmxlZnQuYm9keS5zZXRTaXplKDQ1LDQ1MCk7XHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIHRoaXMucmlnaHQgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSg3NjAsIDMzMCwgJ0xlZnRSaWdodFdhbGwnKTtcclxuICAgICAgICB0aGlzLnJpZ2h0LnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnJpZ2h0LmJvZHkuc2V0U2l6ZSg0NSw0NTApO1xyXG5cclxuICAgICAgICAvL2Jsb3F1ZXMgZGUgNlxyXG4gICAgICAgIHRoaXMuYmxvY2sxPXRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDQwMCwxOTgsXCJNdXJvQmxvcXVlNlwiKTtcclxuICAgICAgICB0aGlzLmJsb2NrMS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMuYmxvY2syPXRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDQwMCw0NjIsXCJNdXJvQmxvcXVlNlwiKTtcclxuICAgICAgICB0aGlzLmJsb2NrMi5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMuY2VudHJvMT10aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSg0MDAsNDYyLTExMCxcIkJsb3F1ZVwiKTtcclxuICAgICAgICB0aGlzLmNlbnRybzEuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuY2VudHJvMj10aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSg0MDAtNDUsNDYyLTE1NSxcIkJsb3F1ZVwiKTtcclxuICAgICAgICB0aGlzLmNlbnRybzIuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuY2VudHJvMz10aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSg0MDArNDUsNDYyLTE1NSxcIkJsb3F1ZVwiKTtcclxuICAgICAgICB0aGlzLmNlbnRybzMuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLnBhbG8xPXRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDY0OCw0MzksXCJQYWxvXCIpO1xyXG4gICAgICAgIHRoaXMucGFsbzEuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucGFsbzI9dGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoMTUyLDIxOCxcIlBhbG9cIik7XHJcbiAgICAgICAgdGhpcy5wYWxvMi5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQ29sbGlzaW9ucygpe1xyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHRhbmsgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubGVmdCwgdGFuay5zcHJpdGUpO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMucmlnaHQsIHRhbmsuc3ByaXRlKTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnRvcCwgdGFuay5zcHJpdGUpO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuYm90dG9tLCB0YW5rLnNwcml0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5ibG9jazEsIHRhbmsuc3ByaXRlKTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLmJsb2NrMiwgdGFuay5zcHJpdGUpO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuY2VudHJvMSwgdGFuay5zcHJpdGUpO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuY2VudHJvMiwgdGFuay5zcHJpdGUpO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuY2VudHJvMywgdGFuay5zcHJpdGUpO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMucGFsbzEsIHRhbmsuc3ByaXRlKTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnBhbG8yLCB0YW5rLnNwcml0ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2VuZE1lc3NhZ2UobWVzc2FnZSkge1xyXG4gICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzR2FtZU92ZXIpIHJldHVybjtcclxuICAgICAgICBcclxuICAgICAgICBpZih0aGlzLnVzZVBvd2VyVXBzKXtcclxuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgdHlwZTogJ2NvbGxlY3RQb3dlclVwJ1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudXNlUG93ZXJVcHMgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvLyBIYW5kbGUgbG9jYWwgdGFuayBpbnB1dCAtIGJvdGggcGxheWVycyB1c2UgYXJyb3cga2V5c1xyXG4gICAgICAgIGxldCBkaXJlY3Rpb24gPSBudWxsO1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnNvcnMudXAuaXNEb3duKSB7XHJcbiAgICAgICAgICAgIGRpcmVjdGlvbiA9ICd1cCc7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnNvcnMuZG93bi5pc0Rvd24pIHtcclxuICAgICAgICAgICAgZGlyZWN0aW9uID0gJ2Rvd24nO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJzb3JzLmxlZnQuaXNEb3duKSB7XHJcbiAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdsZWZ0JztcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY3Vyc29ycy5yaWdodC5pc0Rvd24pIHtcclxuICAgICAgICAgICAgZGlyZWN0aW9uID0gJ3JpZ2h0JztcclxuICAgICAgICB9ICBlbHNlIHtcclxuICAgICAgICAgICAgZGlyZWN0aW9uID0gJ3N0b3AnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IG1vdmVDb21tYW5kID0gbmV3IE1vdmVUYW5rQ29tbWFuZCh0aGlzLmxvY2FsVGFuaywgZGlyZWN0aW9uKTtcclxuICAgICAgICB0aGlzLnByb2Nlc3Nvci5wcm9jZXNzKG1vdmVDb21tYW5kKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBTZW5kIHRhbmsgcG9zaXRpb24gdG8gc2VydmVyXHJcbiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgIHR5cGU6ICd0YW5rTW92ZScsXHJcbiAgICAgICAgICAgIGFjdGlvbjogZGlyZWN0aW9uLFxyXG4gICAgICAgICAgICB4OiB0aGlzLmxvY2FsVGFuay5HZXRYKCksXHJcbiAgICAgICAgICAgIHk6IHRoaXMubG9jYWxUYW5rLkdldFkoKSxcclxuICAgICAgICAgICAgbGl2ZXM6IHRoaXMubG9jYWxUYW5rLnZpZGFzXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG9uU2h1dGRvd24oKSB7XHJcblxyXG4gICAgICAgIC8vIFF1aXRhciBsaXN0ZW5lciBkZWwgc2Vydmlkb3JcclxuICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn0iLCIvKipcclxuICogTG9iYnkgU2NlbmUgLSBXYWl0aW5nIGZvciBtdWx0aXBsYXllciBtYXRjaG1ha2luZ1xyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9iYnlTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzdXBlcih7IGtleTogJ0xvYmJ5U2NlbmUnIH0pO1xyXG4gICAgdGhpcy53cyA9IG51bGw7XHJcbiAgfVxyXG4gICAgaW5pdChkYXRhKXtcclxuICAgICAgICB0aGlzLnBsYXllck5hbWUgPSBkYXRhLnBsYXllck5hbWU7XHJcbiAgICAgICAgdGhpcy5hdmF0YXIgPSBkYXRhLmF2YXRhcjtcclxuICAgIH1cclxuXHJcbiAgY3JlYXRlKCkge1xyXG4gICAgY29uc3Qgd2lkdGggPSB0aGlzLmNhbWVyYXMubWFpbi53aWR0aDtcclxuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuY2FtZXJhcy5tYWluLmhlaWdodDtcclxuICAgIHRoaXMuYWRkLmltYWdlKDQwMCwgMzAwLCAnRm9uZG8nKTtcclxuICAgIC8vIFRpdGxlXHJcbiAgICBjb25zdCBvbmxpbmVCdG4gPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDkwLCBcIkJUTk9ubGluZVwiKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuMzMpO1xyXG5cclxuICAgIC8vIFN0YXR1cyB0ZXh0XHJcbiAgICB0aGlzLnN0YXR1c1RleHQgPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgaGVpZ2h0IC8gMiAtIDUwLCAnQ29ubmVjdGluZyB0byBzZXJ2ZXIuLi4nLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgIGNvbG9yOiAnIzkzOTM0MmZmJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgLy8gUGxheWVyIGNvdW50IHRleHRcclxuICAgIHRoaXMucGxheWVyQ291bnRUZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAvIDIgKyAyMCwgJycsIHtcclxuICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgY29sb3I6ICcjNGI5NTRiZmYnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICBjb25zdCBiYXNlID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCAzNTAsIGBCYXNlJHt0aGlzLmF2YXRhcn1gKS5zZXRTY2FsZSgxLjMpLnNldERlcHRoKDEwKTtcclxuICAgIGNvbnN0IHR1cnJldCA9IHRoaXMuYWRkLmltYWdlKDQwMCwgMzUwLCBgVG9ycmV0YSR7dGhpcy5hdmF0YXJ9YCkuc2V0U2NhbGUoMS4zKS5zZXRPcmlnaW4oMC4yLDAuNSkuc2V0RGVwdGgoMTUpO1xyXG4gICAgY29uc3QgbmFtZVRhbmsgPSB0aGlzLmFkZC50ZXh0KDQwMCwgNDAwLCB0aGlzLnBsYXllck5hbWUsIHtcclxuICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgY29sb3I6ICcjMmIyYjI3ZmYnLFxyXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjYmJiN2I3ZmYnLFxyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG5cclxuICAgIC8vIENhbmNlbCBidXR0b25cclxuICAgIGNvbnN0IGNhbmNlbEJ1dHRvbiA9IHRoaXMuYWRkLmltYWdlKHdpZHRoIC8gMiwgaGVpZ2h0IC0gMTAwLCAnQlROQ2FuY2VsJykuc2V0T3JpZ2luKDAuNSkuc2V0U2NhbGUoMC4zNSkuc2V0SW50ZXJhY3RpdmUoKTtcclxuXHJcbiAgICBjYW5jZWxCdXR0b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICBjYW5jZWxCdXR0b24uc2V0U2NhbGUoMC4zOCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjYW5jZWxCdXR0b24ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgIGNhbmNlbEJ1dHRvbi5zZXRTY2FsZSgwLjM1KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNhbmNlbEJ1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMubGVhdmVRdWV1ZSgpO1xyXG4gICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdPbmxpbmVTY2VuZScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQ29ubmVjdCB0byBXZWJTb2NrZXQgc2VydmVyXHJcbiAgICB0aGlzLmNvbm5lY3RUb1NlcnZlcigpO1xyXG4gIH1cclxuXHJcbiAgY29ubmVjdFRvU2VydmVyKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gQ29ubmVjdCB0byBXZWJTb2NrZXQgc2VydmVyIChzYW1lIGhvc3QgYXMgd2ViIHNlcnZlcilcclxuICAgICAgY29uc3Qgd3NVcmwgPSBgd3M6Ly8ke3dpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZX06MzAwMGA7XHJcblxyXG5cclxuICAgICAgdGhpcy53cyA9IG5ldyBXZWJTb2NrZXQod3NVcmwpO1xyXG5cclxuICAgICAgdGhpcy53cy5vbm9wZW4gPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0Nvbm5lY3RlZCB0byBXZWJTb2NrZXQgc2VydmVyJyk7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ1dhaXRpbmcgZm9yIG9wcG9uZW50Li4uJyk7XHJcblxyXG4gICAgICAgIC8vIEpvaW4gbWF0Y2htYWtpbmcgcXVldWVcclxuICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnam9pblF1ZXVlJyAsIGNvbG9yOiB0aGlzLmF2YXRhciwgbmFtZTogdGhpcy5wbGF5ZXJOYW1lICB9KSApO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XHJcbiAgICAgICAgICB0aGlzLmhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgc2VydmVyIG1lc3NhZ2U6JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMud3Mub25lcnJvciA9IChlcnJvcikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1dlYlNvY2tldCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0Nvbm5lY3Rpb24gZXJyb3IhJyk7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLndzLm9uY2xvc2UgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1dlYlNvY2tldCBjb25uZWN0aW9uIGNsb3NlZCcpO1xyXG4gICAgICAgIGlmICh0aGlzLnNjZW5lLmlzQWN0aXZlKCdMb2JieVNjZW5lJykpIHtcclxuICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdDb25uZWN0aW9uIGxvc3QhJyk7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyM4YTQ4NDhmZicpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNvbm5lY3RpbmcgdG8gc2VydmVyOicsIGVycm9yKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0ZhaWxlZCB0byBjb25uZWN0IScpO1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNhOTQ4NDhmZicpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlU2VydmVyTWVzc2FnZShkYXRhKSB7XHJcbiAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xyXG4gICAgICBjYXNlICdxdWV1ZVN0YXR1cyc6XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJDb3VudFRleHQuc2V0VGV4dChgUGxheWVycyBpbiBxdWV1ZTogJHtkYXRhLnBvc2l0aW9ufS8yYCk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdnYW1lU3RhcnQnOlxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdHYW1lIHN0YXJ0aW5nIScsIGRhdGEpO1xyXG4gICAgICAgIC8vIFN0b3JlIGdhbWUgZGF0YSBhbmQgdHJhbnNpdGlvbiB0byBtdWx0aXBsYXllciBnYW1lIHNjZW5lXHJcbiAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnT25saW5lR2FtZVNjZW5lJywge1xyXG4gICAgICAgICAgd3M6IHRoaXMud3MsXHJcbiAgICAgICAgICBwbGF5ZXJSb2xlOiBkYXRhLnJvbGUsXHJcbiAgICAgICAgICByb29tSWQ6IGRhdGEucm9vbUlkLFxyXG4gICAgICAgICAgYXZhdGFyMTogZGF0YS5jb2xvcnAxLCBcclxuICAgICAgICAgIGF2YXRhcjI6IGRhdGEuY29sb3JwMixcclxuICAgICAgICAgIG5hbWUxOiBkYXRhLm5hbWVwMSxcclxuICAgICAgICAgIG5hbWUyOiBkYXRhLm5hbWVwMlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICBjb25zb2xlLmxvZygnVW5rbm93biBtZXNzYWdlIHR5cGU6JywgZGF0YS50eXBlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGxlYXZlUXVldWUoKSB7XHJcbiAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdsZWF2ZVF1ZXVlJyB9KSk7XHJcbiAgICAgIHRoaXMud3MuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNodXRkb3duKCkge1xyXG4gICAgdGhpcy5sZWF2ZVF1ZXVlKCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgTWVudVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvTWVudVNjZW5lLmpzJztcclxuaW1wb3J0IHsgU2VsZWN0Q29sb3IgfSBmcm9tICcuL3NjZW5lcy9TZWxlY3RDb2xvci5qcyc7XHJcbmltcG9ydCB7IEdhbWVTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0dhbWVTY2VuZS5qcyc7XHJcbmltcG9ydCB7IFBhdXNlU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9QYXVzZVNjZW5lLmpzJztcclxuaW1wb3J0IHsgQ3JlZGl0U2NlbmUgfSBmcm9tICcuL3NjZW5lcy9DcmVkaXRTY2VuZS5qcyc7XHJcbmltcG9ydCB7IE9ubGluZVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvT25saW5lU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBUdXRvcmlhbFNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvVHV0b3JpYWxTY2VuZS5qcyc7XHJcbmltcG9ydCB7IEdhbWVPdmVyU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9HYW1lT3ZlclNjZW5lLmpzJztcclxuaW1wb3J0IHsgT3B0aW9uc1NjZW5lIH0gZnJvbSAnLi9zY2VuZXMvT3B0aW9uc1NjZW5lLmpzJztcclxuaW1wb3J0IHsgQ29ubmVjdGlvbkxvc3RTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0NvbmVjdGlvbkxvc3QuanMnO1xyXG5pbXBvcnQgeyBPbmxpbmVHYW1lU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9PbmxpbmVHYW1lU2NlbmUuanMnO1xyXG5pbXBvcnQgTG9iYnlTY2VuZSBmcm9tICcuL3NjZW5lcy9Mb2JieVNjZW5lLmpzJztcclxuXHJcbmNvbnN0IGNvbmZpZyA9IHtcclxuICAgIHR5cGU6IFBoYXNlci5BVVRPLFxyXG4gICAgd2lkdGg6IDgwMCxcclxuICAgIGhlaWdodDogNjAwLFxyXG4gICAgcGFyZW50OiAnZ2FtZS1jb250YWluZXInLFxyXG4gICAgcGh5c2ljczoge1xyXG4gICAgICAgIGRlZmF1bHQ6ICdhcmNhZGUnLFxyXG4gICAgICAgIGFyY2FkZToge1xyXG4gICAgICAgICAgICBncmF2aXR5OiB7IHk6IDAgfSxcclxuICAgICAgICAgICAgZGVidWc6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNjZW5lOiBbTWVudVNjZW5lLCBTZWxlY3RDb2xvciwgR2FtZVNjZW5lLCBQYXVzZVNjZW5lLCBDcmVkaXRTY2VuZSwgT25saW5lU2NlbmUsIFR1dG9yaWFsU2NlbmUsIEdhbWVPdmVyU2NlbmUsIE9wdGlvbnNTY2VuZSwgTG9iYnlTY2VuZSwgQ29ubmVjdGlvbkxvc3RTY2VuZSwgT25saW5lR2FtZVNjZW5lXSxcclxuICAgIGJhY2tncm91bmRDb2xvcjogJyMxYTFhMmUnLFxyXG59XHJcblxyXG5jb25zdCBnYW1lID0gbmV3IFBoYXNlci5HYW1lKGNvbmZpZyk7XHJcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlBoYXNlciIsIk1lbnVTY2VuZSIsImNvbnN0cnVjdG9yIiwic3VwZXIiLCJwcmVsb2FkIiwidGhpcyIsImxvYWQiLCJpbWFnZSIsImF1ZGlvIiwiY3JlYXRlIiwibXVzaWNhSnVlZ28iLCJzb3VuZCIsInN0b3AiLCJtdXNpY2FNZW51IiwiYWRkIiwibG9vcCIsInZvbHVtZSIsImlzUGxheWluZyIsInBsYXkiLCJzZXRPcmlnaW4iLCJzZXRTY2FsZSIsImxvY2FsQnRuIiwic2V0SW50ZXJhY3RpdmUiLCJ1c2VIYW5kQ3Vyc29yIiwib24iLCJzY2VuZSIsInN0YXJ0Iiwib25saW5lQnRuIiwidHV0b3JpYWxCdG4iLCJjcmVkaXRCdG4iLCJvcHRpb25zQnRuIiwiU2VsZWN0Q29sb3IiLCJjb2xvclBsYXllcjEiLCJjb2xvclBsYXllcjIiLCJwMU9wdGlvbnMiLCJwMk9wdGlvbnMiLCJjcmVhdGVUYW5rT3B0aW9uIiwieCIsInkiLCJjb2xvcktleSIsIm9uQ2xpY2siLCJiYXNlIiwic2V0RGVwdGgiLCJ0dXJyZXQiLCJoaWdobGlnaHQiLCJzZXRWaXNpYmxlIiwiY29udGFpbmVyIiwic2V0U2l6ZSIsIndpZHRoIiwiaGVpZ2h0Iiwic2V0RGF0YSIsImdldERhdGEiLCJjb2xvcnMiLCJmb3JFYWNoIiwiY29sb3IiLCJpIiwib3B0Iiwib3B0aW9uIiwibWFya1NlbGVjdGVkIiwidXBkYXRlRGlzYWJsZWRTdGF0ZXMiLCJwdXNoIiwicGxheUJ0biIsIm1lbnVCdG4iLCJvcHRpb25BcnJheSIsInNlbGVjdGVkT3B0aW9uIiwic2hvdWxkRGlzYWJsZSIsInNldE9wdGlvbkRpc2FibGVkIiwiZGlzYWJsZWQiLCJkaXNhYmxlSW50ZXJhY3RpdmUiLCJzZXRBbHBoYSIsIkJ1bGxldCIsImFuZ2xlIiwibXlUdXJyZXQiLCJkaXIiLCJiYXNlU3BlZWQiLCJzcGVlZE11bHQiLCJjYW5Db2xsaWRlIiwiYm91bmNlcyIsImNhbkRhbWFnZSIsInNldFRpbWVvdXQiLCJzcHJpdGUiLCJwaHlzaWNzIiwiYm9keSIsImFsbG93R3Jhdml0eSIsInNldENvbGxpZGVXb3JsZEJvdW5kcyIsInNldEJvdW5jZSIsInJvdGF0aW9uIiwic2V0RGlyIiwiZXZlbnRzIiwidXBkYXRlIiwiY3JlYXRlQ29sbGlzaW9ucyIsInNldFZlbG9jaXR5IiwiTWF0aCIsImNvcyIsInNpbiIsInZ4IiwidmVsb2NpdHkiLCJ2eSIsImF0YW4yIiwiZGVzdHJveSIsImRlc3Ryb3lCdWxsZXQiLCJvZmYiLCJjb2xsaWRlciIsImxlZnQiLCJyaWdodCIsInRvcCIsImJvdHRvbSIsImJsb2NrMSIsImJsb2NrMiIsImNlbnRybzEiLCJjZW50cm8yIiwiY2VudHJvMyIsInBhbG8xIiwicGFsbzIiLCJwbGF5ZXJzIiwidGFuayIsInJlY2VpdmVEYW1hZ2UiLCJUdXJyZXQiLCJteVRhbmsiLCJQSSIsInRhcmdldCIsInJvdGF0ZVNwZWVkIiwiRGVnVG9SYWQiLCJjYW5TaG9vdCIsInBlcmZlY3RBbmdsZSIsImxlZnRBbmdsZSIsInJpZ2h0QW5nbGUiLCJTZXRQb3NpdGlvbiIsInBvd2VyVXBCdWxsZXQiLCJmaXJlRXZlbnQiLCJyb3RhdGUiLCJhaW0iLCJmaXJlIiwiR2V0WCIsIkdldFkiLCJzaG9vdCIsInN0YXJ0QXV0b0ZpcmUiLCJzZXRUYXJnZXQiLCJ0YXIiLCJkeCIsImR5IiwidGltZSIsImFkZEV2ZW50IiwiZGVsYXkiLCJjYWxsYmFjayIsInJlbW92ZSIsInNldGFscGhhIiwiYWwiLCJUYW5rIiwiaWQiLCJkaXJYIiwiZGlyWSIsInNwZWVkTXVsdGlwbGllciIsInZpZGFzIiwiaW52dWxuZXJhYmxlIiwibm9TaG9vdFVudGlsIiwiU2V0VGFyZ2V0IiwiYW1vdW50IiwiYWN0dWFsaXphclZpZGFzIiwibWFrZUludnVsbmVyYWJsZSIsImJsaW5rQ291bnQiLCJyZXBlYXQiLCJhbHBoYSIsImFwcGx5Tm9TaG9vdCIsIm1zIiwibm93IiwibWF4IiwiZGVsYXllZENhbGwiLCJQb3dlclVwIiwidHlwZSIsImdlbmVyYXRvciIsImNyZWF0ZUNvbGxpc3Rpb25zIiwicG93ZXJVcHNHcm91cCIsImFwbHlQb3dlclVwIiwidXNlUG93ZXJVcHMiLCJ0YW5rQ29sbGVjdG9yIiwiZW5lbXlUYW5rIiwidCIsInRhcmdldFRhbmsiLCJTZXQiLCJoYXMiLCJtYXhQb3dlclVwcyIsIlBvd2VyVXBHZW5lcmF0b3IiLCJpbnRlcnZhbCIsIm9ubGluZSIsInR5cGVzIiwicG9zaXRpb25zWCIsInBvc2l0aW9uc1kiLCJzdGFydEdlbmVyYXRpbmciLCJnZW5lcmF0ZVBvd2VyVXAiLCJpc1NwYXduVmFsaWQiLCJ6b25lIiwiZXhpc3RpbmciLCJoaXRXYWxsIiwib3ZlcmxhcCIsIm9ic3RhY2xlcyIsImhpdFBvd2VyVXAiLCJpbmRpY2VzIiwiQXJyYXkiLCJTaHVmZmxlIiwibGVuZ3RoIiwia2V5cyIsIkdldFJhbmRvbSIsIkNvbW1hbmRQcm9jZXNzb3IiLCJNYXAiLCJnYW1lU2NlbmUiLCJzZXRQbGF5ZXJzIiwic2V0R2FtZVNjZW5lIiwicHJvY2VzcyIsImNvbW1hbmQiLCJleGVjdXRlIiwiQ29tbWFuZCIsInNlcmlhbGl6ZSIsImdldFBsYXllciIsIk1vdmVUYW5rQ29tbWFuZCIsImRpcmVjdGlvbiIsInNldFZlbG9jaXR5WSIsInNldFZlbG9jaXR5WCIsIlBhdXNlR2FtZUNvbW1hbmQiLCJpc1BhdXNlZCIsInNldFBhdXNlU3RhdGUiLCJjb25uZWN0aW9uTWFuYWdlciIsImNvbm5lY3RlZENvdW50IiwiaXNDb25uZWN0ZWQiLCJsYXN0Q2hlY2tUaW1lIiwiY2hlY2tJbnRlcnZhbCIsImxpc3RlbmVycyIsInNlc3Npb25JZCIsImdlbmVyYXRlU2Vzc2lvbklkIiwiaW50ZXJ2YWxJZCIsInN0YXJ0UG9sbGluZyIsIkRhdGUiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsImNoZWNrQ29ubmVjdGlvbiIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiSlNPTiIsInN0cmluZ2lmeSIsIm9rIiwiZGF0YSIsImpzb24iLCJjb25uZWN0ZWQiLCJub3RpZnlMaXN0ZW5lcnMiLCJjb3VudCIsInN1Y2Nlc3MiLCJoYW5kbGVEaXNjb25uZWN0aW9uIiwiZXJyb3IiLCJjb25zb2xlIiwiYWRkTGlzdGVuZXIiLCJyZW1vdmVMaXN0ZW5lciIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImxpc3RlbmVyIiwiZ2V0U3RhdHVzIiwic2V0SW50ZXJ2YWwiLCJzdG9wUG9sbGluZyIsImNsZWFySW50ZXJ2YWwiLCJHYW1lU2NlbmUiLCJpbml0IiwiaW5wdXRNYXBwaW5ncyIsImJhbGwiLCJwb3dlclVwR2VuZXJhdG9yIiwiZXNjV2FzRG93biIsInByb2Nlc3NvciIsImlzR2FtZU92ZXIiLCJncm91cCIsImNyZWF0ZUJvdW5kcyIsInN0YXRpY0dyb3VwIiwic2V0VXBQbGF5ZXJzIiwidmlkYXNKdWdhZG9yZXMiLCJlc2NLZXkiLCJpbnB1dCIsImtleWJvYXJkIiwiYWRkS2V5IiwiS2V5Ym9hcmQiLCJLZXlDb2RlcyIsIkVTQyIsImNvbm5lY3Rpb25MaXN0ZW5lciIsImlzQWN0aXZlIiwib25Db25uZWN0aW9uTG9zdCIsIm9uU2h1dGRvd24iLCJyZW1vdmVLZXlzIiwicmVtb3ZlQ2FwdHVyZSIsImxhdW5jaCIsInByZXZpb3VzU2NlbmUiLCJwYXVzZSIsImJyaW5nVG9Ub3AiLCJ2aWRhUGxheWVyMSIsInZpZGFQbGF5ZXIyIiwic2V0Um90YXRpb24iLCJ2aWRhMSIsInZpZGEyIiwicGxheWVySWQiLCJ2aWRhc1Jlc3RhbnRlcyIsInZpZGFBcnJheSIsInBvcCIsIm51ZXZhVmlkYSIsImdhbmFkb3IiLCJ0YW5rMSIsInRhbmsyIiwic2V0IiwidXBLZXkiLCJkb3duS2V5IiwicmlnaHRLZXkiLCJsZWZ0S2V5IiwibWFwIiwiY29uZmlnIiwidXBLZXlPYmoiLCJkb3duS2V5T2JqIiwicmlnaHRLZXlPYmoiLCJsZWZ0S2V5T2JqIiwic2NvcmVMZWZ0R29hbCIsInBsYXllcjEiLCJzY29yZSIsImVuZEdhbWUiLCJyZXNldEJhbGwiLCJzY29yZVJpZ2h0R29hbCIsInBsYXllcjIiLCJ3aW5uZXJJZCIsIndpbm5lclRleHQiLCJ0ZXh0IiwiZm9udFNpemUiLCJzZXRDb2xvciIsInNldFBvc2l0aW9uIiwibGF1bmNoQmFsbCIsIkJldHdlZW4iLCJjcmVhdGVCYWxsIiwiZ3JhcGhpY3MiLCJmaWxsU3R5bGUiLCJmaWxsQ2lyY2xlIiwiZ2VuZXJhdGVUZXh0dXJlIiwic2V0SW1tb3ZhYmxlIiwib3JpZ2luYWxTY2VuZSIsInJlc3VtZSIsInRvZ2dsZVBhdXNlIiwibmV3UGF1c2VTdGF0ZSIsImlzRG93biIsIm1hcHBpbmciLCJtb3ZlQ29tbWFuZCIsIlBhdXNlU2NlbmUiLCJyZXN1bWVCdG4iLCJzbGlkZXJCYXIiLCJzZXREaXNwbGF5U2l6ZSIsImN1cnJlbnRWb2x1bWUiLCJDbGFtcCIsImhhbmRsZVgiLCJzbGlkZXJIYW5kbGUiLCJkcmFnZ2FibGUiLCJzZXREcmFnZ2FibGUiLCJwb2ludGVyIiwiZ2FtZU9iamVjdCIsImRyYWdYIiwibXV0ZSIsIkNyZWRpdFNjZW5lIiwiQVBJX0JBU0UiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhvc3RuYW1lIiwiT25saW5lU2NlbmUiLCJtYXR0ZXIiLCJoYW5kbGVMb2dpbiIsImJhc3VyYSIsImhhbmRsZURlbGV0ZSIsInJlY3QiLCJnYW1lIiwiY2FudmFzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiaW5wdXROYW1lIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwicGxhY2Vob2xkZXIiLCJzdHlsZSIsInBvc2l0aW9uIiwiYXBwZW5kQ2hpbGQiLCJjb25uZWN0aW9uVGV4dDIiLCJ1cGRhdGVDb25uZWN0aW9uRGlzcGxheSIsIm5vbWJyZSIsInZhbHVlIiwidHJpbSIsImxvZyIsInVzZXIiLCJnZXRQbGF5ZXJCeU5hbWUiLCJpc0FycmF5IiwiZGVsZXRlUGxheWVyIiwidXBkYXRlUGxheWVyIiwiYXZhdGFyIiwiY3JlYXRlUGxheWVyIiwibmFtZSIsIndpbnMiLCJwbGF5ZXJOYW1lIiwic2V0VGV4dCIsImVuY29kZVVSSUNvbXBvbmVudCIsIkVycm9yIiwic3RhdHVzIiwiZmluZCIsInUiLCJ1cGRhdGVzIiwicGFyc2UiLCJyZW1vdmVDaGlsZCIsIlR1dG9yaWFsU2NlbmUiLCJHYW1lT3ZlclNjZW5lIiwiZ2FuYWRvcktleSIsImluY2x1ZGVzIiwidG9ycmUiLCJPcHRpb25zU2NlbmUiLCJDb25uZWN0aW9uTG9zdFNjZW5lIiwicmVjb25uZWN0Q2hlY2tJbnRlcnZhbCIsInN0YXR1c1RleHQiLCJhdHRlbXB0Q291bnQiLCJhdHRlbXB0VGV4dCIsImRvdENvdW50IiwiZG90cyIsIm9uUmVjb25uZWN0ZWQiLCJhdHRlbXB0UmVjb25uZWN0Iiwic2h1dGRvd24iLCJPbmxpbmVHYW1lU2NlbmUiLCJ3cyIsInBsYXllclJvbGUiLCJyb29tSWQiLCJsb2NhbFRhbmsiLCJyZW1vdGVUYW5rIiwiYXZhdGFyMSIsImF2YXRhcjIiLCJuYW1lMSIsIm5hbWUyIiwiZGlzcG9uaWJsZXMiLCJmaWx0ZXIiLCJlIiwiZWxlZ2lkbyIsImN1cnNvcnMiLCJjcmVhdGVDdXJzb3JLZXlzIiwic2V0dXBXZWJTb2NrZXRMaXN0ZW5lcnMiLCJwb3dlVXBHZW5lcmF0b3IiLCJvbm1lc3NhZ2UiLCJldmVudCIsImhhbmRsZVNlcnZlck1lc3NhZ2UiLCJvbmNsb3NlIiwiZ2FtZUVuZGVkIiwib25lcnJvciIsIm1vdmVDb21tYW5kMiIsImFjdGlvbiIsImxpdmVzIiwicG93ZXJVcCIsInRpcG8iLCJyb2xlIiwid2lubmVyIiwiY3JlYXRlTWVudUJ1dHRvbiIsInJlYWR5U3RhdGUiLCJXZWJTb2NrZXQiLCJPUEVOIiwiY2xvc2UiLCJzZW5kTWVzc2FnZSIsIm1lc3NhZ2UiLCJzZW5kIiwidXAiLCJkb3duIiwiTG9iYnlTY2VuZSIsIlNjZW5lIiwiY2FtZXJhcyIsIm1haW4iLCJwbGF5ZXJDb3VudFRleHQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjYW5jZWxCdXR0b24iLCJsZWF2ZVF1ZXVlIiwiY29ubmVjdFRvU2VydmVyIiwid3NVcmwiLCJvbm9wZW4iLCJjb2xvcnAxIiwiY29sb3JwMiIsIm5hbWVwMSIsIm5hbWVwMiIsInBhcmVudCIsImRlZmF1bHQiLCJhcmNhZGUiLCJncmF2aXR5IiwiZGVidWciXSwic291cmNlUm9vdCI6IiJ9
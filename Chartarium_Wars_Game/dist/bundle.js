(()=>{"use strict";var e={n:t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return e.d(s,{a:s}),s},d:(t,s)=>{for(var i in s)e.o(s,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:s[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=Phaser;var s=e.n(t);class i extends s().Scene{constructor(){super("MenuScene")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("Logo","imagenes/Logo.png"),this.load.image("ConexionPerdida","imagenes/ConexionPerdidaCW.png"),this.load.image("BTNPlayer","imagenes/LocalBtnCW.png"),this.load.image("BTNCredit","imagenes/CreditosCW.png"),this.load.image("BTNOnline","imagenes/OnlineBtnCW.png"),this.load.image("BTNMenu","imagenes/MenuCW.png"),this.load.image("BTNTutorial","imagenes/TutorialCW.png"),this.load.audio("musica","audio/musica.mp3"),this.load.audio("sfx","audio/menusfx.mp3"),this.load.image("Velocidad","imagenes/VelocidadCW.png"),this.load.image("Escudo","imagenes/EscudoCW.png"),this.load.image("NoFuegoAmigo","imagenes/NoFuegoAmigoCW.png")}create(){let e=this.sound.get("musica");e||(e=this.sound.add("musica",{loop:!0,volume:.4}),e.play()),this.add.image(400,300,"Fondo"),this.add.image(400,180,"Logo").setOrigin(.5).setScale(1.1);const t=this.add.image(160,400,"BTNPlayer").setOrigin(.5).setInteractive({useHandCursor:!0});t.setScale(.19).on("pointerover",()=>{t.setScale(.2)}).on("pointerout",()=>{t.setScale(.19)}).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("SelectColor")});const s=this.add.image(620,400,"BTNOnline").setOrigin(.5).setInteractive({useHandCursor:!0});s.setScale(.19).on("pointerover",()=>{s.setScale(.2)}).on("pointerout",()=>{s.setScale(.19)}).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("OnlineScene")});const i=this.add.image(160,517,"BTNTutorial").setOrigin(.5).setScale(.3).setInteractive({useHandCursor:!0}).on("pointerover",()=>{i.setScale(.33)}).on("pointerout",()=>{i.setScale(.3)}).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("TutorialScene")}),a=this.add.image(620,510,"BTNCredit").setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{a.setScale(1.1)}).on("pointerout",()=>{a.setScale(1)}).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("CreditScene")}),o=this.add.text(400,460,"Opciones",{fontSize:"40px",color:"#000000ff",fontStyle:"bold"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{o.setScale(1.1)}).on("pointerout",()=>{o.setScale(1)}).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("OptionsScene")})}}class a extends s().Scene{constructor(){super("SelectColor")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("BaseRed","imagenes/TanqueRojoCW.png"),this.load.image("TorretaRed","imagenes/CanonRojoCW.png"),this.load.image("BaseGreen","imagenes/TanqueVerdeCW.png"),this.load.image("TorretaGreen","imagenes/CanonVerdeCW.png"),this.load.image("BaseBlue","imagenes/TanqueAzulCW.png"),this.load.image("TorretaBlue","imagenes/CanonAzulCW.png"),this.load.image("BaseYellow","imagenes/TanqueAmarilloCW.png"),this.load.image("TorretaYellow","imagenes/CanonAmarilloCW.png"),this.load.image("Play","imagenes/PLAYCW.png"),this.load.image("BTNMenu","imagenes/MenuCW.png"),this.load.image("P","imagenes/Pcw.png"),this.load.image("1","imagenes/1CW.png"),this.load.image("2","imagenes/2CW.png"),this.load.image("Bubble","imagenes/BurbujaCW.png"),this.load.image("Elige","imagenes/EligeColorCW.png"),this.load.audio("sfx","audio/menusfx.mp3")}create(){this.add.image(400,300,"Fondo"),this.add.image(400,50,"Elige").setOrigin(.5).setScale(.4),this.colorPlayer1=null,this.colorPlayer2=null,this.add.image(190,120,"P").setOrigin(.5).setScale(.25),this.add.image(240,122,"1").setOrigin(.5).setScale(.25),this.add.image(590,120,"P").setOrigin(.5).setScale(.25),this.add.image(640,120,"2").setOrigin(.5).setScale(.25),this.p1Options=[],this.p2Options=[];const e=(e,t,s,i)=>{const a=this.add.image(0,0,`Base${s}`).setScale(1.2).setDepth(10),o=this.add.image(0,0,`Torreta${s}`).setScale(1.2).setOrigin(.2,.5).setDepth(15),n=this.add.image(0,0,"Bubble").setScale(1.6).setDepth(40);n.setVisible(!1);const r=this.add.container(e,t,[a,o,n]);return r.setSize(1.2*a.width,1.2*a.height),r.setInteractive({useHandCursor:!0}),r.setData("colorKey",s),r.setData("selected",!1),r.setData("disabled",!1),r.setData("highlight",n),r.on("pointerover",()=>{r.setScale(1.3)}),r.on("pointerout",()=>{r.setScale(1)}),r.on("pointerup",()=>{r.getData("disabled")||i(s,r)}),r},t=["Red","Blue","Green","Yellow"];t.forEach((t,s)=>{const i=e(200,180+100*s,t,(e,t)=>{this.colorPlayer1=e,this.markSelected(this.p1Options,t),this.updateDisabledStates()});this.p1Options.push(i)}),t.forEach((t,s)=>{const i=e(600,180+100*s,t,(e,t)=>{this.colorPlayer2=e,this.markSelected(this.p2Options,t),this.updateDisabledStates()});this.p2Options.push(i)});const s=this.add.image(400,320,"Play").setOrigin(.5).setInteractive({useHandCursor:!0});s.setScale(.3).on("pointerover",()=>{s.setScale(.33)}).on("pointerout",()=>{s.setScale(.3)}),s.on("pointerup",()=>{this.colorPlayer1&&this.colorPlayer2&&this.colorPlayer1!==this.colorPlayer2&&(this.sound.play("sfx",{volume:.5}),this.scene.start("GameScene",{colorPlayer1:this.colorPlayer1,colorPlayer2:this.colorPlayer2}))});const i=this.add.image(400,525,"BTNMenu").setOrigin(.5).setScale(.3).setInteractive({useHandCursor:!0}).on("pointerover",()=>i.setScale(.35)).on("pointerout",()=>i.setScale(.3)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("MenuScene")})}markSelected(e,t){e.forEach(e=>{e.setData("selected",!1),e.getData("highlight").setVisible(!1)}),t.setData("selected",!0),t.getData("highlight").setVisible(!0)}updateDisabledStates(){this.p1Options.forEach(e=>{const t=e.getData("colorKey"),s=this.colorPlayer2&&t===this.colorPlayer2;this.setOptionDisabled(e,s)}),this.p2Options.forEach(e=>{const t=e.getData("colorKey"),s=this.colorPlayer1&&t===this.colorPlayer1;this.setOptionDisabled(e,s)})}setOptionDisabled(e,t){e.setData("disabled",t),t?(e.disableInteractive(),e.setAlpha(.3),e.setData("selected",!1),e.getData("highlight").setVisible(!1)):(e.setInteractive({useHandCursor:!0}),e.setAlpha(1))}}class o{constructor(e,t,s,i,a,o){this.scene=e,this.x=t,this.y=s,this.color=o,this.myTurret=i,this.dir=a,this.baseSpeed=200,this.speedMult=1,this.canCollide=!0,this.bounces=3,this.canDamage=!1,setTimeout(()=>{this.canDamage=!0},200),"Red"===this.color&&(this.sprite=this.scene.physics.add.sprite(t,s,"BalaRed")),"Green"===this.color&&(this.sprite=this.scene.physics.add.sprite(t,s,"BalaGreen")),"Blue"===this.color&&(this.sprite=this.scene.physics.add.sprite(t,s,"BalaBlue")),"Yellow"===this.color&&(this.sprite=this.scene.physics.add.sprite(t,s,"BalaYellow")),this.sprite.body.allowGravity=!1,this.sprite.setCollideWorldBounds(!0),this.sprite.setSize(20,15),this.sprite.setBounce(.8),this.sprite.rotation=this.dir,this.sprite.setDepth(5),this.setDir(),this.scene.events.on("update",this.update,this),this.createCollisions()}setDir(){this.sprite.setVelocity(Math.cos(this.dir)*this.baseSpeed*this.speedMult,Math.sin(this.dir)*this.baseSpeed*this.speedMult)}update(){if(this.sprite.body){const e=this.sprite.body.velocity.x,t=this.sprite.body.velocity.y;this.sprite.rotation=Math.atan2(t,e)}}destroy(){this.bounces-=1,this.bounces<1&&this.destroyBullet()}destroyBullet(){this.scene.events.off("update",this.update,this),this.sprite.destroy()}createCollisions(){this.scene.physics.add.collider(this.scene.left,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.right,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.top,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.bottom,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.block1,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.block2,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.centro1,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.centro2,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.centro3,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.palo1,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.palo2,this.sprite,()=>{this.destroy()}),this.scene.players.forEach(e=>{this.scene.physics.add.collider(this.sprite,e.sprite,()=>{this.canDamage&&(e.receiveDamage(1),this.destroyBullet())})})}}class n{constructor(e,t,i,a,o){this.myTank=t,this.scene=e,this.x=i,this.y=a,this.angle=i>400?Math.PI:0,this.color=o,this.target=null,this.rotateSpeed=s().Math.DegToRad(1),this.canShoot=!1,this.perfectAngle=i>400?Math.PI:0,this.leftAngle=75,this.rightAngle=105,"Red"===this.color&&(this.sprite=this.scene.physics.add.sprite(i,a,"TorretaRed")),"Green"===this.color&&(this.sprite=this.scene.physics.add.sprite(i,a,"TorretaGreen")),"Blue"===this.color&&(this.sprite=this.scene.physics.add.sprite(i,a,"TorretaBlue")),"Yellow"===this.color&&(this.sprite=this.scene.physics.add.sprite(i,a,"TorretaYellow")),this.sprite.body.allowGravity=!1,this.sprite.setOrigin(.15,.5),this.SetPosition=(e,t)=>{this.sprite.x=e,this.sprite.y=t},this.sprite.setDepth(10),this.powerUpBullet=null,this.sprite.rotation=this.angle,this.fireEvent=null}rotate(){this.aim(),this.angle=this.perfectAngle,this.sprite.rotation=this.angle}fire(){this.myTank.canShoot&&null===this.powerUpBullet&&this.canShoot&&new o(this.scene,this.myTank.GetX(),this.myTank.GetY(),this,this.sprite.rotation,this.color)}shoot(e){this.canShoot=e,this.startAutoFire()}setTarget(e){this.target=e}aim(){if(!this.target)return;const e=this.target.GetX()-this.sprite.x,t=this.target.GetY()-this.sprite.y;this.perfectAngle=Math.atan2(t,e),this.leftAngle=this.perfectAngle+s().Math.DegToRad(30),this.rightAngle=this.perfectAngle-s().Math.DegToRad(30)}startAutoFire(){this.fireEvent||(this.fireEvent=this.scene.time.addEvent({delay:1e3,callback:()=>this.fire(),loop:!0}))}destroy(){this.fireEvent&&this.fireEvent.remove(!1),this.sprite.destroy(),this.target=null,this.myTank=null}setalpha(e){this.sprite.setAlpha(e)}}class r{constructor(e,t,s,i,a){this.id=t,this.scene=e,this.dirX=0,this.dirY=0,this.baseSpeed=120,this.speedMultiplier=1,this.x=s,this.y=i,this.color=a,this.target=null,this.vidas=5,this.invulnerable=!1,this.canShoot=!0,this.noShootUntil=0,"Red"===this.color&&(this.sprite=this.scene.physics.add.sprite(s,i,"BaseRed"),this.sprite.setSize(40,35)),"Green"===this.color&&(this.sprite=this.scene.physics.add.sprite(s,i,"BaseGreen"),this.sprite.setSize(42,35)),"Blue"===this.color&&(this.sprite=this.scene.physics.add.sprite(s,i,"BaseBlue"),this.sprite.setSize(45,35)),"Yellow"===this.color&&(this.sprite=this.scene.physics.add.sprite(s,i,"BaseYellow"),this.sprite.setSize(45,35)),this.sprite.setCollideWorldBounds(!0),this.sprite.body.allowGravity=!1,this.sprite.setDepth(8),this.turret=new n(e,this,s,i,this.color),this.GetX=()=>this.sprite.x,this.GetY=()=>this.sprite.y}SetTarget(e){this.target=e,this.turret.setTarget(this.target)}receiveDamage(e){this.invulnerable||(this.vidas-=e,this.scene.actualizarVidas(this.id,this.vidas),this.vidas<=0?this.destroy():this.makeInvulnerable())}makeInvulnerable(){this.invulnerable=!0;let e=0;this.scene.time.addEvent({delay:200,repeat:5,callback:()=>{this.sprite.setAlpha(1===this.sprite.alpha?.3:1),this.turret.setalpha(1===this.turret.sprite.alpha?.3:1),e++,e>=5&&(this.sprite.setAlpha(1),this.turret.setalpha(1),this.invulnerable=!1)}})}applyNoShoot(e){const t=this.scene.time.now;this.noShootUntil=Math.max(this.noShootUntil,t+e),this.canShoot=!1,this.scene.time.delayedCall(e,()=>{this.scene.time.now>=this.noShootUntil&&(this.canShoot=!0)})}destroy(){this.sprite.destroy(),this.turret.destroy()}}class l{constructor(e,t,s,i,a){this.scene=e,this.generator=a,this.x=t,this.y=s,this.type=i,"Heal"===i&&(this.sprite=this.scene.physics.add.sprite(t,s,"Vida").setScale(.05)),"Speed"===i&&(this.sprite=this.scene.physics.add.sprite(t,s,"Velocidad").setScale(1.1)),"Shield"===i&&(this.sprite=this.scene.physics.add.sprite(t,s,"Escudo").setScale(1.1)),"NoShoot"===i&&(this.sprite=this.scene.physics.add.sprite(t,s,"NoFuegoAmigo").setScale(1.1)),this.sprite.setDepth(1),this.createCollistions(),this.scene.powerUpsGroup.add(this.sprite)}aplyPowerUp(e,t){switch(this.scene.usePowerUps=!0,t){case"Heal":e.vidas<5&&(e.vidas+=1,this.scene.actualizarVidas(e.id,e.vidas));break;case"Speed":e.speedMultiplier=1.5,this.scene.time.delayedCall(5e3,()=>{e.speedMultiplier=1},[],this);break;case"Shield":e.invulnerable=!0,this.scene.time.delayedCall(5e3,()=>{e.invulnerable=!1},[],this);break;case"NoShoot":e.applyNoShoot(5e3)}}createCollistions(){this.scene.players.forEach(e=>{this.scene.physics.add.collider(this.sprite,e.sprite,()=>{let t=null;this.scene.players.forEach(s=>{s!==e&&(t=s)});const s=new Set(["NoShoot"]).has(this.type)?t??e:e;this.aplyPowerUp(s,this.type),this.sprite.destroy(),this.generator.maxPowerUps-=1})})}}class h{constructor(e,t,s){this.scene=e,this.interval=t,this.online=s,this.types=["Heal","Speed","Shield","NoShoot"],this.positionsX=[100,700,700,100,400],this.positionsY=[150,500,150,500,300],this.maxPowerUps=0,this.online||this.startGenerating()}startGenerating(){this.scene.time.addEvent({delay:this.interval,callback:()=>this.generatePowerUp(),loop:!0})}isSpawnValid(e,t){const s=this.scene.add.zone(e,t,40,40);this.scene.physics.add.existing(s),s.body.allowGravity=!1;const i=this.scene.physics.overlap(s,this.scene.obstacles),a=!!this.scene.powerUpsGroup&&this.scene.physics.overlap(s,this.scene.powerUpsGroup);return s.destroy(),!i&&!a}generatePowerUp(){if(this.maxPowerUps>=3)return;const e=s().Utils.Array.Shuffle([...Array(this.positionsX.length).keys()]);for(const t of e){const e=this.positionsX[t],i=this.positionsY[t];if(this.isSpawnValid(e,i)){const t=s().Utils.Array.GetRandom(this.types);return new l(this.scene,e,i,t,this),void(this.maxPowerUps+=1)}}}}class c{constructor(){this.players=new Map,this.gameScene=null}setPlayers(e){this.players=e}setGameScene(e){this.gameScene=e}process(e){e.execute()}}class d{execute(){}serialize(){}getPlayer(){}}class p extends d{constructor(e,t){super(),this.tank=e,this.direction=t}execute(){if("up"===this.direction?(this.tank.sprite.setVelocityY(-this.tank.baseSpeed*this.tank.speedMultiplier),this.tank.turret.rotate(),this.tank.turret.shoot(!1)):"down"===this.direction?(this.tank.sprite.setVelocityY(+this.tank.baseSpeed*this.tank.speedMultiplier),this.tank.turret.rotate(),this.tank.turret.shoot(!1)):"right"===this.direction?(this.tank.sprite.setVelocityX(this.tank.baseSpeed*this.tank.speedMultiplier),this.tank.turret.rotate(),this.tank.turret.shoot(!1)):"left"===this.direction?(this.tank.sprite.setVelocityX(-this.tank.baseSpeed*this.tank.speedMultiplier),this.tank.turret.rotate(),this.tank.turret.shoot(!1)):(this.tank.sprite.setVelocityY(0),this.tank.sprite.setVelocityX(0),this.tank.turret.sprite.setVelocityY(0),this.tank.turret.sprite.setVelocityX(0),this.tank.turret.shoot(!0)),this.tank.turret.SetPosition(this.tank.GetX(),this.tank.GetY()),this.tank.turret.aim(),this.tank.sprite.body){const e=this.tank.sprite.body.velocity.x,t=this.tank.sprite.body.velocity.y;this.tank.sprite.rotation=Math.atan2(t,e)+Math.PI/2}}}class g extends d{constructor(e,t){super(),this.gameScene=e,this.isPaused=t}execute(){this.gameScene.setPauseState(this.isPaused)}}const u=new class{constructor(){this.connectedCount=0,this.isConnected=!1,this.lastCheckTime=0,this.checkInterval=2e3,this.listeners=[],this.sessionId=this.generateSessionId(),this.intervalId=null,this.startPolling()}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async checkConnection(){try{const e=await fetch("/api/connected",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.sessionId})});if(e.ok){const t=await e.json();return this.connectedCount=t.connected,this.isConnected=!0,this.lastCheckTime=Date.now(),this.notifyListeners({connected:!0,count:this.connectedCount}),{connected:this.connectedCount,success:!0}}return this.handleDisconnection(),{connected:0,success:!1}}catch(e){return console.error("Error checking connection:",e),this.handleDisconnection(),{connected:0,success:!1}}}handleDisconnection(){this.isConnected=!1,this.connectedCount=0,this.notifyListeners({connected:!1,count:0})}addListener(e){this.listeners.push(e)}removeListener(e){const t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}notifyListeners(e){this.listeners.forEach(t=>t(e))}getStatus(){return{isConnected:this.isConnected,connectedCount:this.connectedCount,lastCheckTime:this.lastCheckTime}}startPolling(){this.intervalId||(this.checkConnection(),this.intervalId=setInterval(()=>{this.checkConnection()},this.checkInterval))}stopPolling(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}};class m extends s().Scene{constructor(){super("GameScene")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("Vida","imagenes/VidaCW.png"),this.load.image("Bubble","imagenes/BurbujaCW.png"),this.load.image("Escudo","imagenes/EscudoCW.png"),this.load.image("NoFuegoAmigo","imagenes/NoFuegoAmigoCW.png"),this.load.image("MedioMapa","imagenes/MedioObstaculoCW.png"),this.load.image("Palo","imagenes/PaloObstaculoCW.png"),this.load.image("BloqueSimple","imagenes/TileMuro.png"),this.load.image("BottomTopWall","imagenes/BottomTopCW.png"),this.load.image("LeftRightWall","imagenes/LeftRightCW.png"),this.load.image("BaseRed","imagenes/TanqueRojoCW.png"),this.load.image("TorretaRed","imagenes/CanonRojoCW.png"),this.load.image("BalaRed","imagenes/BalaNRojoCw.png"),this.load.image("BaseGreen","imagenes/TanqueVerdeCW.png"),this.load.image("TorretaGreen","imagenes/CanonVerdeCW.png"),this.load.image("BalaGreen","imagenes/BalaNVerdeCW.png"),this.load.image("BaseBlue","imagenes/TanqueAzulCW.png"),this.load.image("TorretaBlue","imagenes/CanonAzulCW.png"),this.load.image("BalaBlue","imagenes/BalaNAzulCW.png"),this.load.image("BaseYellow","imagenes/TanqueAmarilloCW.png"),this.load.image("TorretaYellow","imagenes/CanonAmarilloCW.png"),this.load.image("BalaYellow","imagenes/BalaNAmarilloCW.png"),this.load.image("MuroBloque6","imagenes/MedioObstaculoCW.png"),this.load.image("Bloque","imagenes/TileMuro.png"),this.load.image("Palo","imagenes/PaloObstaculoCW.png")}init(e){this.players=new Map,this.inputMappings=[],this.ball=null,this.powerUpGenerator=null,this.isPaused=!1,this.escWasDown=!1,this.processor=new c,this.isGameOver=!1,this.colorPlayer1=e?.colorPlayer1,this.colorPlayer2=e?.colorPlayer2}create(){this.powerUpsGroup=this.physics.add.group(),this.add.image(400,300,"Fondo"),this.createBounds(),this.obstacles=this.physics.add.staticGroup(this.top,this.bottom,this.left,this.right,this.block1,this.block2,this.centro1,this.centro2,this.centro3,this.palo1,this.palo2),this.setUpPlayers(),this.createCollisions(),this.vidasJugadores(),this.powerUpGenerator=new h(this,1e4,!1),this.escKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.ESC),this.connectionListener=e=>{!e.connected&&this.scene.isActive()&&this.onConnectionLost()},u.addListener(this.connectionListener),this.events.on("shutdown",this.onShutdown,this),this.events.on("destroy",this.onShutdown,this),this.removeKeys=this.input.keyboard.removeCapture(["ESC","W","A","S","D","UP","DOWN","LEFT","RIGHT"])}onConnectionLost(){this.scene.launch("ConnectionLostScene",{previousScene:"GameScene"}),this.scene.pause(),this.scene.bringToTop("ConnectionLostScene")}vidasJugadores(){this.vidaPlayer1=[],this.vidaPlayer2=[],this.add.image(10,20,`Base${this.players.get("player1").color}`).setOrigin(0,0),this.add.image(740,20,`Base${this.players.get("player2").color}`).setOrigin(0,0),this.add.image(35,40,`Torreta${this.players.get("player1").color}`).setOrigin(.15,.5),this.add.image(765,40,`Torreta${this.players.get("player2").color}`).setOrigin(.15,.5).setRotation(Math.PI);for(let e=0;e<5;e++){const t=this.add.image(90+30*e,35,"Vida").setScale(.05);this.vidaPlayer1.push(t);const s=this.add.image(710-30*e,35,"Vida").setScale(.05);this.vidaPlayer2.push(s)}}actualizarVidas(e,t){const s="player1"===e?this.vidaPlayer1:this.vidaPlayer2;if(s.length>t&&s.pop().destroy(),s.length<t){if("player1"===e){const e=this.add.image(90+30*s.length,35,"Vida").setScale(.05);s.push(e)}if("player2"===e){const e=this.add.image(710-30*s.length,35,"Vida").setScale(.05);s.push(e)}}t<=0&&(this.isGameOver=!0,this.scene.start("GameOverScene",{ganador:"player1"===e?"player2":"player1",color:this.players.get("player1"===e?"player2":"player1").color}))}setUpPlayers(){const e=new r(this,"player1",90,300,this.colorPlayer1),t=new r(this,"player2",710,300,this.colorPlayer2);e.SetTarget(t),t.SetTarget(e),this.players.set("player1",e),this.players.set("player2",t),this.inputMappings=[{playerId:"player1",upKey:"W",downKey:"S",rightKey:"D",leftKey:"A"},{playerId:"player2",upKey:"UP",downKey:"DOWN",rightKey:"RIGHT",leftKey:"LEFT"}].map(e=>({playerId:e.playerId,upKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.upKey]),downKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.downKey]),rightKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.rightKey]),leftKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.leftKey])}))}scoreLeftGoal(){const e=this.players.get("player1");e.score-=1,e.score>=2?this.endGame("player1"):this.resetBall()}scoreRightGoal(){const e=this.players.get("player2");e.score+=1,this.add.image(700+30*(e.score-1),100,"Vida").setScale(.5),e.score>=2?this.endGame("player2"):this.resetBall()}endGame(e){this.ball.setVelocity(0,0),this.players.forEach(e=>{e.sprite.setVelocity(0,0)}),this.physics.pause();const t="player1"===e?"Player 1 Wins!":"Player 2 Wins!";this.add.text(400,250,t,{fontSize:"64px",color:"#00ff00"}).setOrigin(.5);const s=this.add.text(400,350,"Return to Main Menu",{fontSize:"32px",color:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>s.setColor("#cccccc")).on("pointerout",()=>s.setColor("#ffffff")).on("pointerdown",()=>{this.scene.start("MenuScene")})}resetBall(){this.ball.setVelocity(0,0),this.ball.setPosition(400,300),this.time.delayedCall(1e3,()=>{this.launchBall()})}launchBall(){const e=s().Math.Between(-30,30),t=Math.random()<.5?1:-1;this.ball.setVelocity(300*Math.cos(s().Math.DegToRad(e))*t,300*Math.sin(s().Math.DegToRad(e)))}createBall(){const e=this.add.graphics();e.fillStyle(16777215),e.fillCircle(8,8,8),e.generateTexture("ball",16,16),e.destroy(),this.ball=this.physics.add.sprite(400,300,"ball"),this.ball.setCollideWorldBounds(!0),this.ball.setBounce(1)}createBounds(){this.top=this.physics.add.sprite(400,83,"BottomTopWall"),this.top.setImmovable(!0),this.top.body.setSize(765,45),this.bottom=this.physics.add.sprite(400,577,"BottomTopWall"),this.bottom.setImmovable(!0),this.bottom.body.setSize(765,45),this.left=this.physics.add.sprite(40,330,"LeftRightWall"),this.left.setImmovable(!0),this.left.body.setSize(45,450),this.right=this.physics.add.sprite(760,330,"LeftRightWall"),this.right.setImmovable(!0),this.right.body.setSize(45,450),this.block1=this.physics.add.sprite(400,198,"MuroBloque6"),this.block1.setImmovable(!0),this.block2=this.physics.add.sprite(400,462,"MuroBloque6"),this.block2.setImmovable(!0),this.centro1=this.physics.add.sprite(400,352,"Bloque"),this.centro1.setImmovable(!0),this.centro2=this.physics.add.sprite(355,307,"Bloque"),this.centro2.setImmovable(!0),this.centro3=this.physics.add.sprite(445,307,"Bloque"),this.centro3.setImmovable(!0),this.palo1=this.physics.add.sprite(648,439,"Palo"),this.palo1.setImmovable(!0),this.palo2=this.physics.add.sprite(152,218,"Palo"),this.palo2.setImmovable(!0)}createCollisions(){this.players.forEach(e=>{this.physics.add.collider(this.left,e.sprite),this.physics.add.collider(this.right,e.sprite),this.physics.add.collider(this.top,e.sprite),this.physics.add.collider(this.bottom,e.sprite),this.physics.add.collider(this.block1,e.sprite),this.physics.add.collider(this.block2,e.sprite),this.physics.add.collider(this.centro1,e.sprite),this.physics.add.collider(this.centro2,e.sprite),this.physics.add.collider(this.centro3,e.sprite),this.physics.add.collider(this.palo1,e.sprite),this.physics.add.collider(this.palo2,e.sprite)})}setPauseState(e){this.isPaused=e,e&&(this.scene.launch("PauseScene",{originalScene:"GameScene"}),this.scene.pause())}resume(){this.isPaused=!1}togglePause(){const e=!this.isPaused;this.processor.process(new g(this,e))}update(){this.isGameOver||(this.escKey.isDown&&!this.escWasDown&&this.togglePause(),this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);let s=null;s=e.upKeyObj.isDown?"up":e.downKeyObj.isDown?"down":e.leftKeyObj.isDown?"left":e.rightKeyObj.isDown?"right":"stop";let i=new p(t,s);this.processor.process(i)}))}onShutdown(){this.connectionListener&&(u.removeListener(this.connectionListener),this.connectionListener=null),this.removeKeys}}class y extends s().Scene{constructor(){super("PauseScene")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("BTNPause","imagenes/PausaCW.png"),this.load.image("BTNMenu","imagenes/MenuCW.png"),this.load.image("BTNContinue","imagenes/ContinuarCW.png"),this.load.audio("sfx","audio/menusfx.mp3"),this.scene.bringToTop("PauseScene")}create(e){this.add.image(400,300,"Fondo"),this.add.image(400,100,"BTNPause").setOrigin(.5).setScale(.7);const t=this.add.image(400,270,"BTNContinue").setOrigin(.5).setScale(.2).setInteractive({useHandCursor:!0}).on("pointerover",()=>t.setScale(.24)).on("pointerout",()=>t.setScale(.2)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.stop(),this.scene.resume(e.originalScene),this.scene.get(e.originalScene).resume()}),i=this.add.image(400,525,"BTNMenu").setOrigin(.5).setScale(.3).setInteractive({useHandCursor:!0}).on("pointerover",()=>i.setScale(.35)).on("pointerout",()=>i.setScale(.3)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.stop("GameScene"),this.scene.stop(),this.scene.start("MenuScene")}),a=300+200*s().Math.Clamp(this.sound.volume??1,0,1);this.add.rectangle(400,370,200,10,8947848);const o=this.add.circle(a,370,12,16777215).setInteractive({draggable:!0});this.input.setDraggable(o),this.input.on("drag",(e,t,i)=>{t===o&&(t.x=s().Math.Clamp(i,300,500),this.sound.mute=!1,this.sound.volume=(t.x-300)/200)}),this.add.text(400,410,"Mute",{fontSize:"24px",color:"#ffffff",backgroundColor:"#333333",padding:{left:20,right:20,top:10,bottom:10}}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.sound.mute=!this.sound.mute})}}class S extends s().Scene{constructor(){super("CreditScene")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("BTNCredit","imagenes/CreditosCW.png"),this.load.image("Autores","imagenes/AutoresCW.png"),this.load.audio("sfx","audio/menusfx.mp3")}create(){this.add.image(400,310,"Fondo"),this.add.image(400,90,"BTNCredit").setOrigin(.5).setScale(1.5),this.add.text(400,180,"Creado por:",{fontSize:"40px",color:"#000000ff",fontStyle:"bold"}).setOrigin(.5),this.add.image(400,300,"Autores").setScale(.3),this.add.text(400,445,"Música de Tiny Tanks",{fontSize:"36px",color:"#000000ff",fontStyle:"bold"}).setOrigin(.5);const e=this.add.image(400,525,"BTNMenu").setOrigin(.5).setScale(.3).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setScale(.35)).on("pointerout",()=>e.setScale(.3)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("MenuScene")})}}class f extends s().Scene{constructor(){super("OnlineScene")}preload(){this.load.image("BaseRed","imagenes/TanqueRojoCW.png"),this.load.image("TorretaRed","imagenes/CanonRojoCW.png"),this.load.image("BaseGreen","imagenes/TanqueVerdeCW.png"),this.load.image("TorretaGreen","imagenes/CanonVerdeCW.png"),this.load.image("BaseBlue","imagenes/TanqueAzulCW.png"),this.load.image("TorretaBlue","imagenes/CanonAzulCW.png"),this.load.image("BaseYellow","imagenes/TanqueAmarilloCW.png"),this.load.image("TorretaYellow","imagenes/CanonAmarilloCW.png"),this.load.image("Play","imagenes/PLAYCW.png"),this.load.image("BTNMenu","imagenes/MenuCW.png"),this.load.image("Bubble","imagenes/BurbujaCW.png"),this.load.image("Elige","imagenes/EligeColorCW.png"),this.load.audio("sfx","audio/menusfx.mp3"),this.load.image("Escudo","imagenes/EscudoCW.png"),this.load.image("NoFuegoAmigo","imagenes/NoFuegoAmigoCW.png")}create(){this.matter,this.add.image(400,310,"Fondo"),this.add.image(400,90,"BTNOnline").setOrigin(.5).setScale(.33);const e=this.add.image(400,525,"BTNMenu").setOrigin(.5).setScale(.3).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setScale(.35)).on("pointerout",()=>e.setScale(.3)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("MenuScene")});this.colorPlayer1=null,this.play=this.add.image(400,400,"Play").setOrigin(.5).setScale(.3).setInteractive({useHandCursor:!0}).on("pointerover",()=>{this.play.setScale(.35)}).on("pointerout",()=>{this.play.setScale(.3)}).on("pointerdown",()=>{this.handleLogin()});const t=this.game.canvas.getBoundingClientRect();this.inputName=document.createElement("input"),this.inputName.type="text",this.inputName.placeholder="Tu apodo...",this.inputName.style.position="absolute",this.inputName.style.top=t.top+300+"px",this.inputName.style.left=t.left+270+"px",this.inputName.style.fontSize="20px",document.body.appendChild(this.inputName),this.connectionText2=this.add.text(425,470,"Servidor: Comprobando...",{fontSize:"18px",color:"#8d8d3bff"}).setOrigin(.5),this.connectionListener=e=>{this.updateConnectionDisplay(e)},u.addListener(this.connectionListener),this.events.on("shutdown",this.onShutdown,this),this.events.on("destroy",this.onShutdown,this),this.p1Options=[];const s=(e,t,s,i)=>{const a=this.add.image(0,0,`Base${s}`).setScale(1.2).setDepth(10),o=this.add.image(0,0,`Torreta${s}`).setScale(1.2).setOrigin(.2,.5).setDepth(15),n=this.add.image(0,0,"Bubble").setScale(1.6).setDepth(40);n.setVisible(!1);const r=this.add.container(e,t,[a,o,n]);return r.setSize(1.2*a.width,1.2*a.height),r.setInteractive({useHandCursor:!0}),r.setData("colorKey",s),r.setData("selected",!1),r.setData("disabled",!1),r.setData("highlight",n),r.on("pointerover",()=>{r.setScale(1.3)}),r.on("pointerout",()=>{r.setScale(1)}),r.on("pointerup",()=>{r.getData("disabled")||i(s,r)}),r};["Red","Blue","Green","Yellow"].forEach((e,t)=>{const i=s(240+100*t,240,e,(e,t)=>{this.colorPlayer1=e,this.markSelected(this.p1Options,t)});this.p1Options.push(i)})}async handleLogin(){const e=this.inputName.value.trim();if(console.log("Nombre ingresado:",e),console.log("Avatar seleccionado:",this.colorPlayer1),0===e.length)return this.sound.play("sfx",{volume:.5}),void console.log("Por favor, ingresa un nombre válido.");let t=await this.getPlayerByName(e);if(Array.isArray(t)&&0===t.length?t=null:Array.isArray(t)&&(t=t[0]),t)null!==this.colorPlayer1?(console.log("Actualizando avatar del usuario existente."),t=await this.updatePlayer(t.id,{avatar:this.colorPlayer1})):(console.log("Usando avatar existente del usuario."),this.colorPlayer1=t.avatar);else{if(null===this.colorPlayer1)return void console.log("Por favor, selecciona un avatar.");console.log("Creando usuario nuevo..."),t=await this.createPlayer({name:e,avatar:this.colorPlayer1,wins:0}),console.log("Usuario creado:",t)}this.sound.play("sfx",{volume:.5}),this.scene.start("LobbyScene",{playerName:t.name,avatar:t.avatar})}updateConnectionDisplay(e){if(this.connectionText2&&this.scene&&this.scene.isActive("OnlineScene"))try{e.connected?(this.connectionText2.setText(`Servidor: ${e.count} usuario(s) conectado(s)`),this.connectionText2.setColor("#5e925eff")):(this.connectionText2.setText("Servidor: Desconectado"),this.connectionText2.setColor("#a16666ff"))}catch(e){console.error("[OnlineScene] Error updating connection display:",e)}}markSelected(e,t){e.forEach(e=>{e.setData("selected",!1),e.getData("highlight").setVisible(!1)}),t.setData("selected",!0),t.getData("highlight").setVisible(!0)}setOptionDisabled(e,t){e.setData("disabled",t),t?(e.disableInteractive(),e.setAlpha(.3),e.setData("selected",!1),e.getData("highlight").setVisible(!1)):(e.setInteractive({useHandCursor:!0}),e.setAlpha(1))}async getPlayerByName(e){try{const t=await fetch(`http://localhost:3000/api/users?name=${e}`);if(!t.ok)throw new Error("HTTP error "+t.status);const s=await t.json();return Array.isArray(s)&&s.length>0&&s.find(t=>t.name===e)||null}catch(e){return console.error("Error:",e),null}}async createPlayer(e){const t=await fetch("http://localhost:3000/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await t.json()}async updatePlayer(e,t){const s=await fetch(`http://localhost:3000/api/users/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return await s.json()}onShutdown(){this.connectionListener&&(u.removeListener(this.connectionListener),this.connectionListener=null),this.inputName&&(document.body.removeChild(this.inputName),this.inputName=null)}}class v extends s().Scene{constructor(){super("TutorialScene")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("Tutorial","imagenes/TutorialCW.png"),this.load.audio("sfx","audio/menusfx.mp3")}create(){this.add.image(400,310,"Fondo"),this.add.image(400,80,"Tutorial").setOrigin(.5).setScale(.45),this.add.text(400,150,"Controles:",{fontSize:"25px",color:"#000000ff",fontStyle:"bold"}).setOrigin(.5),this.add.text(400,180,"Player 1: wasd",{fontSize:"25px",color:"#000000ff"}).setOrigin(.5),this.add.text(400,210,"Player 2: flechas direccionales",{fontSize:"25px",color:"#000000ff"}).setOrigin(.5),this.add.text(400,260,"Objetivo:",{fontSize:"25px",color:"#000000ff",fontStyle:"bold"}).setOrigin(.5),this.add.text(400,290,"Quitarle las cinco vidas al oponente",{fontSize:"25px",color:"#000000ff"}).setOrigin(.5),this.add.text(400,340,"Mecánicas:",{fontSize:"25px",color:"#000000ff",fontStyle:"bold"}).setOrigin(.5),this.add.text(400,370,"Disparas automáticamente y solo cuando estas quieto",{fontSize:"25px",color:"#000000ff"}).setOrigin(.5),this.add.text(400,400,"Tu cañón siempre apunta al otro jugador",{fontSize:"25px",color:"#000000ff"}).setOrigin(.5),this.add.text(400,430,"Las balas rebotan 3 veces",{fontSize:"25px",color:"#000000ff"}).setOrigin(.5),this.add.text(400,460,"Tus propias balas pueden darte",{fontSize:"25px",color:"#000000ff"}).setOrigin(.5);const e=this.add.image(400,525,"BTNMenu").setOrigin(.5).setScale(.3).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setScale(.35)).on("pointerout",()=>e.setScale(.3)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("MenuScene")})}}class C extends s().Scene{constructor(){super("GameOverScene")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("BTNMenu","imagenes/MenuCW.png"),this.load.image("BTNGanador","imagenes/GanadorCW.png"),this.load.image("P","imagenes/Pcw.png"),this.load.image("1","imagenes/1CW.png"),this.load.image("2","imagenes/2CW.png"),this.load.audio("sfx","audio/menusfx.mp3")}init(e){this.ganador=e?.ganador,this.color=e?.color}create(){this.add.image(400,300,"Fondo"),this.add.image(400,100,"BTNGanador").setOrigin(.5).setScale(.6),this.add.image(355,200,"P").setOrigin(.5).setScale(.5);const e=this.ganador;let t=null;e.includes("1")?t="1":e.includes("2")&&(t="2"),this.add.image(445,200,t).setOrigin(.5).setScale(.5),this.add.image(400,375,`Base${this.color}`).setOrigin(.5,.5).setScale(3),this.torre=this.add.image(400,375,`Torreta${this.color}`).setOrigin(.15,.5).setScale(3);const s=this.add.image(400,540,"BTNMenu").setOrigin(.5).setScale(.4).setInteractive({useHandCursor:!0}).on("pointerover",()=>s.setScale(.43)).on("pointerout",()=>s.setScale(.4)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("MenuScene")})}update(){this.torre.rotation+=Math.PI/180}}class b extends s().Scene{constructor(){super("OptionsScene")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("BTNMenu","imagenes/MenuCW.png"),this.load.audio("sfx","audio/menusfx.mp3")}create(){this.add.image(400,310,"Fondo"),this.add.text(400,90,"Opciones",{fontSize:"75px",color:"#000000ff",fontStyle:"bold"}).setOrigin(.5);const e=this.add.image(400,525,"BTNMenu").setOrigin(.5).setScale(.4).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setScale(.43)).on("pointerout",()=>e.setScale(.4)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("MenuScene")});this.sliderBar=this.add.rectangle(400,300,200,10,8947848);const t=s().Math.Clamp(this.sound.volume??1,0,1),i=300+200*t;this.sliderHandle=this.add.circle(i,300,12,16777215).setInteractive({draggable:!0}),this.input.setDraggable(this.sliderHandle),this.input.on("drag",(e,t,i)=>{t===this.sliderHandle&&(t.x=s().Math.Clamp(i,300,500),this.sound.mute=!1,this.sound.volume=(t.x-300)/200)}),this.add.text(400,340,"Mute",{fontSize:"24px",color:"#ffffff",backgroundColor:"#333333",padding:{left:20,right:20,top:10,bottom:10}}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.sound.mute=!this.sound.mute})}}class T extends s().Scene{constructor(){super("ConnectionLostScene"),this.reconnectCheckInterval=null}preload(){this.load.image("ConexionPerdida","imagenes/ConexionPerdidaCW.png"),this.load.image("Fondo","imagenes/Fondo.jpg")}init(e){this.previousScene=e.previousScene}create(){this.add.image(400,300,"Fondo"),this.add.image(400,100,"ConexionPerdida").setScale(.4).setOrigin(.5),this.statusText=this.add.text(400,300,"Intentando reconectar...",{fontSize:"24px",color:"#ff0000"}).setOrigin(.5);const e=this.add.image(400,525,"BTNMenu").setOrigin(.5).setScale(.3).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setScale(.35)).on("pointerout",()=>e.setScale(.3)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.stop(this.previousScene),this.scene.stop(),this.scene.start("MenuScene")});this.attemptCount=0,this.attemptText=this.add.text(400,350,"Intentos: 0",{fontSize:"18px",color:"#000000"}).setOrigin(.5),this.dotCount=0,this.time.addEvent({delay:2e3,callback:()=>{this.dotCount=(this.dotCount+1)%4;const e=".".repeat(this.dotCount);this.statusText.setText(`Intentando reconectar${e}`)},loop:!0}),this.connectionListener=e=>{e.connected&&this.onReconnected()},u.addListener(this.connectionListener),this.reconnectCheckInterval=setInterval(()=>{this.attemptReconnect()},2e3),this.attemptReconnect()}async attemptReconnect(){this.attemptCount++,this.attemptText.setText(`Intentos: ${this.attemptCount}`),await u.checkConnection()}onReconnected(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),u.removeListener(this.connectionListener),this.statusText.setText("¡Conexión restablecida!"),this.statusText.setColor("#00ff00"),this.time.delayedCall(1e3,()=>{this.scene.stop(),this.previousScene&&this.scene.resume(this.previousScene)})}shutdown(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),this.connectionListener&&u.removeListener(this.connectionListener)}}class w extends s().Scene{constructor(){super("OnlineGameScene")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("Vida","imagenes/VidaCW.png"),this.load.image("Bubble","imagenes/BurbujaCW.png"),this.load.image("MedioMapa","imagenes/MedioObstaculoCW.png"),this.load.image("Palo","imagenes/PaloObstaculoCW.png"),this.load.image("BloqueSimple","imagenes/TileMuro.png"),this.load.image("BottomTopWall","imagenes/BottomTopCW.png"),this.load.image("LeftRightWall","imagenes/LeftRightCW.png"),this.load.image("BaseRed","imagenes/TanqueRojoCW.png"),this.load.image("TorretaRed","imagenes/CanonRojoCW.png"),this.load.image("BalaRed","imagenes/BalaNRojoCw.png"),this.load.image("BaseGreen","imagenes/TanqueVerdeCW.png"),this.load.image("TorretaGreen","imagenes/CanonVerdeCW.png"),this.load.image("BalaGreen","imagenes/BalaNVerdeCW.png"),this.load.image("BaseBlue","imagenes/TanqueAzulCW.png"),this.load.image("TorretaBlue","imagenes/CanonAzulCW.png"),this.load.image("BalaBlue","imagenes/BalaNAzulCW.png"),this.load.image("BaseYellow","imagenes/TanqueAmarilloCW.png"),this.load.image("TorretaYellow","imagenes/CanonAmarilloCW.png"),this.load.image("BalaYellow","imagenes/BalaNAmarilloCW.png"),this.load.image("MuroBloque6","imagenes/MedioObstaculoCW.png"),this.load.image("Bloque","imagenes/TileMuro.png"),this.load.image("Palo","imagenes/PaloObstaculoCW.png")}init(e){if(this.ws=e.ws,this.playerRole=e.playerRole,this.roomId=e.roomId,this.localTank=null,this.remoteTank=null,this.processor=new c,this.players=new Map,this.isGameOver=!1,this.colorPlayer1=e.avatar1,this.colorPlayer2=e.avatar2,this.name1=e.name1,this.name2=e.name2,this.colorPlayer2===this.colorPlayer1){let e=["Red","Blue","Green","Yellow"].filter(e=>e!==this.colorPlayer1),t=s().Utils.Array.GetRandom(e);"player1"===this.playerRole?this.colorPlayer2=t:this.colorPlayer1=t}this.usePowerUps=!1}create(){this.powerUpsGroup=this.physics.add.group(),this.add.image(400,300,"Fondo"),this.createBounds(),this.obstacles=this.physics.add.staticGroup(this.top,this.bottom,this.left,this.right,this.block1,this.block2,this.centro1,this.centro2,this.centro3,this.palo1,this.palo2),this.cursors=this.input.keyboard.createCursorKeys(),this.setUpPlayers(),this.createCollisions(),this.setupWebSocketListeners(),this.vidasJugadores(),this.connectionListener=e=>{!e.connected&&this.scene.isActive()&&this.onConnectionLost()},u.addListener(this.connectionListener),this.events.on("shutdown",this.onShutdown,this),this.events.on("destroy",this.onShutdown,this),this.poweUpGenerator=new h(this,1e4,!0)}onConnectionLost(){}setupWebSocketListeners(){this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.gameEnded||this.handleDisconnection()},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.gameEnded||this.handleDisconnection()}}handleServerMessage(e){switch(e.type){case"tankUpdate":let t=new p(this.remoteTank,e.action);this.processor.process(t),this.actualizarVidas("player1"===this.playerRole?"player2":"player1",e.lives);break;case"spawnPowerUp":const i=e.data;new l(this,i.x,i.y,i.tipo,this.poweUpGenerator);break;case"collectPowerUp":console.log("Power-up collected");break;case"tankColor":if(e.role!==this.playerRole){if(this.remoteTank.destroy(),e.color!==this.remoteTank.color)this.remoteTank=new r(this,e.role,"player1"===e.role?90:710,300,e.color);else{let t=["Red","Blue","Green","Yellow"].filter(t=>t!==e.color),i=s().Utils.Array.GetRandom(t);this.remoteTank=new r(this,e.role,"player1"===e.role?90:710,300,i)}this.players.set(e.role,this.remoteTank),this.remoteTank.SetTarget(this.localTank),this.createCollisions()}break;case"gameOver":this.endGame(e.winner);break;case"playerDisconnected":this.handleDisconnection();break;default:console.log("Unknown message type:",e.type)}}handleDisconnection(){this.gameEnded=!0,this.localTank.sprite.setVelocity(0,0),this.remoteTank.sprite.setVelocity(0,0),this.physics.pause(),this.add.image(400,130,"ConexionPerdida").setScale(.4).setOrigin(.5),this.createMenuButton()}createMenuButton(){const e=this.add.image(400,400,"BTNMenu").setOrigin(.5).setScale(.4).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setScale(.43)).on("pointerout",()=>e.setScale(.4)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close(),this.scene.start("MenuScene")})}vidasJugadores(){this.vidaPlayer1=[],this.vidaPlayer2=[],this.add.image(10,20,`Base${this.players.get("player1").color}`).setOrigin(0,0),this.add.image(740,20,`Base${this.players.get("player2").color}`).setOrigin(0,0),this.add.image(35,40,`Torreta${this.players.get("player1").color}`).setOrigin(.15,.5),this.add.image(765,40,`Torreta${this.players.get("player2").color}`).setOrigin(.15,.5).setRotation(Math.PI);for(let e=0;e<5;e++){const t=this.add.image(90+30*e,35,"Vida").setScale(.05);this.vidaPlayer1.push(t);const s=this.add.image(710-30*e,35,"Vida").setScale(.05);this.vidaPlayer2.push(s)}}actualizarVidas(e,t){const s="player1"===e?this.vidaPlayer1:this.vidaPlayer2;if(s.length>t&&s.pop().destroy(),s.length<t){if("player1"===e){const e=this.add.image(90+30*s.length,35,"Vida").setScale(.05);s.push(e)}if("player2"===e){const e=this.add.image(710-30*s.length,35,"Vida").setScale(.05);s.push(e)}}t<=0&&(this.sendMessage({type:"gameOver",winner:e}),this.endGame(e))}setUpPlayers(){"player1"===this.playerRole?(this.localTank=new r(this,"player1",90,300,this.colorPlayer1),this.remoteTank=new r(this,"player2",710,300,this.colorPlayer2),this.players.set("player1",this.localTank),this.players.set("player2",this.remoteTank)):(this.localTank=new r(this,"player2",710,300,this.colorPlayer2),this.remoteTank=new r(this,"player1",90,300,this.colorPlayer1),this.players.set("player2",this.localTank),this.players.set("player1",this.remoteTank)),this.localTank.SetTarget(this.remoteTank),this.remoteTank.SetTarget(this.localTank)}endGame(e){this.players.forEach(e=>{e.sprite.setVelocityY(0),e.sprite.setVelocityX(0),e.turret.sprite.setVelocityY(0),e.turret.sprite.setVelocityX(0),e.turret.shoot(!0)}),this.physics.pause(),this.isGameOver=!0,this.scene.start("GameOverScene",{ganador:"player1"===e?"player2":"player1",color:this.players.get("player1"===e?"player2":"player1").color})}createBounds(){this.top=this.physics.add.sprite(400,83,"BottomTopWall"),this.top.setImmovable(!0),this.top.body.setSize(765,45),this.bottom=this.physics.add.sprite(400,577,"BottomTopWall"),this.bottom.setImmovable(!0),this.bottom.body.setSize(765,45),this.left=this.physics.add.sprite(40,330,"LeftRightWall"),this.left.setImmovable(!0),this.left.body.setSize(45,450),this.right=this.physics.add.sprite(760,330,"LeftRightWall"),this.right.setImmovable(!0),this.right.body.setSize(45,450),this.block1=this.physics.add.sprite(400,198,"MuroBloque6"),this.block1.setImmovable(!0),this.block2=this.physics.add.sprite(400,462,"MuroBloque6"),this.block2.setImmovable(!0),this.centro1=this.physics.add.sprite(400,352,"Bloque"),this.centro1.setImmovable(!0),this.centro2=this.physics.add.sprite(355,307,"Bloque"),this.centro2.setImmovable(!0),this.centro3=this.physics.add.sprite(445,307,"Bloque"),this.centro3.setImmovable(!0),this.palo1=this.physics.add.sprite(648,439,"Palo"),this.palo1.setImmovable(!0),this.palo2=this.physics.add.sprite(152,218,"Palo"),this.palo2.setImmovable(!0)}createCollisions(){this.players.forEach(e=>{this.physics.add.collider(this.left,e.sprite),this.physics.add.collider(this.right,e.sprite),this.physics.add.collider(this.top,e.sprite),this.physics.add.collider(this.bottom,e.sprite),this.physics.add.collider(this.block1,e.sprite),this.physics.add.collider(this.block2,e.sprite),this.physics.add.collider(this.centro1,e.sprite),this.physics.add.collider(this.centro2,e.sprite),this.physics.add.collider(this.centro3,e.sprite),this.physics.add.collider(this.palo1,e.sprite),this.physics.add.collider(this.palo2,e.sprite)})}sendMessage(e){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify(e))}update(){if(this.isGameOver)return;this.usePowerUps&&(this.sendMessage({type:"collectPowerUp"}),this.usePowerUps=!1);let e=null;e=this.cursors.up.isDown?"up":this.cursors.down.isDown?"down":this.cursors.left.isDown?"left":this.cursors.right.isDown?"right":"stop";let t=new p(this.localTank,e);this.processor.process(t),this.sendMessage({type:"tankMove",action:e,lives:this.localTank.vidas})}onShutdown(){this.connectionListener&&(u.removeListener(this.connectionListener),this.connectionListener=null),this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close()}}class x extends Phaser.Scene{constructor(){super({key:"LobbyScene"}),this.ws=null}init(e){this.playerName=e.playerName,this.avatar=e.avatar}create(){const e=this.cameras.main.width,t=this.cameras.main.height;this.add.image(400,310,"Fondo"),this.add.image(400,90,"BTNOnline").setOrigin(.5).setScale(.33),this.statusText=this.add.text(e/2,t/2-50,"Connecting to server...",{fontSize:"24px",color:"#939342ff"}).setOrigin(.5),this.playerCountText=this.add.text(e/2,t/2+20,"",{fontSize:"20px",color:"#4b954bff"}).setOrigin(.5),this.add.image(400,350,`Base${this.avatar}`).setScale(1.3).setDepth(10),this.add.image(400,350,`Torreta${this.avatar}`).setScale(1.3).setOrigin(.2,.5).setDepth(15),this.add.text(400,400,this.playerName,{fontSize:"32px",color:"#2b2b27ff",backgroundColor:"#bbb7b7ff"}).setOrigin(.5);const s=this.add.text(e/2,t-100,"Cancel",{fontSize:"24px",color:"#9b4545ff",backgroundColor:"#333333",padding:{x:20,y:10}}).setOrigin(.5).setInteractive();s.on("pointerover",()=>{s.setColor("#ff0000")}),s.on("pointerout",()=>{s.setColor("#ff6666")}),s.on("pointerdown",()=>{this.leaveQueue(),this.scene.start("OnlineScene")}),this.connectToServer()}connectToServer(){try{const e=`ws://${window.location.host}`;this.ws=new WebSocket(e),this.ws.onopen=()=>{console.log("Connected to WebSocket server"),this.statusText.setText("Waiting for opponent..."),this.ws.send(JSON.stringify({type:"joinQueue",color:this.avatar,name:this.playerName}))},this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.statusText.setText("Connection error!"),this.statusText.setColor("#ff0000")},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.scene.isActive("LobbyScene")&&(this.statusText.setText("Connection lost!"),this.statusText.setColor("#8a4848ff"))}}catch(e){console.error("Error connecting to server:",e),this.statusText.setText("Failed to connect!"),this.statusText.setColor("#a94848ff")}}handleServerMessage(e){switch(e.type){case"queueStatus":this.playerCountText.setText(`Players in queue: ${e.position}/2`);break;case"gameStart":console.log("Game starting!",e),this.scene.start("OnlineGameScene",{ws:this.ws,playerRole:e.role,roomId:e.roomId,avatar1:e.colorp1,avatar2:e.colorp2,name1:e.namep1,name2:e.namep2});break;default:console.log("Unknown message type:",e.type)}}leaveQueue(){this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"leaveQueue"})),this.ws.close())}shutdown(){this.leaveQueue()}}const B={type:s().AUTO,width:800,height:600,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{y:0},debug:!1}},scene:[i,a,m,y,S,f,v,C,b,x,T,w],backgroundColor:"#1a1a2e"};new(s().Game)(B)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFDUnZZLFFBQVMsQ0FDTHdZLFFBQVMsU0FDVEMsT0FBUSxDQUNKQyxRQUFTLENBQUVwYixFQUFHLEdBQ2RxYixPQUFPLElBR2Z0YyxNQUFPLENBQUNyQixFQUFXK0IsRUFBYXNPLEVBQVdnRixFQUFZZ0IsRUFBYUMsRUFBYW9DLEVBQWVDLEVBQWVJLEVBQWN1RCxFQUFZcEQsRUFBcUJVLEdBQzlKekQsZ0JBQWlCLFdBR1IsSUFBSSxVQUFZN0MsRSIsInNvdXJjZXMiOlsid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvZXh0ZXJuYWwgdmFyIFwiUGhhc2VyXCIiLCJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzLy4vc3JjL2NsaWVudC9zY2VuZXMvTWVudVNjZW5lLmpzIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy8uL3NyYy9jbGllbnQvc2NlbmVzL1NlbGVjdENvbG9yLmpzIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy8uL3NyYy9jbGllbnQvZW50aXRpZXMvQnVsbGV0LmpzIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy8uL3NyYy9jbGllbnQvZW50aXRpZXMvVHVycmV0LmpzIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy8uL3NyYy9jbGllbnQvZW50aXRpZXMvVGFuay5qcyIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvLi9zcmMvY2xpZW50L2VudGl0aWVzL1Bvd2VyVXAuanMiLCJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzLy4vc3JjL2NsaWVudC9lbnRpdGllcy9Qb3dlclVwR2VuZXJhdG9yLmpzIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy8uL3NyYy9jbGllbnQvY29tbWFuZHMvQ29tbWFuZFByb2Nlc3Nvci5qcyIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvLi9zcmMvY2xpZW50L2NvbW1hbmRzL0NvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzLy4vc3JjL2NsaWVudC9jb21tYW5kcy9Nb3ZlVGFua0NvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzLy4vc3JjL2NsaWVudC9jb21tYW5kcy9QdWFzZUdhbWVDb21tYW5kLmpzIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy8uL3NyYy9jbGllbnQvc2VydmljZXMvQ29ubmVjdGlvbk1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzLy4vc3JjL2NsaWVudC9zY2VuZXMvR2FtZVNjZW5lLmpzIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy8uL3NyYy9jbGllbnQvc2NlbmVzL1BhdXNlU2NlbmUuanMiLCJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzLy4vc3JjL2NsaWVudC9zY2VuZXMvQ3JlZGl0U2NlbmUuanMiLCJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzLy4vc3JjL2NsaWVudC9zY2VuZXMvT25saW5lU2NlbmUuanMiLCJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzLy4vc3JjL2NsaWVudC9zY2VuZXMvVHV0b3JpYWxTY2VuZS5qcyIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvLi9zcmMvY2xpZW50L3NjZW5lcy9HYW1lT3ZlclNjZW5lLmpzIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy8uL3NyYy9jbGllbnQvc2NlbmVzL09wdGlvbnNTY2VuZS5qcyIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvLi9zcmMvY2xpZW50L3NjZW5lcy9Db25lY3Rpb25Mb3N0LmpzIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy8uL3NyYy9jbGllbnQvc2NlbmVzL09ubGluZUdhbWVTY2VuZS5qcyIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvLi9zcmMvY2xpZW50L3NjZW5lcy9Mb2JieVNjZW5lLmpzIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy8uL3NyYy9jbGllbnQvbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IFBoYXNlcjsiLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIE1lbnVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTWVudVNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHsvL2NhcmdhIGRlIGFyY2hpdm9zXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdGb25kbycsICdpbWFnZW5lcy9Gb25kby5qcGcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0xvZ28nLCAnaW1hZ2VuZXMvTG9nby5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdDb25leGlvblBlcmRpZGEnLCAnaW1hZ2VuZXMvQ29uZXhpb25QZXJkaWRhQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCVE5QbGF5ZXInLCAnaW1hZ2VuZXMvTG9jYWxCdG5DVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0JUTkNyZWRpdCcsICdpbWFnZW5lcy9DcmVkaXRvc0NXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQlROT25saW5lJywgJ2ltYWdlbmVzL09ubGluZUJ0bkNXLnBuZycpOyAgIFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQlROTWVudScsICdpbWFnZW5lcy9NZW51Q1cucG5nJyk7IFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQlROVHV0b3JpYWwnLCAnaW1hZ2VuZXMvVHV0b3JpYWxDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ211c2ljYScsICdhdWRpby9tdXNpY2EubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzZngnLCAnYXVkaW8vbWVudXNmeC5tcDMnKTsgICBcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1ZlbG9jaWRhZCcsICdpbWFnZW5lcy9WZWxvY2lkYWRDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0VzY3VkbycsICdpbWFnZW5lcy9Fc2N1ZG9DVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ05vRnVlZ29BbWlnbycsICdpbWFnZW5lcy9Ob0Z1ZWdvQW1pZ29DVy5wbmcnKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIC8vbXVzaWNhXHJcblxyXG4gICAgICAgIGxldCBtdXNpY2EgPSB0aGlzLnNvdW5kLmdldCgnbXVzaWNhJyk7XHJcbiAgICAgICAgaWYgKCFtdXNpY2EpIHsgICAgICAgIFxyXG4gICAgICAgICAgICBtdXNpY2EgPSB0aGlzLnNvdW5kLmFkZCgnbXVzaWNhJywgeyBsb29wOiB0cnVlLCB2b2x1bWU6IDAuNH0pOyAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBtdXNpY2EucGxheSgpOyAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDMwMCwgJ0ZvbmRvJyk7XHJcbiAgICAgICAgLy9sb2dvXHJcbiAgICAgICAgY29uc3QgbG9nbz10aGlzLmFkZC5pbWFnZSg0MDAsIDE4MCwgJ0xvZ28nKVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBsb2dvLnNldFNjYWxlKDEuMSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgbG9jYWxCdG4gPSB0aGlzLmFkZC5pbWFnZSgxNjAsIDQwMCwgXCJCVE5QbGF5ZXJcIilcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgICAgIGxvY2FsQnRuLnNldFNjYWxlKDAuMTkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL2xvY2FsQnRuLnNldFRpbnQoMHgwMGZmODgpOyAgIC8vIGFwbGljYSBjb2xvclxyXG4gICAgICAgICAgICAgICAgbG9jYWxCdG4uc2V0U2NhbGUoMC4yMCk7ICAgICAgIC8vIGF1bWVudGEgdGFtYcOxbyB1biAxMCVcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy9sb2NhbEJ0bi5zZXRUaW50KDB4MDBmZjAwKTsgICAvLyB2dWVsdmUgYWwgY29sb3Igb3JpZ2luYWxcclxuICAgICAgICAgICAgICAgIGxvY2FsQnRuLnNldFNjYWxlKDAuMTkpOyAgICAgICAgIC8vIHZ1ZWx2ZSBhbCB0YW1hw7FvIG9yaWdpbmFsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3NmeCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdTZWxlY3RDb2xvcicpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBvbmxpbmVCdG4gPSB0aGlzLmFkZC5pbWFnZSg2MjAsIDQwMCwgXCJCVE5PbmxpbmVcIilcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgICAgIG9ubGluZUJ0bi5zZXRTY2FsZSgwLjE5KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy9sb2NhbEJ0bi5zZXRUaW50KDB4MDBmZjg4KTsgICAvLyBhcGxpY2EgY29sb3JcclxuICAgICAgICAgICAgICAgIG9ubGluZUJ0bi5zZXRTY2FsZSgwLjIwKTsgICAgICAgLy8gYXVtZW50YSB0YW1hw7FvIHVuIDEwJVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL2xvY2FsQnRuLnNldFRpbnQoMHgwMGZmMDApOyAgIC8vIHZ1ZWx2ZSBhbCBjb2xvciBvcmlnaW5hbFxyXG4gICAgICAgICAgICAgICAgb25saW5lQnRuLnNldFNjYWxlKDAuMTkpOyAgICAgICAgIC8vIHZ1ZWx2ZSBhbCB0YW1hw7FvIG9yaWdpbmFsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3NmeCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdPbmxpbmVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCB0dXRvcmlhbEJ0biA9IHRoaXMuYWRkLmltYWdlKDE2MCw1MTcsJ0JUTlR1dG9yaWFsJykuc2V0T3JpZ2luKDAuNSkuc2V0U2NhbGUoMC4zKVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vbG9jYWxCdG4uc2V0VGludCgweDAwZmY4OCk7ICAgLy8gYXBsaWNhIGNvbG9yXHJcbiAgICAgICAgICAgICAgICB0dXRvcmlhbEJ0bi5zZXRTY2FsZSgwLjMzKTsgICAgICAgLy8gYXVtZW50YSB0YW1hw7FvIHVuIDEwJVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL2xvY2FsQnRuLnNldFRpbnQoMHgwMGZmMDApOyAgIC8vIHZ1ZWx2ZSBhbCBjb2xvciBvcmlnaW5hbFxyXG4gICAgICAgICAgICAgICAgdHV0b3JpYWxCdG4uc2V0U2NhbGUoMC4zKTsgICAgICAgICAvLyB2dWVsdmUgYWwgdGFtYcOxbyBvcmlnaW5hbFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdzZngnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnVHV0b3JpYWxTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBjcmVkaXRCdG4gPSB0aGlzLmFkZC5pbWFnZSg2MjAsIDUxMCwgXCJCVE5DcmVkaXRcIilcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vbG9jYWxCdG4uc2V0VGludCgweDAwZmY4OCk7ICAgLy8gYXBsaWNhIGNvbG9yXHJcbiAgICAgICAgICAgICAgICBjcmVkaXRCdG4uc2V0U2NhbGUoMS4xKTsgICAgICAgLy8gYXVtZW50YSB0YW1hw7FvIHVuIDEwJVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL2xvY2FsQnRuLnNldFRpbnQoMHgwMGZmMDApOyAgIC8vIHZ1ZWx2ZSBhbCBjb2xvciBvcmlnaW5hbFxyXG4gICAgICAgICAgICAgICAgY3JlZGl0QnRuLnNldFNjYWxlKDEpOyAgICAgICAgIC8vIHZ1ZWx2ZSBhbCB0YW1hw7FvIG9yaWdpbmFsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3NmeCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdDcmVkaXRTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBvcHRpb25zQnRuID0gdGhpcy5hZGQudGV4dCg0MDAsIDQ2MCwgJ09wY2lvbmVzJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL2xvY2FsQnRuLnNldFRpbnQoMHgwMGZmODgpOyAgIC8vIGFwbGljYSBjb2xvclxyXG4gICAgICAgICAgICAgICAgb3B0aW9uc0J0bi5zZXRTY2FsZSgxLjEpOyAgICAgICAvLyBhdW1lbnRhIHRhbWHDsW8gdW4gMTAlXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vbG9jYWxCdG4uc2V0VGludCgweDAwZmYwMCk7ICAgLy8gdnVlbHZlIGFsIGNvbG9yIG9yaWdpbmFsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zQnRuLnNldFNjYWxlKDEpOyAgICAgICAgIC8vIHZ1ZWx2ZSBhbCB0YW1hw7FvIG9yaWdpbmFsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3NmeCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdPcHRpb25zU2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgU2VsZWN0Q29sb3IgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ1NlbGVjdENvbG9yJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0ZvbmRvJywgJ2ltYWdlbmVzL0ZvbmRvLmpwZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0Jhc2VSZWQnLCAnaW1hZ2VuZXMvVGFucXVlUm9qb0NXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnVG9ycmV0YVJlZCcsICdpbWFnZW5lcy9DYW5vblJvam9DVy5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCYXNlR3JlZW4nLCAnaW1hZ2VuZXMvVGFucXVlVmVyZGVDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1RvcnJldGFHcmVlbicsICdpbWFnZW5lcy9DYW5vblZlcmRlQ1cucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmFzZUJsdWUnLCAnaW1hZ2VuZXMvVGFucXVlQXp1bENXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnVG9ycmV0YUJsdWUnLCAnaW1hZ2VuZXMvQ2Fub25BenVsQ1cucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmFzZVllbGxvdycsICdpbWFnZW5lcy9UYW5xdWVBbWFyaWxsb0NXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnVG9ycmV0YVllbGxvdycsICdpbWFnZW5lcy9DYW5vbkFtYXJpbGxvQ1cucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUGxheScsICdpbWFnZW5lcy9QTEFZQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCVE5NZW51JywgJ2ltYWdlbmVzL01lbnVDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1AnLCAnaW1hZ2VuZXMvUGN3LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnMScsICdpbWFnZW5lcy8xQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCcyJywgJ2ltYWdlbmVzLzJDVy5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCdWJibGUnLCAnaW1hZ2VuZXMvQnVyYnVqYUNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRWxpZ2UnLCAnaW1hZ2VuZXMvRWxpZ2VDb2xvckNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc2Z4JywgJ2F1ZGlvL21lbnVzZngubXAzJyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICAvLyBGb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQwMCwgMzAwLCAnRm9uZG8nKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsNTAsJ0VsaWdlJykuc2V0T3JpZ2luKDAuNSkuc2V0U2NhbGUoMC40KTtcclxuXHJcbiAgICAgICAgLy8gQWhvcmEgZW1wZXphbW9zIFNJTiBjb2xvciBlbGVnaWRvXHJcbiAgICAgICAgdGhpcy5jb2xvclBsYXllcjEgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY29sb3JQbGF5ZXIyID0gbnVsbDtcclxuXHJcbiAgICAgICAgLy8gLS0tIFTDrXR1bG9zIC0tLVxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDE5MCwgMTIwLCAnUCcpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDAuMjUpO1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDI0MCwgMTIyLCAnMScpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDAuMjUpOyAgXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNTkwLCAxMjAsICdQJykuc2V0T3JpZ2luKDAuNSkuc2V0U2NhbGUoMC4yNSk7XHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNjQwLCAxMjAsICcyJykuc2V0T3JpZ2luKDAuNSkuc2V0U2NhbGUoMC4yNSk7XHJcblxyXG4gICAgICAgIHRoaXMucDFPcHRpb25zID0gW107XHJcbiAgICAgICAgdGhpcy5wMk9wdGlvbnMgPSBbXTtcclxuXHJcbiAgICAgICAgY29uc3QgY3JlYXRlVGFua09wdGlvbiA9ICh4LCB5LCBjb2xvcktleSwgb25DbGljaykgPT4ge1xyXG4gICAgICAgICAgICAvLyBSZWN0w6FuZ3VsbyBkZSBzZWxlY2Npw7NuIChpbnZpc2libGUgYWwgaW5pY2lvKVxyXG4gICAgICAgICAgICBcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGJhc2UgPSB0aGlzLmFkZC5pbWFnZSgwLCAwLCBgQmFzZSR7Y29sb3JLZXl9YCkuc2V0U2NhbGUoMS4yKS5zZXREZXB0aCgxMCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHR1cnJldCA9IHRoaXMuYWRkLmltYWdlKDAsIDAsIGBUb3JyZXRhJHtjb2xvcktleX1gKS5zZXRTY2FsZSgxLjIpLnNldE9yaWdpbigwLjIsMC41KS5zZXREZXB0aCgxNSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBoaWdobGlnaHQgPSB0aGlzLmFkZC5pbWFnZSgwLCAwLCBcIkJ1YmJsZVwiKS5zZXRTY2FsZSgxLjYpLnNldERlcHRoKDQwKTtcclxuICAgICAgICAgICAgaGlnaGxpZ2h0LnNldFZpc2libGUoZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5hZGQuY29udGFpbmVyKHgsIHksIFtiYXNlLCB0dXJyZXQsaGlnaGxpZ2h0XSk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zZXRTaXplKGJhc2Uud2lkdGggKiAxLjIsIGJhc2UuaGVpZ2h0ICogMS4yKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zZXREYXRhKCdjb2xvcktleScsIGNvbG9yS2V5KTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnNldERhdGEoJ3NlbGVjdGVkJywgZmFsc2UpO1xyXG4gICAgICAgICAgICBjb250YWluZXIuc2V0RGF0YSgnZGlzYWJsZWQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zZXREYXRhKCdoaWdobGlnaHQnLCBoaWdobGlnaHQpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL2xvY2FsQnRuLnNldFRpbnQoMHgwMGZmODgpOyAgIC8vIGFwbGljYSBjb2xvclxyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnNldFNjYWxlKDEuMyk7ICAgICAgIC8vIGF1bWVudGEgdGFtYcOxbyB1biAxMCVcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgY29udGFpbmVyLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy9sb2NhbEJ0bi5zZXRUaW50KDB4MDBmZjAwKTsgICAvLyB2dWVsdmUgYWwgY29sb3Igb3JpZ2luYWxcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZXRTY2FsZSgxLjApOyAgICAgICAgIC8vIHZ1ZWx2ZSBhbCB0YW1hw7FvIG9yaWdpbmFsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyBDbGljayBwYXJhIHNlbGVjY2lvbmFyXHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5vbigncG9pbnRlcnVwJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5nZXREYXRhKCdkaXNhYmxlZCcpKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrKGNvbG9yS2V5LCBjb250YWluZXIpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBDb29yZGVuYWRhc1xyXG4gICAgICAgIGNvbnN0IHAxWCA9IDIwMDtcclxuICAgICAgICBjb25zdCBwMlggPSA2MDA7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRZID0gMTgwO1xyXG4gICAgICAgIGNvbnN0IGdhcFkgPSAxMDA7XHJcbiAgICAgICAgY29uc3QgY29sb3JzID0gWydSZWQnLCAnQmx1ZScsICdHcmVlbicsICdZZWxsb3cnXTtcclxuXHJcbiAgICAgICAgLy8gUGxheWVyIDFcclxuICAgICAgICBjb2xvcnMuZm9yRWFjaCgoY29sb3IsIGkpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb3B0ID0gY3JlYXRlVGFua09wdGlvbihwMVgsIHN0YXJ0WSArIGkgKiBnYXBZLCBjb2xvciwgKGtleSwgb3B0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yUGxheWVyMSA9IGtleTtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFya1NlbGVjdGVkKHRoaXMucDFPcHRpb25zLCBvcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVEaXNhYmxlZFN0YXRlcygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5wMU9wdGlvbnMucHVzaChvcHQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBQbGF5ZXIgMlxyXG4gICAgICAgIGNvbG9ycy5mb3JFYWNoKChjb2xvciwgaSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvcHQgPSBjcmVhdGVUYW5rT3B0aW9uKHAyWCwgc3RhcnRZICsgaSAqIGdhcFksIGNvbG9yLCAoa2V5LCBvcHRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3JQbGF5ZXIyID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXJrU2VsZWN0ZWQodGhpcy5wMk9wdGlvbnMsIG9wdGlvbik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZURpc2FibGVkU3RhdGVzKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnAyT3B0aW9ucy5wdXNoKG9wdCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBQbGF5XHJcbiAgICAgICAgY29uc3QgcGxheUJ0biA9IHRoaXMuYWRkLmltYWdlKDQwMCwgMzIwLCBcIlBsYXlcIilcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgICAgIHBsYXlCdG4uc2V0U2NhbGUoMC4zKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy9sb2NhbEJ0bi5zZXRUaW50KDB4MDBmZjg4KTsgICAvLyBhcGxpY2EgY29sb3JcclxuICAgICAgICAgICAgICAgIHBsYXlCdG4uc2V0U2NhbGUoMC4zMyk7ICAgICAgIC8vIGF1bWVudGEgdGFtYcOxbyB1biAxMCVcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy9sb2NhbEJ0bi5zZXRUaW50KDB4MDBmZjAwKTsgICAvLyB2dWVsdmUgYWwgY29sb3Igb3JpZ2luYWxcclxuICAgICAgICAgICAgICAgIHBsYXlCdG4uc2V0U2NhbGUoMC4zKTsgICAgICAgICAvLyB2dWVsdmUgYWwgdGFtYcOxbyBvcmlnaW5hbFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICBwbGF5QnRuLm9uKCdwb2ludGVydXAnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5jb2xvclBsYXllcjEgfHwgIXRoaXMuY29sb3JQbGF5ZXIyIHx8IHRoaXMuY29sb3JQbGF5ZXIxID09PSB0aGlzLmNvbG9yUGxheWVyMikgcmV0dXJuO1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3NmeCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0dhbWVTY2VuZScsIHtcclxuICAgICAgICAgICAgICAgIGNvbG9yUGxheWVyMTogdGhpcy5jb2xvclBsYXllcjEsXHJcbiAgICAgICAgICAgICAgICBjb2xvclBsYXllcjI6IHRoaXMuY29sb3JQbGF5ZXIyXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gdm9sdmVyXHJcbiAgICAgICAgY29uc3QgbWVudUJ0biA9IHRoaXMuYWRkLmltYWdlKDQwMCwgNTI1LCAnQlROTWVudScpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC4zKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBtZW51QnRuLnNldFNjYWxlKDAuMzUpKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBtZW51QnRuLnNldFNjYWxlKDAuMykpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3NmeCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTWFyY2Egc2VsZWNjaW9uYWRvXHJcbiAgICBtYXJrU2VsZWN0ZWQob3B0aW9uQXJyYXksIHNlbGVjdGVkT3B0aW9uKSB7XHJcbiAgICAgICAgb3B0aW9uQXJyYXkuZm9yRWFjaChvID0+IHtcclxuICAgICAgICAgICAgby5zZXREYXRhKCdzZWxlY3RlZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgby5nZXREYXRhKCdoaWdobGlnaHQnKS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBzZWxlY3RlZE9wdGlvbi5zZXREYXRhKCdzZWxlY3RlZCcsIHRydWUpO1xyXG4gICAgICAgIHNlbGVjdGVkT3B0aW9uLmdldERhdGEoJ2hpZ2hsaWdodCcpLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWN0dWFsaXphIGVzdGFkb3NcclxuICAgIHVwZGF0ZURpc2FibGVkU3RhdGVzKCkge1xyXG4gICAgICAgIHRoaXMucDFPcHRpb25zLmZvckVhY2gobyA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IG8uZ2V0RGF0YSgnY29sb3JLZXknKTtcclxuICAgICAgICAgICAgY29uc3Qgc2hvdWxkRGlzYWJsZSA9ICh0aGlzLmNvbG9yUGxheWVyMiAmJiBrZXkgPT09IHRoaXMuY29sb3JQbGF5ZXIyKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRPcHRpb25EaXNhYmxlZChvLCBzaG91bGREaXNhYmxlKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5wMk9wdGlvbnMuZm9yRWFjaChvID0+IHtcclxuICAgICAgICAgICAgY29uc3Qga2V5ID0gby5nZXREYXRhKCdjb2xvcktleScpO1xyXG4gICAgICAgICAgICBjb25zdCBzaG91bGREaXNhYmxlID0gKHRoaXMuY29sb3JQbGF5ZXIxICYmIGtleSA9PT0gdGhpcy5jb2xvclBsYXllcjEpO1xyXG4gICAgICAgICAgICB0aGlzLnNldE9wdGlvbkRpc2FibGVkKG8sIHNob3VsZERpc2FibGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldE9wdGlvbkRpc2FibGVkKG9wdGlvbiwgZGlzYWJsZWQpIHtcclxuICAgICAgICBvcHRpb24uc2V0RGF0YSgnZGlzYWJsZWQnLCBkaXNhYmxlZCk7XHJcblxyXG4gICAgICAgIGlmIChkaXNhYmxlZCkge1xyXG4gICAgICAgICAgICBvcHRpb24uZGlzYWJsZUludGVyYWN0aXZlKCk7XHJcbiAgICAgICAgICAgIG9wdGlvbi5zZXRBbHBoYSgwLjMpO1xyXG4gICAgICAgICAgICBvcHRpb24uc2V0RGF0YSgnc2VsZWN0ZWQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIG9wdGlvbi5nZXREYXRhKCdoaWdobGlnaHQnKS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBvcHRpb24uc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICBvcHRpb24uc2V0QWxwaGEoMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IFR1cnJldCB9IGZyb20gJy4vVHVycmV0JztcclxuXHJcbmV4cG9ydCBjbGFzcyBCdWxsZXQge1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIHgsIHksIHR1cnJldCwgYW5nbGUsIGNvbG9yKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3I7XHJcbiAgICAgICAgdGhpcy5teVR1cnJldCA9IHR1cnJldDtcclxuICAgICAgICB0aGlzLmRpciA9IGFuZ2xlO1xyXG4gICAgICAgIHRoaXMuYmFzZVNwZWVkID0gMjAwO1xyXG4gICAgICAgIHRoaXMuc3BlZWRNdWx0ID0gMTtcclxuICAgICAgICB0aGlzLmNhbkNvbGxpZGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYm91bmNlcyA9IDM7XHJcbiAgICAgICAgdGhpcy5jYW5EYW1hZ2UgPSBmYWxzZTtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgdGhpcy5jYW5EYW1hZ2UgPSB0cnVlOyB9LCAyMDApOyAvL0VzdG8gZXMgbmVjZXNhcmlvIG8gbG9zIHRhbnF1ZXMgc2UgZGHDsWFyw6FuIGFsIGluc3RhbnRlIGFsIGRpc3BhcmFyIC8vIE5PIFRPQ0FSXHJcblxyXG4gICAgICAgIGlmICh0aGlzLmNvbG9yID09PSBcIlJlZFwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlID0gdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoeCwgeSwgJ0JhbGFSZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5jb2xvcj09PVwiR3JlZW5cIil7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlID0gdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoeCwgeSwgJ0JhbGFHcmVlbicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0aGlzLmNvbG9yPT09XCJCbHVlXCIpe1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdCYWxhQmx1ZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0aGlzLmNvbG9yPT09XCJZZWxsb3dcIil7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlID0gdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoeCwgeSwgJ0JhbGFZZWxsb3cnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRDb2xsaWRlV29ybGRCb3VuZHModHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0U2l6ZSgyMCwxNSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0Qm91bmNlKDAuOCk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUucm90YXRpb249dGhpcy5kaXI7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0RGVwdGgoNSk7XHJcbiAgICAgICAgdGhpcy5zZXREaXIoKTtcclxuICAgICAgICB0aGlzLnNjZW5lLmV2ZW50cy5vbigndXBkYXRlJywgdGhpcy51cGRhdGUsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQ29sbGlzaW9ucygpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldERpcigpIHtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eShcclxuICAgICAgICAgICAgTWF0aC5jb3ModGhpcy5kaXIpICogdGhpcy5iYXNlU3BlZWQgKiB0aGlzLnNwZWVkTXVsdCxcclxuICAgICAgICAgICAgTWF0aC5zaW4odGhpcy5kaXIpICogdGhpcy5iYXNlU3BlZWQgKiB0aGlzLnNwZWVkTXVsdFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgLy8gU29sbyBzaSBsYSBiYWxhIHRpZW5lIGN1ZXJwbyBmw61zaWNvXHJcbiAgICAgICAgaWYgKHRoaXMuc3ByaXRlLmJvZHkpIHtcclxuICAgICAgICAgICAgY29uc3QgdnggPSB0aGlzLnNwcml0ZS5ib2R5LnZlbG9jaXR5Lng7XHJcbiAgICAgICAgICAgIGNvbnN0IHZ5ID0gdGhpcy5zcHJpdGUuYm9keS52ZWxvY2l0eS55O1xyXG5cclxuICAgICAgICAgICAgLy8gYXRhbjIgZGV2dWVsdmUgZWwgw6FuZ3VsbyBlbiByYWRpYW5lcyBzZWfDum4gbGEgZGlyZWNjacOzbiBkZWwgdmVjdG9yXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnJvdGF0aW9uID0gTWF0aC5hdGFuMih2eSwgdngpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95KCkge1xyXG4gICAgICAgIHRoaXMuYm91bmNlcy09MTtcclxuICAgICAgICBpZiAodGhpcy5ib3VuY2VzPDEpe1xyXG4gICAgICAgIHRoaXMuZGVzdHJveUJ1bGxldCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95QnVsbGV0KCkgeyAgICAgICAgXHJcbiAgICAgICAgdGhpcy5zY2VuZS5ldmVudHMub2ZmKCd1cGRhdGUnLCB0aGlzLnVwZGF0ZSwgdGhpcyk7ICAgICAgICBcclxuICAgICAgICB0aGlzLnNwcml0ZS5kZXN0cm95KCk7ICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUNvbGxpc2lvbnMoKSB7XHJcbiAgICB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc2NlbmUubGVmdCwgdGhpcy5zcHJpdGUsICgpID0+IHsgdGhpcy5kZXN0cm95KCk7IH0pO1xyXG4gICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNjZW5lLnJpZ2h0LCB0aGlzLnNwcml0ZSwgKCkgPT4geyB0aGlzLmRlc3Ryb3koKTsgfSk7XHJcbiAgICB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc2NlbmUudG9wLCB0aGlzLnNwcml0ZSwgKCkgPT4geyB0aGlzLmRlc3Ryb3koKTsgfSk7XHJcbiAgICB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc2NlbmUuYm90dG9tLCB0aGlzLnNwcml0ZSwgKCkgPT4geyB0aGlzLmRlc3Ryb3koKTsgfSk7XHJcbiAgICB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc2NlbmUuYmxvY2sxLCB0aGlzLnNwcml0ZSwgKCkgPT4geyB0aGlzLmRlc3Ryb3koKTsgfSk7XHJcbiAgICB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc2NlbmUuYmxvY2syLCB0aGlzLnNwcml0ZSwgKCkgPT4geyB0aGlzLmRlc3Ryb3koKTsgfSk7XHJcbiAgICB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc2NlbmUuY2VudHJvMSwgdGhpcy5zcHJpdGUsICgpID0+IHsgdGhpcy5kZXN0cm95KCk7IH0pO1xyXG4gICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNjZW5lLmNlbnRybzIsIHRoaXMuc3ByaXRlLCAoKSA9PiB7IHRoaXMuZGVzdHJveSgpOyB9KTtcclxuICAgIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zY2VuZS5jZW50cm8zLCB0aGlzLnNwcml0ZSwgKCkgPT4geyB0aGlzLmRlc3Ryb3koKTsgfSk7IFxyXG4gICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNjZW5lLnBhbG8xLCB0aGlzLnNwcml0ZSwgKCkgPT4geyB0aGlzLmRlc3Ryb3koKTsgfSk7IFxyXG4gICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNjZW5lLnBhbG8yLCB0aGlzLnNwcml0ZSwgKCkgPT4geyB0aGlzLmRlc3Ryb3koKTsgfSk7IFxyXG4gICAgdGhpcy5zY2VuZS5wbGF5ZXJzLmZvckVhY2godGFuayA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zcHJpdGUsIHRhbmsuc3ByaXRlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW5EYW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB0YW5rLnJlY2VpdmVEYW1hZ2UoMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95QnVsbGV0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQnVsbGV0IH0gZnJvbSAnLi9CdWxsZXQnO1xyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmV4cG9ydCBjbGFzcyBUdXJyZXQge1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIHRhbmssIHgsIHksIGNvbG9yKSB7XHJcbiAgICAgICAgdGhpcy5teVRhbmsgPSB0YW5rO1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICAgICAgaWYoeD40MDApe1xyXG4gICAgICAgICAgICB0aGlzLmFuZ2xlID0gTWF0aC5QSTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5hbmdsZSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcclxuICAgICAgICB0aGlzLnRhcmdldCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5yb3RhdGVTcGVlZCA9IFBoYXNlci5NYXRoLkRlZ1RvUmFkKDEpO1xyXG4gICAgICAgIHRoaXMuY2FuU2hvb3QgPSBmYWxzZTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoeCA+IDQwMCkge1xyXG4gICAgICAgICAgICB0aGlzLnBlcmZlY3RBbmdsZSA9IE1hdGguUEk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMucGVyZmVjdEFuZ2xlID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5sZWZ0QW5nbGUgPSA3NTtcclxuICAgICAgICB0aGlzLnJpZ2h0QW5nbGUgPSAxMDU7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmNvbG9yID09PSBcIlJlZFwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlID0gdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoeCwgeSwgJ1RvcnJldGFSZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY29sb3IgPT09IFwiR3JlZW5cIikge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdUb3JyZXRhR3JlZW4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY29sb3IgPT09IFwiQmx1ZVwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlID0gdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoeCwgeSwgJ1RvcnJldGFCbHVlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmNvbG9yID09PSBcIlllbGxvd1wiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlID0gdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoeCwgeSwgJ1RvcnJldGFZZWxsb3cnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRPcmlnaW4oMC4xNSwgMC41KTtcclxuICAgICAgICB0aGlzLlNldFBvc2l0aW9uID0gKHgsIHkpID0+IHsgdGhpcy5zcHJpdGUueCA9IHg7IHRoaXMuc3ByaXRlLnkgPSB5OyB9O1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldERlcHRoKDEwKTtcclxuICAgICAgICB0aGlzLnBvd2VyVXBCdWxsZXQgPSBudWxsO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5yb3RhdGlvbiA9IHRoaXMuYW5nbGU7XHJcbiAgICAgICAgdGhpcy5maXJlRXZlbnQgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHJvdGF0ZSgpIHtcclxuICAgICAgICB0aGlzLmFpbSgpO1xyXG4gICAgICAgIHRoaXMuYW5nbGUgPSB0aGlzLnBlcmZlY3RBbmdsZTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5yb3RhdGlvbiA9IHRoaXMuYW5nbGU7XHJcbiAgICB9XHJcblxyXG4gICAgZmlyZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMubXlUYW5rLmNhblNob290KSByZXR1cm47IC8vIFBvd2VyLXVwIG5vIHB1ZWRlIGRpc3BhcmFyXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMucG93ZXJVcEJ1bGxldCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jYW5TaG9vdCkge1xyXG4gICAgICAgICAgICAgICAgbmV3IEJ1bGxldChcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubXlUYW5rLkdldFgoKSxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm15VGFuay5HZXRZKCksXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcyxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZS5yb3RhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbG9yXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNob290KGEpIHtcclxuICAgICAgICB0aGlzLmNhblNob290ID0gYTtcclxuICAgICAgICB0aGlzLnN0YXJ0QXV0b0ZpcmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRUYXJnZXQodGFyKSB7XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXI7XHJcbiAgICB9XHJcblxyXG4gICAgYWltKCkge1xyXG4gICAgICAgIGlmICghdGhpcy50YXJnZXQpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3QgZHggPSB0aGlzLnRhcmdldC5HZXRYKCkgLSB0aGlzLnNwcml0ZS54O1xyXG4gICAgICAgIGNvbnN0IGR5ID0gdGhpcy50YXJnZXQuR2V0WSgpIC0gdGhpcy5zcHJpdGUueTtcclxuXHJcbiAgICAgICAgdGhpcy5wZXJmZWN0QW5nbGUgPSBNYXRoLmF0YW4yKGR5LCBkeCk7XHJcbiAgICAgICAgdGhpcy5sZWZ0QW5nbGUgPSB0aGlzLnBlcmZlY3RBbmdsZSArIFBoYXNlci5NYXRoLkRlZ1RvUmFkKDMwKTtcclxuICAgICAgICB0aGlzLnJpZ2h0QW5nbGUgPSB0aGlzLnBlcmZlY3RBbmdsZSAtIFBoYXNlci5NYXRoLkRlZ1RvUmFkKDMwKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDwn5S5IGluaWNpYXIgZGlzcGFybyBhdXRvbcOhdGljbyAoc29sbyB1bmEgdmV6KVxyXG4gICAgc3RhcnRBdXRvRmlyZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZmlyZUV2ZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmlyZUV2ZW50ID0gdGhpcy5zY2VuZS50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICAgICAgICAgIGRlbGF5OiAxMDAwLCAgICAgICAgICAvLyBjYWRhIHNlZ3VuZG9cclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB0aGlzLmZpcmUoKSxcclxuICAgICAgICAgICAgICAgIGxvb3A6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRlc3Ryb3koKSB7ICAgICAgICBcclxuICAgICAgICBpZiAodGhpcy5maXJlRXZlbnQpIHsgICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5maXJlRXZlbnQucmVtb3ZlKGZhbHNlKTsgICAgICAgIFxyXG4gICAgICAgIH0gICAgICAgIFxyXG4gICAgdGhpcy5zcHJpdGUuZGVzdHJveSgpOyAgICAgICAgIFxyXG4gICAgdGhpcy50YXJnZXQgPSBudWxsOyAgICAgICAgXHJcbiAgICB0aGlzLm15VGFuayA9IG51bGw7ICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHNldGFscGhhKGFsKXtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRBbHBoYShhbCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBUdXJyZXQgfSBmcm9tICcuL1R1cnJldCc7XHJcbmV4cG9ydCBjbGFzcyBUYW5rIHtcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCBpZCwgeCwgeSxjb2xvcikge1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5kaXJYID0gMDtcclxuICAgICAgICB0aGlzLmRpclkgPSAwO1xyXG4gICAgICAgIHRoaXMuYmFzZVNwZWVkID0gMTIwO1xyXG4gICAgICAgIHRoaXMuc3BlZWRNdWx0aXBsaWVyID0gMTtcclxuICAgICAgICB0aGlzLng9eDtcclxuICAgICAgICB0aGlzLnk9eTtcclxuICAgICAgICB0aGlzLmNvbG9yPWNvbG9yO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0PW51bGw7Ly9kb25kZSBhcHVudGFcclxuICAgICAgICB0aGlzLnZpZGFzID0gNTtcclxuICAgICAgICB0aGlzLmludnVsbmVyYWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY2FuU2hvb3QgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubm9TaG9vdFVudGlsID0gMDtcclxuICAgICAgICBpZih0aGlzLmNvbG9yPT09XCJSZWRcIil7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlID0gdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoeCwgeSwgJ0Jhc2VSZWQnKTtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0U2l6ZSg0MCwzNSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMuY29sb3I9PT1cIkdyZWVuXCIpe1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdCYXNlR3JlZW4nKTtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0U2l6ZSg0MiwzNSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMuY29sb3I9PT1cIkJsdWVcIil7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlID0gdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoeCwgeSwgJ0Jhc2VCbHVlJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFNpemUoNDUsMzUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0aGlzLmNvbG9yPT09XCJZZWxsb3dcIil7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlID0gdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoeCwgeSwgJ0Jhc2VZZWxsb3cnKTtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0U2l6ZSg0NSwzNSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnNwcml0ZS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldERlcHRoKDgpO1xyXG4gICAgICAgIHRoaXMudHVycmV0ID0gbmV3IFR1cnJldChzY2VuZSx0aGlzLHggLHksdGhpcy5jb2xvciApO1xyXG5cclxuICAgICAgICB0aGlzLkdldFggPSAoKT0+e3JldHVybiB0aGlzLnNwcml0ZS54O307XHJcbiAgICAgICAgdGhpcy5HZXRZID0gKCk9PntyZXR1cm4gdGhpcy5zcHJpdGUueTt9O1xyXG4gICAgfVxyXG5cclxuICAgIFNldFRhcmdldCh0YXIpe1xyXG4gICAgICAgIHRoaXMudGFyZ2V0PXRhcjtcclxuICAgICAgICB0aGlzLnR1cnJldC5zZXRUYXJnZXQodGhpcy50YXJnZXQpO1xyXG4gICAgfVxyXG4gICAgXHJcbnJlY2VpdmVEYW1hZ2UoYW1vdW50KSB7ICAgICAgIFxyXG4gICAgaWYgKHRoaXMuaW52dWxuZXJhYmxlKSByZXR1cm47ICAgICAgIFxyXG4gICAgICAgIHRoaXMudmlkYXMgLT0gYW1vdW50OyAgICAgIFxyXG4gICAgICAgIHRoaXMuc2NlbmUuYWN0dWFsaXphclZpZGFzKHRoaXMuaWQsIHRoaXMudmlkYXMpOyAgIFxyXG4gICAgICAgIGlmICh0aGlzLnZpZGFzIDw9IDApIHsgICAgICAgICAgXHJcbiAgICAgICAgdGhpcy5kZXN0cm95KCk7ICAgICAgICBcclxuICAgIH0gXHJcbmVsc2UgeyAgICAgICAgICAgIFxyXG4gICAgdGhpcy5tYWtlSW52dWxuZXJhYmxlKCk7ICAgICAgICBcclxufSAgICBcclxufVxyXG4gICAgXHJcbm1ha2VJbnZ1bG5lcmFibGUoKSB7XHJcbiAgICB0aGlzLmludnVsbmVyYWJsZSA9IHRydWU7XHJcbiAgICBsZXQgYmxpbmtDb3VudCA9IDA7XHJcbiAgICB0aGlzLnNjZW5lLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICAgIGRlbGF5OiAyMDAsXHJcbiAgICAgICAgcmVwZWF0OiA1LFxyXG4gICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldEFscGhhKHRoaXMuc3ByaXRlLmFscGhhID09PSAxID8gMC4zIDogMSk7XHJcbiAgICAgICAgICAgIHRoaXMudHVycmV0LnNldGFscGhhKHRoaXMudHVycmV0LnNwcml0ZS5hbHBoYSA9PT0gMSA/IDAuMyA6IDEpO1xyXG4gICAgICAgICAgICBibGlua0NvdW50Kys7XHJcbiAgICAgICAgICAgIGlmIChibGlua0NvdW50ID49IDUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldEFscGhhKDEpOyBcclxuICAgICAgICAgICAgICAgIHRoaXMudHVycmV0LnNldGFscGhhKDEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnZ1bG5lcmFibGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5hcHBseU5vU2hvb3QobXMpIHtcclxuICAgIGNvbnN0IG5vdyA9IHRoaXMuc2NlbmUudGltZS5ub3c7XHJcbiAgICB0aGlzLm5vU2hvb3RVbnRpbCA9IE1hdGgubWF4KHRoaXMubm9TaG9vdFVudGlsLCBub3cgKyBtcyk7XHJcbiAgICB0aGlzLmNhblNob290ID0gZmFsc2U7XHJcblxyXG4gICAgdGhpcy5zY2VuZS50aW1lLmRlbGF5ZWRDYWxsKG1zLCAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2NlbmUudGltZS5ub3cgPj0gdGhpcy5ub1Nob290VW50aWwpIHtcclxuICAgICAgICAgICAgdGhpcy5jYW5TaG9vdCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmRlc3Ryb3koKSB7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuZGVzdHJveSgpO1xyXG4gICAgICAgIHRoaXMudHVycmV0LmRlc3Ryb3koKTtcclxufVxyXG59IiwiXHJcblxyXG5leHBvcnQgY2xhc3MgUG93ZXJVcCB7XHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgeCwgeSwgdHlwZSwgZ2VuZXJhdG9yKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuZ2VuZXJhdG9yID0gZ2VuZXJhdG9yO1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlOyBcclxuICAgICAgICBpZiAodHlwZT09PSdIZWFsJylcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSh4LCB5LCAnVmlkYScpLnNldFNjYWxlKDAuMDUpO1xyXG4gICAgICAgIGlmICh0eXBlPT09J1NwZWVkJylcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSh4LCB5LCAnVmVsb2NpZGFkJykuc2V0U2NhbGUoMS4xKTtcclxuICAgICAgICBpZiAodHlwZT09PSdTaGllbGQnKVxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdFc2N1ZG8nKS5zZXRTY2FsZSgxLjEpO1xyXG4gICAgICAgIGlmICh0eXBlID09PSAnTm9TaG9vdCcpXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlID0gdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoeCwgeSwgJ05vRnVlZ29BbWlnbycpLnNldFNjYWxlKDEuMSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0RGVwdGgoMSk7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVDb2xsaXN0aW9ucygpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUucG93ZXJVcHNHcm91cC5hZGQodGhpcy5zcHJpdGUpO1xyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgYXBseVBvd2VyVXAodGFuaywgdHlwZSl7XHJcbiAgICAgICAgdGhpcy5zY2VuZS51c2VQb3dlclVwcyA9IHRydWU7XHJcbiAgICAgICAgc3dpdGNoKHR5cGUpe1xyXG4gICAgICAgICAgICBjYXNlICdIZWFsJzpcclxuICAgICAgICAgICAgICAgIGlmICh0YW5rLnZpZGFzPDUpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRhbmsudmlkYXMrPTE7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5hY3R1YWxpemFyVmlkYXModGFuay5pZCwgdGFuay52aWRhcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnU3BlZWQnOlxyXG4gICAgICAgICAgICAgICAgdGFuay5zcGVlZE11bHRpcGxpZXI9MS41OyAgICBcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUudGltZS5kZWxheWVkQ2FsbCg1MDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFuay5zcGVlZE11bHRpcGxpZXI9MTtcclxuICAgICAgICAgICAgICAgIH0sIFtdLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrOyAgXHJcbiAgICAgICAgICAgIGNhc2UgJ1NoaWVsZCc6XHJcbiAgICAgICAgICAgICAgICB0YW5rLmludnVsbmVyYWJsZSA9IHRydWU7ICAgIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS50aW1lLmRlbGF5ZWRDYWxsKDUwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0YW5rLmludnVsbmVyYWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSwgW10sIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7ICBcclxuICAgICAgICAgICAgY2FzZSAnTm9TaG9vdCc6XHJcbiAgICAgICAgICAgICAgICB0YW5rLmFwcGx5Tm9TaG9vdCg1MDAwKTsgLy8gNSBzZWd1bmRvcyBzaW4gZGlzcGFyYXJcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQ29sbGlzdGlvbnMoKSB7XHJcbiAgICB0aGlzLnNjZW5lLnBsYXllcnMuZm9yRWFjaCh0YW5rQ29sbGVjdG9yID0+IHtcclxuICAgICAgICB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc3ByaXRlLCB0YW5rQ29sbGVjdG9yLnNwcml0ZSwgKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgLy8gQnVzY2FyIHJpdmFsXHJcbiAgICAgICAgICAgIGxldCBlbmVteVRhbmsgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBsYXllcnMuZm9yRWFjaCh0ID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0ICE9PSB0YW5rQ29sbGVjdG9yKSBlbmVteVRhbmsgPSB0O1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIFNvbG8gbmVnYXRpdm9zIGFsIHJpdmFsXHJcbiAgICAgICAgICAgIGNvbnN0IG5lZ2F0aXZlVHlwZXMgPSBuZXcgU2V0KFsnTm9TaG9vdCddKTtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0VGFuayA9IG5lZ2F0aXZlVHlwZXMuaGFzKHRoaXMudHlwZSlcclxuICAgICAgICAgICAgICAgID8gKGVuZW15VGFuayA/PyB0YW5rQ29sbGVjdG9yKVxyXG4gICAgICAgICAgICAgICAgOiB0YW5rQ29sbGVjdG9yO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hcGx5UG93ZXJVcCh0YXJnZXRUYW5rLCB0aGlzLnR5cGUpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB0aGlzLmdlbmVyYXRvci5tYXhQb3dlclVwcyAtPSAxO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbn0gXHJcbiAgICIsIlxyXG5pbXBvcnQgeyBQb3dlclVwIH0gZnJvbSAnLi9Qb3dlclVwLmpzJztcclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBvd2VyVXBHZW5lcmF0b3Ige1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsaW50ZXJ2YWwsIG9ubGluZSkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmludGVydmFsPWludGVydmFsO1xyXG4gICAgICAgIHRoaXMub25saW5lID0gb25saW5lOyBcclxuICAgICAgICB0aGlzLnR5cGVzID0gWydIZWFsJywgJ1NwZWVkJywgJ1NoaWVsZCcsICdOb1Nob290J107XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbnNYID0gWzEwMCw3MDAsNzAwLDEwMCw0MDBdO1xyXG4gICAgICAgIHRoaXMucG9zaXRpb25zWSA9IFsxNTAsNTAwLDE1MCw1MDAsMzAwXTtcclxuICAgICAgICB0aGlzLm1heFBvd2VyVXBzID0gMDtcclxuICAgICAgICBpZiAoIXRoaXMub25saW5lKVxyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0R2VuZXJhdGluZygpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0R2VuZXJhdGluZygpIHtcclxuICAgICAgICB0aGlzLnNjZW5lLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICAgICAgICBkZWxheTogdGhpcy5pbnRlcnZhbCxcclxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHRoaXMuZ2VuZXJhdGVQb3dlclVwKCksXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaXNTcGF3blZhbGlkKHgsIHkpIHtcclxuICAgICAgICAvLyBab25hIGludmlzaWJsZSBkZWwgdGFtYcOxbyBhcHJveGltYWRvIGRlbCBwb3dlci11cFxyXG4gICAgICAgIGNvbnN0IHpvbmUgPSB0aGlzLnNjZW5lLmFkZC56b25lKHgsIHksIDQwLCA0MCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5leGlzdGluZyh6b25lKTtcclxuICAgICAgICB6b25lLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIFNpIHRvY2EgY3VhbHF1aWVyIG11cm8vb2JzdMOhY3VsbyA9PiBubyB2YWxlXHJcbiAgICAgICAgY29uc3QgaGl0V2FsbCA9IHRoaXMuc2NlbmUucGh5c2ljcy5vdmVybGFwKHpvbmUsIHRoaXMuc2NlbmUub2JzdGFjbGVzKTtcclxuXHJcbiAgICAgICAgY29uc3QgaGl0UG93ZXJVcCA9IHRoaXMuc2NlbmUucG93ZXJVcHNHcm91cFxyXG4gICAgICAgICAgICA/IHRoaXMuc2NlbmUucGh5c2ljcy5vdmVybGFwKHpvbmUsIHRoaXMuc2NlbmUucG93ZXJVcHNHcm91cClcclxuICAgICAgICAgICAgOiBmYWxzZTtcclxuXHJcbiAgICAgICAgem9uZS5kZXN0cm95KCk7XHJcbiAgICAgICAgcmV0dXJuICFoaXRXYWxsICYmICFoaXRQb3dlclVwO1xyXG4gICAgfVxyXG5cclxuICAgIGdlbmVyYXRlUG93ZXJVcCgpIHtcclxuICAgIGlmICh0aGlzLm1heFBvd2VyVXBzID49IDMpIHJldHVybjtcclxuXHJcbiAgICAvLyBQcm9iYXIgcHVudG9zIGVuIG9yZGVuIGFsZWF0b3JpbyBzaW4gcmVwZXRpclxyXG4gICAgY29uc3QgaW5kaWNlcyA9IFBoYXNlci5VdGlscy5BcnJheS5TaHVmZmxlKFxyXG4gICAgICAgIFsuLi5BcnJheSh0aGlzLnBvc2l0aW9uc1gubGVuZ3RoKS5rZXlzKCldXHJcbiAgICApO1xyXG5cclxuICAgIGZvciAoY29uc3QgaSBvZiBpbmRpY2VzKSB7XHJcbiAgICAgICAgY29uc3QgeCA9IHRoaXMucG9zaXRpb25zWFtpXTtcclxuICAgICAgICBjb25zdCB5ID0gdGhpcy5wb3NpdGlvbnNZW2ldO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5pc1NwYXduVmFsaWQoeCwgeSkpIHtcclxuICAgICAgICAgICAgY29uc3QgdHlwZSA9IFBoYXNlci5VdGlscy5BcnJheS5HZXRSYW5kb20odGhpcy50eXBlcyk7XHJcbiAgICAgICAgICAgIG5ldyBQb3dlclVwKHRoaXMuc2NlbmUsIHgsIHksIHR5cGUsIHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLm1heFBvd2VyVXBzICs9IDE7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBDb21tYW5kUHJvY2Vzc29yIHtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lID0gbnVsbDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgc2V0UGxheWVycyhwbGF5ZXJzKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gcGxheWVycztcclxuICAgIH1cclxuXHJcbiAgICBzZXRHYW1lU2NlbmUoZ2FtZVNjZW5lKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUgPSBnYW1lU2NlbmU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvY2Vzcyhjb21tYW5kKSB7XHJcbiAgICAgICAgY29tbWFuZC5leGVjdXRlKCk7XHJcbiAgICAgICAgLy8gU2VudCBvdmVyIHRoZSB3ZWJzb2NrZXRcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBDb21tYW5kIHtcclxuXHJcbiAgICBleGVjdXRlKCkge31cclxuXHJcbiAgICBzZXJpYWxpemUoKSB7fVxyXG5cclxuICAgIGdldFBsYXllcigpIHt9XHJcbn0iLCJpbXBvcnQgeyBDb21tYW5kIH0gZnJvbSBcIi4vQ29tbWFuZFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1vdmVUYW5rQ29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHRhbmssIGRpcmVjdGlvbikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy50YW5rID0gdGFuaztcclxuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjsgXHJcbiAgICBcclxuICAgIH1cclxuICAgIFxyXG4gICAgZXhlY3V0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5kaXJlY3Rpb24gPT09ICd1cCcpIHtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnNwcml0ZS5zZXRWZWxvY2l0eVkoLXRoaXMudGFuay5iYXNlU3BlZWQqdGhpcy50YW5rLnNwZWVkTXVsdGlwbGllcik7XHJcbiAgICAgICAgICAgIHRoaXMudGFuay50dXJyZXQucm90YXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMudGFuay50dXJyZXQuc2hvb3QoZmFsc2UpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5kaXJlY3Rpb24gPT09ICdkb3duJykge1xyXG4gICAgICAgICAgICB0aGlzLnRhbmsuc3ByaXRlLnNldFZlbG9jaXR5WSgrdGhpcy50YW5rLmJhc2VTcGVlZCp0aGlzLnRhbmsuc3BlZWRNdWx0aXBsaWVyKTtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnR1cnJldC5yb3RhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnR1cnJldC5zaG9vdChmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9ZWxzZSBpZiAodGhpcy5kaXJlY3Rpb24gPT09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnNwcml0ZS5zZXRWZWxvY2l0eVgodGhpcy50YW5rLmJhc2VTcGVlZCp0aGlzLnRhbmsuc3BlZWRNdWx0aXBsaWVyKTtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnR1cnJldC5yb3RhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnR1cnJldC5zaG9vdChmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9ZWxzZSBpZiAodGhpcy5kaXJlY3Rpb24gPT09ICdsZWZ0Jykge1xyXG4gICAgICAgICAgICB0aGlzLnRhbmsuc3ByaXRlLnNldFZlbG9jaXR5WCgtdGhpcy50YW5rLmJhc2VTcGVlZCp0aGlzLnRhbmsuc3BlZWRNdWx0aXBsaWVyKTtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnR1cnJldC5yb3RhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnR1cnJldC5zaG9vdChmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnRhbmsuc3ByaXRlLnNldFZlbG9jaXR5WSgwKTtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgICAgICAgICAgIHRoaXMudGFuay50dXJyZXQuc3ByaXRlLnNldFZlbG9jaXR5WSgwKTtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnR1cnJldC5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgICAgICB0aGlzLnRhbmsudHVycmV0LnNob290KHRydWUpOyAvL2hheSBxaWUgbGltaXRhcmxvXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudGFuay50dXJyZXQuU2V0UG9zaXRpb24odGhpcy50YW5rLkdldFgoKSx0aGlzLnRhbmsuR2V0WSgpKTtcclxuICAgICAgICB0aGlzLnRhbmsudHVycmV0LmFpbSgpO1xyXG4gICAgICAgIGlmICh0aGlzLnRhbmsuc3ByaXRlLmJvZHkpIHtcclxuICAgICAgICAgICAgY29uc3QgdnggPSB0aGlzLnRhbmsuc3ByaXRlLmJvZHkudmVsb2NpdHkueDtcclxuICAgICAgICAgICAgY29uc3QgdnkgPSB0aGlzLnRhbmsuc3ByaXRlLmJvZHkudmVsb2NpdHkueTtcclxuXHJcbiAgICAgICAgICAgIC8vIGF0YW4yIGRldnVlbHZlIGVsIMOhbmd1bG8gZW4gcmFkaWFuZXMgc2Vnw7puIGxhIGRpcmVjY2nDs24gZGVsIHZlY3RvclxyXG4gICAgICAgICAgICB0aGlzLnRhbmsuc3ByaXRlLnJvdGF0aW9uID0gTWF0aC5hdGFuMih2eSwgdngpKyhNYXRoLlBJLzIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG59IiwiaW1wb3J0IHsgQ29tbWFuZCB9IGZyb20gXCIuL0NvbW1hbmRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQYXVzZUdhbWVDb21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZ2FtZVNjZW5lLCBpc1BhdXNlZCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUgPSBnYW1lU2NlbmU7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGlzUGF1c2VkXHJcbiAgICB9XHJcblxyXG4gICAgZXhlY3V0ZSgpIHtcclxuICAgICAgICB0aGlzLmdhbWVTY2VuZS5zZXRQYXVzZVN0YXRlKHRoaXMuaXNQYXVzZWQpO1xyXG4gICAgfVxyXG59IiwiLyoqXHJcbiAqIFNlcnZpY2lvIHBhcmEgZ2VzdGlvbmFyIGxhIGNvbmV4acOzbiBjb24gZWwgc2Vydmlkb3JcclxuICogTWFuZWphIGVsIHBvbGxpbmcgYWwgZW5kcG9pbnQgL2FwaS9jb25uZWN0ZWQgeSBkZXRlY3RhIHDDqXJkaWRhcyBkZSBjb25leGnDs25cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb25uZWN0aW9uTWFuYWdlciB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLmNvbm5lY3RlZENvdW50ID0gMDtcclxuICAgIHRoaXMuaXNDb25uZWN0ZWQgPSBmYWxzZTtcclxuICAgIHRoaXMubGFzdENoZWNrVGltZSA9IDA7XHJcbiAgICB0aGlzLmNoZWNrSW50ZXJ2YWwgPSAyMDAwOyAvLyBDb21wcm9iYXIgY2FkYSAyIHNlZ3VuZG9zXHJcbiAgICB0aGlzLmxpc3RlbmVycyA9IFtdO1xyXG4gICAgdGhpcy5zZXNzaW9uSWQgPSB0aGlzLmdlbmVyYXRlU2Vzc2lvbklkKCk7XHJcbiAgICB0aGlzLmludGVydmFsSWQgPSBudWxsO1xyXG5cclxuICAgIC8vIEluaWNpYXIgZWwgcG9sbGluZyBhdXRvbcOhdGljb1xyXG4gICAgdGhpcy5zdGFydFBvbGxpbmcoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdlbmVyYXIgdW4gSUQgw7puaWNvIGRlIHNlc2nDs24gcGFyYSBlc3RlIGNsaWVudGVcclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAqL1xyXG4gIGdlbmVyYXRlU2Vzc2lvbklkKCkge1xyXG4gICAgcmV0dXJuIGBzZXNzaW9uXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbXByb2JhciBjb25leGnDs24gY29uIGVsIHNlcnZpZG9yXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8e2Nvbm5lY3RlZDogbnVtYmVyLCBzdWNjZXNzOiBib29sZWFufT59XHJcbiAgICovXHJcbiAgYXN5bmMgY2hlY2tDb25uZWN0aW9uKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9jb25uZWN0ZWQnLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZFxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICB0aGlzLmNvbm5lY3RlZENvdW50ID0gZGF0YS5jb25uZWN0ZWQ7XHJcbiAgICAgICAgdGhpcy5pc0Nvbm5lY3RlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5sYXN0Q2hlY2tUaW1lID0gRGF0ZS5ub3coKTtcclxuXHJcbiAgICAgICAgLy8gTm90aWZpY2FyIGEgbG9zIGxpc3RlbmVyc1xyXG4gICAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKHsgY29ubmVjdGVkOiB0cnVlLCBjb3VudDogdGhpcy5jb25uZWN0ZWRDb3VudCB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHsgY29ubmVjdGVkOiB0aGlzLmNvbm5lY3RlZENvdW50LCBzdWNjZXNzOiB0cnVlIH07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XHJcbiAgICAgICAgcmV0dXJuIHsgY29ubmVjdGVkOiAwLCBzdWNjZXNzOiBmYWxzZSB9O1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjaGVja2luZyBjb25uZWN0aW9uOicsIGVycm9yKTtcclxuICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XHJcbiAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogMCwgc3VjY2VzczogZmFsc2UgfTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE1hbmVqYXIgZGVzY29uZXhpw7NuXHJcbiAgICovXHJcbiAgaGFuZGxlRGlzY29ubmVjdGlvbigpIHtcclxuICAgIHRoaXMuaXNDb25uZWN0ZWQgPSBmYWxzZTtcclxuICAgIHRoaXMuY29ubmVjdGVkQ291bnQgPSAwO1xyXG4gICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoeyBjb25uZWN0ZWQ6IGZhbHNlLCBjb3VudDogMCB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlZ2lzdHJhciB1biBsaXN0ZW5lciBwYXJhIGNhbWJpb3MgZGUgY29uZXhpw7NuXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBGdW5jacOzbiBxdWUgc2UgbGxhbWFyw6EgY3VhbmRvIGNhbWJpZSBlbCBlc3RhZG9cclxuICAgKi9cclxuICBhZGRMaXN0ZW5lcihjYWxsYmFjaykge1xyXG4gICAgdGhpcy5saXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFbGltaW5hciB1biBsaXN0ZW5lclxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gRnVuY2nDs24gYSBlbGltaW5hclxyXG4gICAqL1xyXG4gIHJlbW92ZUxpc3RlbmVyKGNhbGxiYWNrKSB7XHJcbiAgICBjb25zdCBpbmRleCA9IHRoaXMubGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spO1xyXG4gICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE5vdGlmaWNhciBhIHRvZG9zIGxvcyBsaXN0ZW5lcnNcclxuICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSAtIERhdG9zIGRlbCBlc3RhZG8gZGUgY29uZXhpw7NuXHJcbiAgICovXHJcbiAgbm90aWZ5TGlzdGVuZXJzKGRhdGEpIHtcclxuICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4gbGlzdGVuZXIoZGF0YSkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogT2J0ZW5lciBlbCBlc3RhZG8gYWN0dWFsIGRlIGNvbmV4acOzblxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICovXHJcbiAgZ2V0U3RhdHVzKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaXNDb25uZWN0ZWQ6IHRoaXMuaXNDb25uZWN0ZWQsXHJcbiAgICAgIGNvbm5lY3RlZENvdW50OiB0aGlzLmNvbm5lY3RlZENvdW50LFxyXG4gICAgICBsYXN0Q2hlY2tUaW1lOiB0aGlzLmxhc3RDaGVja1RpbWVcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbmljaWFyIGVsIHBvbGxpbmcgYXV0b23DoXRpY28gZGUgY29uZXhpw7NuXHJcbiAgICovXHJcbiAgc3RhcnRQb2xsaW5nKCkge1xyXG4gICAgaWYgKHRoaXMuaW50ZXJ2YWxJZCkge1xyXG4gICAgICByZXR1cm47IC8vIFlhIGVzdMOhIGNvcnJpZW5kb1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbXByb2JhciBpbm1lZGlhdGFtZW50ZVxyXG4gICAgdGhpcy5jaGVja0Nvbm5lY3Rpb24oKTtcclxuXHJcbiAgICAvLyBMdWVnbyBjb21wcm9iYXIgY2FkYSBYIHNlZ3VuZG9zXHJcbiAgICB0aGlzLmludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgIHRoaXMuY2hlY2tDb25uZWN0aW9uKCk7XHJcbiAgICB9LCB0aGlzLmNoZWNrSW50ZXJ2YWwpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGV0ZW5lciBlbCBwb2xsaW5nIGF1dG9tw6F0aWNvXHJcbiAgICovXHJcbiAgc3RvcFBvbGxpbmcoKSB7XHJcbiAgICBpZiAodGhpcy5pbnRlcnZhbElkKSB7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbElkKTtcclxuICAgICAgdGhpcy5pbnRlcnZhbElkID0gbnVsbDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIENyZWFyIGluc3RhbmNpYSBzaW5nbGV0b25cclxuZXhwb3J0IGNvbnN0IGNvbm5lY3Rpb25NYW5hZ2VyID0gbmV3IENvbm5lY3Rpb25NYW5hZ2VyKCk7XHJcbiIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgVGFuayB9IGZyb20gJy4uL2VudGl0aWVzL1RhbmsnO1xyXG5pbXBvcnQgeyBQb3dlclVwR2VuZXJhdG9yIH0gZnJvbSAnLi4vZW50aXRpZXMvUG93ZXJVcEdlbmVyYXRvci5qcyc7XHJcbmltcG9ydCB7IENvbW1hbmRQcm9jZXNzb3IgfSBmcm9tICcuLi9jb21tYW5kcy9Db21tYW5kUHJvY2Vzc29yJztcclxuaW1wb3J0IHsgTW92ZVRhbmtDb21tYW5kIH0gZnJvbSAnLi4vY29tbWFuZHMvTW92ZVRhbmtDb21tYW5kJztcclxuaW1wb3J0IHsgUGF1c2VHYW1lQ29tbWFuZCB9IGZyb20gJy4uL2NvbW1hbmRzL1B1YXNlR2FtZUNvbW1hbmQnO1xyXG5pbXBvcnQgeyBjb25uZWN0aW9uTWFuYWdlciB9IGZyb20gJy4uL3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdHYW1lU2NlbmUnKTtcclxuICAgIH1cclxuICAgIHByZWxvYWQoKSB7Ly9jYXJnYSBkZSBhcmNoaXZvc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRm9uZG8nLCAnaW1hZ2VuZXMvRm9uZG8uanBnJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdWaWRhJywgJ2ltYWdlbmVzL1ZpZGFDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0J1YmJsZScsICdpbWFnZW5lcy9CdXJidWphQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdFc2N1ZG8nLCAnaW1hZ2VuZXMvRXNjdWRvQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdOb0Z1ZWdvQW1pZ28nLCAnaW1hZ2VuZXMvTm9GdWVnb0FtaWdvQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdNZWRpb01hcGEnLCAnaW1hZ2VuZXMvTWVkaW9PYnN0YWN1bG9DVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BhbG8nLCAnaW1hZ2VuZXMvUGFsb09ic3RhY3Vsb0NXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmxvcXVlU2ltcGxlJywgJ2ltYWdlbmVzL1RpbGVNdXJvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQm90dG9tVG9wV2FsbCcsICdpbWFnZW5lcy9Cb3R0b21Ub3BDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0xlZnRSaWdodFdhbGwnLCAnaW1hZ2VuZXMvTGVmdFJpZ2h0Q1cucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmFzZVJlZCcsICdpbWFnZW5lcy9UYW5xdWVSb2pvQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdUb3JyZXRhUmVkJywgJ2ltYWdlbmVzL0Nhbm9uUm9qb0NXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmFsYVJlZCcsICdpbWFnZW5lcy9CYWxhTlJvam9Ddy5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCYXNlR3JlZW4nLCAnaW1hZ2VuZXMvVGFucXVlVmVyZGVDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1RvcnJldGFHcmVlbicsICdpbWFnZW5lcy9DYW5vblZlcmRlQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCYWxhR3JlZW4nLCAnaW1hZ2VuZXMvQmFsYU5WZXJkZUNXLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0Jhc2VCbHVlJywgJ2ltYWdlbmVzL1RhbnF1ZUF6dWxDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1RvcnJldGFCbHVlJywgJ2ltYWdlbmVzL0Nhbm9uQXp1bENXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmFsYUJsdWUnLCAnaW1hZ2VuZXMvQmFsYU5BenVsQ1cucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmFzZVllbGxvdycsICdpbWFnZW5lcy9UYW5xdWVBbWFyaWxsb0NXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnVG9ycmV0YVllbGxvdycsICdpbWFnZW5lcy9DYW5vbkFtYXJpbGxvQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCYWxhWWVsbG93JywgJ2ltYWdlbmVzL0JhbGFOQW1hcmlsbG9DVy5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdNdXJvQmxvcXVlNicsICdpbWFnZW5lcy9NZWRpb09ic3RhY3Vsb0NXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmxvcXVlJywgJ2ltYWdlbmVzL1RpbGVNdXJvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUGFsbycsICdpbWFnZW5lcy9QYWxvT2JzdGFjdWxvQ1cucG5nJyk7XHJcbiAgICAgICBcclxuICAgIH1cclxuICAgIGluaXQoZGF0YSkge1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmlucHV0TWFwcGluZ3MgPSBbXTtcclxuICAgICAgICB0aGlzLmJhbGwgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucG93ZXJVcEdlbmVyYXRvciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZXNjV2FzRG93biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucHJvY2Vzc29yID0gbmV3IENvbW1hbmRQcm9jZXNzb3IoKTtcclxuICAgICAgICB0aGlzLmlzR2FtZU92ZXIgPSBmYWxzZTtcclxuICAgICAgICAvLyBDb2xvcmVzIHF1ZSB2aWVuZW4gZGUgU2VsZWN0Q29sb3JcclxuICAgICAgICB0aGlzLmNvbG9yUGxheWVyMSA9IGRhdGE/LmNvbG9yUGxheWVyMTtcclxuICAgICAgICB0aGlzLmNvbG9yUGxheWVyMiA9IGRhdGE/LmNvbG9yUGxheWVyMjtcclxuICAgIH1cclxuXHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG5cclxuICAgICAgICB0aGlzLnBvd2VyVXBzR3JvdXAgPSB0aGlzLnBoeXNpY3MuYWRkLmdyb3VwKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy9mb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQwMCwgMzAwLCAnRm9uZG8nKTsgICAgICAgXHJcbiAgICAgICAgdGhpcy5jcmVhdGVCb3VuZHMoKTtcclxuICAgICAgICAvL3RoaXMuY3JlYXRlQmFsbCgpO1xyXG4gICAgICAgIC8vdGhpcy5sYXVuY2hCYWxsKCk7XHJcblxyXG4gICAgICAgIC8vIE9ic3TDoWN1bG9zXHJcbiAgICAgICAgdGhpcy5vYnN0YWNsZXMgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY0dyb3VwKFxyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICB0aGlzLnRvcCwgdGhpcy5ib3R0b20sIHRoaXMubGVmdCwgdGhpcy5yaWdodCxcclxuICAgICAgICB0aGlzLmJsb2NrMSwgdGhpcy5ibG9jazIsXHJcbiAgICAgICAgdGhpcy5jZW50cm8xLCB0aGlzLmNlbnRybzIsIHRoaXMuY2VudHJvMyxcclxuICAgICAgICB0aGlzLnBhbG8xLCB0aGlzLnBhbG8yXHJcbiAgICAgICAgKTtcclxuICAgIFxyXG5cclxuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLmJhbGwsIHRoaXMubGVmdEdvYWwsIHRoaXMuc2NvcmVSaWdodEdvYWwsIG51bGwsIHRoaXMpO1xyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMuYmFsbCwgdGhpcy5yaWdodEdvYWwsIHRoaXMuc2NvcmVMZWZ0R29hbCwgbnVsbCwgdGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0VXBQbGF5ZXJzKCk7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVDb2xsaXNpb25zKCk7XHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIHRoaXMudmlkYXNKdWdhZG9yZXMoKTtcclxuICAgICAgICB0aGlzLnBvd2VyVXBHZW5lcmF0b3IgPSBuZXcgUG93ZXJVcEdlbmVyYXRvcih0aGlzLCAxMDAwMCwgZmFsc2UpOyAvLyBHZW5lcmEgdW4gcG93ZXItdXAgY2FkYSAxMCBzZWd1bmRvc1xyXG4gICAgICAgIHRoaXMuZXNjS2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkVTQyk7XHJcblxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgaWYoIWRhdGEuY29ubmVjdGVkICYmIHRoaXMuc2NlbmUuaXNBY3RpdmUoKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ29ubmVjdGlvbkxvc3QoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5hZGRMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ3NodXRkb3duJywgdGhpcy5vblNodXRkb3duLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmV2ZW50cy5vbignZGVzdHJveScsIHRoaXMub25TaHV0ZG93biwgdGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMucmVtb3ZlS2V5cyA9IHRoaXMuaW5wdXQua2V5Ym9hcmQucmVtb3ZlQ2FwdHVyZShbJ0VTQycsICdXJywgJ0EnLCAnUycsICdEJywgJ1VQJywgJ0RPV04nLCAnTEVGVCcsICdSSUdIVCddKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgb25Db25uZWN0aW9uTG9zdCgpey8vYXBpXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ0Nvbm5lY3Rpb25Mb3N0U2NlbmUnLCB7IHByZXZpb3VzU2NlbmU6ICdHYW1lU2NlbmUnIH0pO1xyXG4gICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICB0aGlzLnNjZW5lLmJyaW5nVG9Ub3AoJ0Nvbm5lY3Rpb25Mb3N0U2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICB2aWRhc0p1Z2Fkb3JlcygpIHtcclxuICAgICAgICB0aGlzLnZpZGFQbGF5ZXIxID0gW107XHJcbiAgICAgICAgdGhpcy52aWRhUGxheWVyMiA9IFtdO1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDEwLCAyMCwgYEJhc2Uke3RoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5jb2xvcn1gKS5zZXRPcmlnaW4oMCwgMCk7XHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzQwLCAyMCwgYEJhc2Uke3RoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5jb2xvcn1gKS5zZXRPcmlnaW4oMCwgMCk7XHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMzUsIDQwLCBgVG9ycmV0YSR7dGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLmNvbG9yfWApLnNldE9yaWdpbigwLjE1LCAwLjUpO1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDc2NSwgNDAsIGBUb3JyZXRhJHt0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuY29sb3J9YCkuc2V0T3JpZ2luKDAuMTUsIDAuNSkuc2V0Um90YXRpb24oTWF0aC5QSSk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgdmlkYTEgPSB0aGlzLmFkZC5pbWFnZSg5MCArIGkgKiAzMCwgMzUsICdWaWRhJykuc2V0U2NhbGUoMC4wNSk7XHJcbiAgICAgICAgICAgIHRoaXMudmlkYVBsYXllcjEucHVzaCh2aWRhMSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHZpZGEyID0gdGhpcy5hZGQuaW1hZ2UoNzEwIC0gaSAqIDMwLCAzNSwgJ1ZpZGEnKS5zZXRTY2FsZSgwLjA1KTtcclxuICAgICAgICAgICAgdGhpcy52aWRhUGxheWVyMi5wdXNoKHZpZGEyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiBcclxuICAgIGFjdHVhbGl6YXJWaWRhcyhwbGF5ZXJJZCwgdmlkYXNSZXN0YW50ZXMpIHtcclxuICAgICAgICBjb25zdCB2aWRhQXJyYXkgPSBwbGF5ZXJJZCA9PT0gJ3BsYXllcjEnID8gdGhpcy52aWRhUGxheWVyMSA6IHRoaXMudmlkYVBsYXllcjI7XHJcbiAgICAgICAgaWYgKHZpZGFBcnJheS5sZW5ndGggPiB2aWRhc1Jlc3RhbnRlcykge1xyXG4gICAgICAgICAgICBjb25zdCB2aWRhU3ByaXRlID0gdmlkYUFycmF5LnBvcCgpO1xyXG4gICAgICAgICAgICB2aWRhU3ByaXRlLmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHZpZGFBcnJheS5sZW5ndGggPCB2aWRhc1Jlc3RhbnRlcykge1xyXG4gICAgICAgICAgICBpZiAocGxheWVySWQgPT09ICdwbGF5ZXIxJykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbnVldmFWaWRhID0gdGhpcy5hZGQuaW1hZ2UoOTAgKyB2aWRhQXJyYXkubGVuZ3RoICogMzAsIDM1LCAnVmlkYScpLnNldFNjYWxlKDAuMDUpO1xyXG4gICAgICAgICAgICAgICAgdmlkYUFycmF5LnB1c2gobnVldmFWaWRhKTtcclxuICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgaWYgKHBsYXllcklkID09PSAncGxheWVyMicpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG51ZXZhVmlkYSA9IHRoaXMuYWRkLmltYWdlKDcxMCAtIHZpZGFBcnJheS5sZW5ndGggKiAzMCwgMzUsICdWaWRhJykuc2V0U2NhbGUoMC4wNSk7XHJcbiAgICAgICAgICAgICAgICB2aWRhQXJyYXkucHVzaChudWV2YVZpZGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh2aWRhc1Jlc3RhbnRlcyA8PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNHYW1lT3ZlciA9IHRydWU7IFxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdHYW1lT3ZlclNjZW5lJyx7XHJcbiAgICAgICAgICAgICAgICBnYW5hZG9yOiBwbGF5ZXJJZD09PSdwbGF5ZXIxJyA/ICdwbGF5ZXIyJyA6ICdwbGF5ZXIxJyxcclxuICAgICAgICAgICAgICAgIGNvbG9yOiB0aGlzLnBsYXllcnMuZ2V0KHBsYXllcklkPT09J3BsYXllcjEnID8gJ3BsYXllcjInIDogJ3BsYXllcjEnKS5jb2xvclxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXBQbGF5ZXJzKCkge1xyXG4gICAgICAgIGNvbnN0IHRhbmsxID0gbmV3IFRhbmsodGhpcywgJ3BsYXllcjEnLCA5MCwgMzAwLHRoaXMuY29sb3JQbGF5ZXIxKTtcclxuICAgICAgICBjb25zdCB0YW5rMiA9IG5ldyBUYW5rKHRoaXMsICdwbGF5ZXIyJywgNzEwLCAzMDAsdGhpcy5jb2xvclBsYXllcjIpOyBcclxuXHJcbiAgICAgICAgdGFuazEuU2V0VGFyZ2V0KHRhbmsyKTtcclxuICAgICAgICB0YW5rMi5TZXRUYXJnZXQodGFuazEpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjEnLCB0YW5rMSk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMicsIHRhbmsyKTtcclxuXHJcbiAgICAgICAgY29uc3QgSW5wdXRDb25maWcgPSBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiAncGxheWVyMScsXHJcbiAgICAgICAgICAgICAgICB1cEtleSA6ICdXJyxcclxuICAgICAgICAgICAgICAgIGRvd25LZXkgOiAnUycsXHJcbiAgICAgICAgICAgICAgICByaWdodEtleSA6ICdEJyxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXkgOiAnQSdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6ICdwbGF5ZXIyJyxcclxuICAgICAgICAgICAgICAgIHVwS2V5IDogJ1VQJyxcclxuICAgICAgICAgICAgICAgIGRvd25LZXkgOiAnRE9XTicsXHJcbiAgICAgICAgICAgICAgICByaWdodEtleSA6ICdSSUdIVCcsXHJcbiAgICAgICAgICAgICAgICBsZWZ0S2V5IDogJ0xFRlQnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdXHJcbiAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzID0gSW5wdXRDb25maWcubWFwKGNvbmZpZyA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZCA6IGNvbmZpZy5wbGF5ZXJJZCxcclxuICAgICAgICAgICAgICAgIHVwS2V5T2JqIDogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy51cEtleV0pLFxyXG4gICAgICAgICAgICAgICAgZG93bktleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5kb3duS2V5XSksXHJcbiAgICAgICAgICAgICAgICByaWdodEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5yaWdodEtleV0pLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5sZWZ0S2V5XSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNjb3JlTGVmdEdvYWwoKSB7XHJcbiAgICAgICAgY29uc3QgcGxheWVyMSA9IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKTtcclxuICAgICAgICBwbGF5ZXIxLnNjb3JlIC09IDE7XHJcbiAgICAgICAgLy90aGlzLnNjb3JlTGVmdC5zZXRUZXh0KHBsYXllcjEuc2NvcmUudG9TdHJpbmcoKSk7XHJcblxyXG4gICAgICAgIGlmIChwbGF5ZXIxLnNjb3JlID49IDIpIHtcclxuICAgICAgICAgICAgdGhpcy5lbmRHYW1lKCdwbGF5ZXIxJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5yZXNldEJhbGwoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2NvcmVSaWdodEdvYWwoKSB7XHJcbiAgICAgICAgY29uc3QgcGxheWVyMiA9IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKTtcclxuICAgICAgICBwbGF5ZXIyLnNjb3JlICs9IDE7XHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzAwICsgMzAgKiAocGxheWVyMi5zY29yZSAtIDEpLCAxMDAsICdWaWRhJykuc2V0U2NhbGUoMC41KTtcclxuICAgICAgICAvL3RoaXMucmlnaHRTY29yZS5zZXRUZXh0KHBsYXllcjIuc2NvcmUudG9TdHJpbmcoKSk7XHJcblxyXG4gICAgICAgIGlmIChwbGF5ZXIyLnNjb3JlID49IDIpIHtcclxuICAgICAgICAgICAgdGhpcy5lbmRHYW1lKCdwbGF5ZXIyJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5yZXNldEJhbGwoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZW5kR2FtZSh3aW5uZXJJZCkge1xyXG4gICAgICAgIHRoaXMuYmFsbC5zZXRWZWxvY2l0eSgwLCAwKTtcclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaCh0YW5rID0+IHtcclxuICAgICAgICAgICAgdGFuay5zcHJpdGUuc2V0VmVsb2NpdHkoMCwgMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLnBhdXNlKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHdpbm5lclRleHQgPSB3aW5uZXJJZCA9PT0gJ3BsYXllcjEnID8gJ1BsYXllciAxIFdpbnMhJyA6ICdQbGF5ZXIgMiBXaW5zISc7XHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDI1MCwgd2lubmVyVGV4dCwge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzY0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMGZmMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG1lbnVCdG4gPSB0aGlzLmFkZC50ZXh0KDQwMCwgMzUwLCAnUmV0dXJuIHRvIE1haW4gTWVudScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbWVudUJ0bi5zZXRDb2xvcignI2NjY2NjYycpKVxyXG4gICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IG1lbnVCdG4uc2V0Q29sb3IoJyNmZmZmZmYnKSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXNldEJhbGwoKSB7XHJcbiAgICAgICAgdGhpcy5iYWxsLnNldFZlbG9jaXR5KDAsIDApO1xyXG4gICAgICAgIHRoaXMuYmFsbC5zZXRQb3NpdGlvbig0MDAsIDMwMCk7XHJcbiAgICBcclxuICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMTAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmxhdW5jaEJhbGwoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBsYXVuY2hCYWxsKCkge1xyXG4gICAgICAgIGNvbnN0IGFuZ2xlID0gUGhhc2VyLk1hdGguQmV0d2VlbigtMzAsIDMwKTtcclxuICAgICAgICBjb25zdCBzcGVlZCA9IDMwMDtcclxuICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSBNYXRoLnJhbmRvbSgpIDwgMC41ID8gMSA6IC0xO1xyXG5cclxuICAgICAgICB0aGlzLmJhbGwuc2V0VmVsb2NpdHkoXHJcbiAgICAgICAgICAgIE1hdGguY29zKFBoYXNlci5NYXRoLkRlZ1RvUmFkKGFuZ2xlKSkgKiBzcGVlZCAqIGRpcmVjdGlvbixcclxuICAgICAgICAgICAgTWF0aC5zaW4oUGhhc2VyLk1hdGguRGVnVG9SYWQoYW5nbGUpKSAqIHNwZWVkXHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUJhbGwoKSB7XHJcbiAgICAgICAgY29uc3QgZ3JhcGhpY3MgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xyXG4gICAgICAgIGdyYXBoaWNzLmZpbGxTdHlsZSgweGZmZmZmZik7XHJcbiAgICAgICAgZ3JhcGhpY3MuZmlsbENpcmNsZSg4LCA4LCA4KTtcclxuICAgICAgICBncmFwaGljcy5nZW5lcmF0ZVRleHR1cmUoJ2JhbGwnLCAxNiwgMTYpO1xyXG4gICAgICAgIGdyYXBoaWNzLmRlc3Ryb3koKTtcclxuXHJcbiAgICAgICAgdGhpcy5iYWxsID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoNDAwLCAzMDAsICdiYWxsJyk7XHJcbiAgICAgICAgdGhpcy5iYWxsLnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTtcclxuICAgICAgICB0aGlzLmJhbGwuc2V0Qm91bmNlKDEpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUJvdW5kcygpIHtcclxuXHJcbiAgICAgICAgLy9NdXJvcyBhcnJpYmEgeSBhYmFqb1xyXG4gICAgICAgIHRoaXMudG9wID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoNDAwLCA4MywgJ0JvdHRvbVRvcFdhbGwnKTtcclxuICAgICAgICB0aGlzLnRvcC5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy50b3AuYm9keS5zZXRTaXplKDc2NSw0NSk7XHJcblxyXG4gICAgICAgIHRoaXMuYm90dG9tID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoNDAwLCA1NzcsICdCb3R0b21Ub3BXYWxsJyk7XHJcbiAgICAgICAgdGhpcy5ib3R0b20uc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuYm90dG9tLmJvZHkuc2V0U2l6ZSg3NjUsNDUpO1xyXG5cclxuICAgICAgICAvL011cm9zIGl6cXVpZXJkYSB5IGRlcmVjaGFcclxuICAgICAgICB0aGlzLmxlZnQgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSg0MCwgMzMwLCAnTGVmdFJpZ2h0V2FsbCcpO1xyXG4gICAgICAgIHRoaXMubGVmdC5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5sZWZ0LmJvZHkuc2V0U2l6ZSg0NSw0NTApO1xyXG4gICAgICAgIFxyXG5cclxuICAgICAgICB0aGlzLnJpZ2h0ID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoNzYwLCAzMzAsICdMZWZ0UmlnaHRXYWxsJyk7XHJcbiAgICAgICAgdGhpcy5yaWdodC5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5yaWdodC5ib2R5LnNldFNpemUoNDUsNDUwKTtcclxuXHJcbiAgICAgICAgLy9ibG9xdWVzIGRlIDZcclxuICAgICAgICB0aGlzLmJsb2NrMT10aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSg0MDAsMTk4LFwiTXVyb0Jsb3F1ZTZcIik7XHJcbiAgICAgICAgdGhpcy5ibG9jazEuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLmJsb2NrMj10aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSg0MDAsNDYyLFwiTXVyb0Jsb3F1ZTZcIik7XHJcbiAgICAgICAgdGhpcy5ibG9jazIuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLmNlbnRybzE9dGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoNDAwLDQ2Mi0xMTAsXCJCbG9xdWVcIik7XHJcbiAgICAgICAgdGhpcy5jZW50cm8xLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmNlbnRybzI9dGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoNDAwLTQ1LDQ2Mi0xNTUsXCJCbG9xdWVcIik7XHJcbiAgICAgICAgdGhpcy5jZW50cm8yLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmNlbnRybzM9dGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoNDAwKzQ1LDQ2Mi0xNTUsXCJCbG9xdWVcIik7XHJcbiAgICAgICAgdGhpcy5jZW50cm8zLnNldEltbW92YWJsZSh0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5wYWxvMT10aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSg2NDgsNDM5LFwiUGFsb1wiKTtcclxuICAgICAgICB0aGlzLnBhbG8xLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBhbG8yPXRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDE1MiwyMTgsXCJQYWxvXCIpO1xyXG4gICAgICAgIHRoaXMucGFsbzIuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUNvbGxpc2lvbnMoKXtcclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaCh0YW5rID0+IHtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLmxlZnQsIHRhbmsuc3ByaXRlKTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnJpZ2h0LCB0YW5rLnNwcml0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy50b3AsIHRhbmsuc3ByaXRlKTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLmJvdHRvbSwgdGFuay5zcHJpdGUpO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuYmxvY2sxLCB0YW5rLnNwcml0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5ibG9jazIsIHRhbmsuc3ByaXRlKTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLmNlbnRybzEsIHRhbmsuc3ByaXRlKTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLmNlbnRybzIsIHRhbmsuc3ByaXRlKTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLmNlbnRybzMsIHRhbmsuc3ByaXRlKTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnBhbG8xLCB0YW5rLnNwcml0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5wYWxvMiwgdGFuay5zcHJpdGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFBhdXNlU3RhdGUoaXNQYXVzZWQpIHtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gaXNQYXVzZWQ7XHJcbiAgICAgICAgaWYgKGlzUGF1c2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdQYXVzZVNjZW5lJywgeyBvcmlnaW5hbFNjZW5lOiAnR2FtZVNjZW5lJyB9KTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgIH0gXHJcbiAgICB9XHJcblxyXG4gICAgcmVzdW1lKCkge1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVQYXVzZSgpIHtcclxuICAgICAgICBjb25zdCBuZXdQYXVzZVN0YXRlID0gIXRoaXMuaXNQYXVzZWQ7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IucHJvY2VzcyhcclxuICAgICAgICAgICAgbmV3IFBhdXNlR2FtZUNvbW1hbmQodGhpcywgbmV3UGF1c2VTdGF0ZSlcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0dhbWVPdmVyKSByZXR1cm47XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMuZXNjS2V5LmlzRG93biAmJiAhdGhpcy5lc2NXYXNEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlUGF1c2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncy5mb3JFYWNoKG1hcHBpbmcgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB0YW5rID0gdGhpcy5wbGF5ZXJzLmdldChtYXBwaW5nLnBsYXllcklkKTtcclxuICAgICAgICAgICAgbGV0IGRpcmVjdGlvbiA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmIChtYXBwaW5nLnVwS2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ3VwJztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChtYXBwaW5nLmRvd25LZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAnZG93bic7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWFwcGluZy5sZWZ0S2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ2xlZnQnO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1hcHBpbmcucmlnaHRLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAncmlnaHQnO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ3N0b3AnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBtb3ZlQ29tbWFuZCA9IG5ldyBNb3ZlVGFua0NvbW1hbmQodGFuaywgZGlyZWN0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzb3IucHJvY2Vzcyhtb3ZlQ29tbWFuZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgb25TaHV0ZG93bigpIHtcclxuXHJcbiAgICAgICAgLy8gUXVpdGFyIGxpc3RlbmVyIGRlbCBzZXJ2aWRvclxyXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcikge1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yZW1vdmVLZXlzO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhdXNlU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdQYXVzZVNjZW5lJyk7XHJcbiAgICB9XHJcbiAgIFxyXG5wcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRm9uZG8nLCAnaW1hZ2VuZXMvRm9uZG8uanBnJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCVE5QYXVzZScsICdpbWFnZW5lcy9QYXVzYUNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQlROTWVudScsICdpbWFnZW5lcy9NZW51Q1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCVE5Db250aW51ZScsICdpbWFnZW5lcy9Db250aW51YXJDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3NmeCcsICdhdWRpby9tZW51c2Z4Lm1wMycpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuYnJpbmdUb1RvcCgnUGF1c2VTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZShkYXRhKSB7XHJcbiAgICAgICAgLy9mb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQwMCwgMzAwLCAnRm9uZG8nKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDAwLDEwMCwnQlROUGF1c2UnKS5zZXRPcmlnaW4oMC41KS5zZXRTY2FsZSgwLjcpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHJlc3VtZUJ0biA9IHRoaXMuYWRkLmltYWdlKDQwMCwyNzAsJ0JUTkNvbnRpbnVlJykuc2V0T3JpZ2luKDAuNSkuc2V0U2NhbGUoMC4yKVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7dXNlSGFuZEN1cnNvcjogdHJ1ZX0pXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHJlc3VtZUJ0bi5zZXRTY2FsZSgwLjI0KSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiByZXN1bWVCdG4uc2V0U2NhbGUoMC4yKSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3NmeCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZShkYXRhLm9yaWdpbmFsU2NlbmUpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmdldChkYXRhLm9yaWdpbmFsU2NlbmUpLnJlc3VtZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgXHJcbiAgICAgICAgY29uc3QgbWVudUJ0biA9IHRoaXMuYWRkLmltYWdlKDQwMCwgNTI1LCAnQlROTWVudScpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC4zKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBtZW51QnRuLnNldFNjYWxlKDAuMzUpKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBtZW51QnRuLnNldFNjYWxlKDAuMykpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3NmeCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoJ0dhbWVTY2VuZScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vU2xpZGVyIGRlIHZvbHVtZW5cclxuICAgICAgICBjb25zdCB4ID0gNDAwLCB5ID0gMzcwO1xyXG4gICAgICAgIGNvbnN0IG1pblggPSB4IC0gMTAwLCBtYXhYID0geCArIDEwMDtcclxuICAgICAgICBjb25zdCBjdXJyZW50Vm9sdW1lID0gUGhhc2VyLk1hdGguQ2xhbXAodGhpcy5zb3VuZC52b2x1bWUgPz8gMSwgMCwgMSk7XHJcbiAgICAgICAgY29uc3QgaGFuZGxlWCA9IG1pblggKyAobWF4WCAtIG1pblgpICogY3VycmVudFZvbHVtZTtcclxuICAgICAgICB0aGlzLmFkZC5yZWN0YW5nbGUoeCwgeSwgMjAwLCAxMCwgMHg4ODg4ODgpO1xyXG4gICAgICAgIGNvbnN0IHNsaWRlckhhbmRsZSA9IHRoaXMuYWRkLmNpcmNsZShoYW5kbGVYLCB5LCAxMiwgMHhmZmZmZmYpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IGRyYWdnYWJsZTogdHJ1ZSB9KTtcclxuICAgICAgICB0aGlzLmlucHV0LnNldERyYWdnYWJsZShzbGlkZXJIYW5kbGUpO1xyXG4gICAgICAgIHRoaXMuaW5wdXQub24oJ2RyYWcnLCAocG9pbnRlciwgZ2FtZU9iamVjdCwgZHJhZ1gpID0+IHtcclxuICAgICAgICAgICAgaWYgKGdhbWVPYmplY3QgIT09IHNsaWRlckhhbmRsZSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBnYW1lT2JqZWN0LnggPSBQaGFzZXIuTWF0aC5DbGFtcChkcmFnWCwgbWluWCwgbWF4WCk7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQubXV0ZSA9IGZhbHNlOyAvLyBEZXNtdXRlYXIgYWwgbW92ZXIgZWwgc2xpZGVyXHJcbiAgICAgICAgICAgIHRoaXMuc291bmQudm9sdW1lID0gKGdhbWVPYmplY3QueCAtIG1pblgpIC8gKG1heFggLSBtaW5YKTtcclxuICAgICAgICB9KTsgICAgICAgICBcclxuICAgICAgICBcclxuICAgICAgICAvLyBCb3TDs24gTXV0ZVxyXG4gICAgICAgIGNvbnN0IG11dGVCdG4gPSB0aGlzLmFkZC50ZXh0KHgsIHkgKyA0MCwgJ011dGUnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMzMzMzMzMnLFxyXG4gICAgICAgICAgICBwYWRkaW5nOiB7IGxlZnQ6IDIwLCByaWdodDogMjAsIHRvcDogMTAsIGJvdHRvbTogMTAgfVxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBtdXRlQnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5tdXRlID0gIXRoaXMuc291bmQubXV0ZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIENyZWRpdFNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdDcmVkaXRTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7Ly9jYXJnYSBkZSBhcmNoaXZvc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRm9uZG8nLCAnaW1hZ2VuZXMvRm9uZG8uanBnJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCVE5DcmVkaXQnLCAnaW1hZ2VuZXMvQ3JlZGl0b3NDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0F1dG9yZXMnLCdpbWFnZW5lcy9BdXRvcmVzQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzZngnLCAnYXVkaW8vbWVudXNmeC5tcDMnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcblxyXG4gICAgICAgIC8vZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDMxMCwgJ0ZvbmRvJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgY3JlZGl0QnRuID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCA5MCwgXCJCVE5DcmVkaXRcIilcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgICAgICAgICAgY3JlZGl0QnRuLnNldFNjYWxlKDEuNSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDE4MCwgJ0NyZWFkbyBwb3I6Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQwMCwzMDAsJ0F1dG9yZXMnKS5zZXRTY2FsZSgwLjMpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgNDQ1LCAnTcO6c2ljYSBkZSBUaW55IFRhbmtzJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzM2cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgbWVudUJ0biA9IHRoaXMuYWRkLmltYWdlKDQwMCwgNTI1LCAnQlROTWVudScpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC4zKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBtZW51QnRuLnNldFNjYWxlKDAuMzUpKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBtZW51QnRuLnNldFNjYWxlKDAuMykpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3NmeCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgY29ubmVjdGlvbk1hbmFnZXIgfSBmcm9tICcuLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlcic7IFxyXG5pbXBvcnQgeyBjcmVhdGVVc2VyQ29udHJvbGxlciB9IGZyb20gJy4uLy4uL3NlcnZlci9jb250cm9sbGVycy91c2VyQ29udHJvbGxlcic7XHJcbmltcG9ydCB7IGNyZWF0ZVVzZXJTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmVyL3NlcnZpY2VzL3VzZXJTZXJ2aWNlJztcclxuLy9pbXBvcnQgeyB1c2VyQ29udHJvbGxlciB9IGZyb20gJy4uLy4uL3NlcnZlci9jb250cm9sbGVycy91c2VyQ29udHJvbGxlci5qcyc7XHJcbmV4cG9ydCBjbGFzcyBPbmxpbmVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignT25saW5lU2NlbmUnKTtcclxuICAgICBcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmFzZVJlZCcsICdpbWFnZW5lcy9UYW5xdWVSb2pvQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdUb3JyZXRhUmVkJywgJ2ltYWdlbmVzL0Nhbm9uUm9qb0NXLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0Jhc2VHcmVlbicsICdpbWFnZW5lcy9UYW5xdWVWZXJkZUNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnVG9ycmV0YUdyZWVuJywgJ2ltYWdlbmVzL0Nhbm9uVmVyZGVDVy5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCYXNlQmx1ZScsICdpbWFnZW5lcy9UYW5xdWVBenVsQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdUb3JyZXRhQmx1ZScsICdpbWFnZW5lcy9DYW5vbkF6dWxDVy5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCYXNlWWVsbG93JywgJ2ltYWdlbmVzL1RhbnF1ZUFtYXJpbGxvQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdUb3JyZXRhWWVsbG93JywgJ2ltYWdlbmVzL0Nhbm9uQW1hcmlsbG9DVy5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQbGF5JywgJ2ltYWdlbmVzL1BMQVlDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0JUTk1lbnUnLCAnaW1hZ2VuZXMvTWVudUNXLnBuZycpO1xyXG4gXHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQnViYmxlJywgJ2ltYWdlbmVzL0J1cmJ1amFDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0VsaWdlJywgJ2ltYWdlbmVzL0VsaWdlQ29sb3JDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3NmeCcsICdhdWRpby9tZW51c2Z4Lm1wMycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0VzY3VkbycsICdpbWFnZW5lcy9Fc2N1ZG9DVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ05vRnVlZ29BbWlnbycsICdpbWFnZW5lcy9Ob0Z1ZWdvQW1pZ29DVy5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgTWF0dGVyID0gdGhpcy5tYXR0ZXI7Ly9ubyBzZSBwb3JxdWUgcGVybyBoYXkgcXVlIHBvbmVyIGVzdG9cclxuICAgICAgICAvLyBGb25kb1xyXG4gICAgICAgIGNvbnN0IHVzZXJTZXJ2aWNlID0gY3JlYXRlVXNlclNlcnZpY2UoKTtcclxuICAgICAgICBjb25zdCB1c2VyQ29udHJvbGxlciA9IGNyZWF0ZVVzZXJDb250cm9sbGVyKHVzZXJTZXJ2aWNlKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDAwLCAzMTAsICdGb25kbycpO1xyXG4gICAgICAgIGNvbnN0IG9ubGluZUJ0biA9IHRoaXMuYWRkLmltYWdlKDQwMCwgOTAsIFwiQlROT25saW5lXCIpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC4zMyk7XHJcbiAgICAgICAgLypcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgMzEwLCAnTGEgZnVuY2lvbmFsaWRhZCBvbmxpbmUgbm8gZXN0w6EgZGlzcG9uaWJsZSBlbiBlc3RhIHZlcnNpw7NuJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzIycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgKi9cclxuICAgICAgICBjb25zdCBtZW51QnRuID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCA1MjUsICdCVE5NZW51JylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjMpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IG1lbnVCdG4uc2V0U2NhbGUoMC4zNSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IG1lbnVCdG4uc2V0U2NhbGUoMC4zKSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnc2Z4JywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gLS0tLS0tLS0tIExPR0lOIC0tLS0tLS0tLVxyXG4gICAgICAgIHRoaXMuY29sb3JQbGF5ZXIxID0gbnVsbDtcclxuICAgICAgICB0aGlzLnBsYXkgPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDQwMCwgJ1BsYXknKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuMykuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXkuc2V0U2NhbGUoMC4zNSk7ICAgICAgIC8vIGF1bWVudGEgdGFtYcOxbyB1biAxMCVcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5LnNldFNjYWxlKDAuMyk7ICAgICAgICAgLy8gdnVlbHZlIGFsIHRhbWHDsW8gb3JpZ2luYWxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHsgXHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUxvZ2luKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIENyZWFyIGlucHV0IEhUTUwgeSBndWFyZGFybG8gZW4gdGhpcy5pbnB1dE5hbWVcclxuICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLmdhbWUuY2FudmFzO1xyXG4gICAgICAgIGNvbnN0IHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXROYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgICAgICB0aGlzLmlucHV0TmFtZS50eXBlID0gJ3RleHQnO1xyXG4gICAgICAgIHRoaXMuaW5wdXROYW1lLnBsYWNlaG9sZGVyID0gJ1R1IGFwb2RvLi4uJztcclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dE5hbWUuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgICAgIHRoaXMuaW5wdXROYW1lLnN0eWxlLnRvcCA9IChyZWN0LnRvcCArIDMwMCkgKyAncHgnO1xyXG4gICAgICAgIHRoaXMuaW5wdXROYW1lLnN0eWxlLmxlZnQgPSAocmVjdC5sZWZ0ICsgMjcwKSArICdweCc7XHJcbiAgICAgICAgdGhpcy5pbnB1dE5hbWUuc3R5bGUuZm9udFNpemUgPSAnMjBweCc7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5pbnB1dE5hbWUpO1xyXG5cclxuXHJcbiAgICAgICAgLy8gLS0tLS0tLS0tIEVzdGFkbyBkZWwgc2Vydmlkb3IgLS0tLS0tLS0tXHJcblxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQyID0gdGhpcy5hZGQudGV4dCg0MjUsIDQ3MCwgJ1NlcnZpZG9yOiBDb21wcm9iYW5kby4uLicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjOGQ4ZDNiZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVDb25uZWN0aW9uRGlzcGxheShkYXRhKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5hZGRMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcblxyXG4gICAgICAgIC8vIFJlZ2lzdHJhciBldmVudG9zIGRlIGFwYWdhZG8gZGUgZXNjZW5hXHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ3NodXRkb3duJywgdGhpcy5vblNodXRkb3duLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmV2ZW50cy5vbignZGVzdHJveScsIHRoaXMub25TaHV0ZG93biwgdGhpcyk7XHJcblxyXG4gICAgICAgIC8vLS0tLS0tLXRhbnF1ZXMgcGFyYSBzZWxlY2Npw7NuIGRlIGF2YXRhci0tLS0tLS1cclxuICAgICAgICB0aGlzLnAxT3B0aW9ucyA9IFtdO1xyXG5cclxuICAgICAgICBjb25zdCBjcmVhdGVUYW5rT3B0aW9uID0gKHgsIHksIGNvbG9yS2V5LCBvbkNsaWNrKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIFJlY3TDoW5ndWxvIGRlIHNlbGVjY2nDs24gKGludmlzaWJsZSBhbCBpbmljaW8pXHJcbiAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgY29uc3QgYmFzZSA9IHRoaXMuYWRkLmltYWdlKDAsIDAsIGBCYXNlJHtjb2xvcktleX1gKS5zZXRTY2FsZSgxLjIpLnNldERlcHRoKDEwKTtcclxuICAgICAgICAgICAgY29uc3QgdHVycmV0ID0gdGhpcy5hZGQuaW1hZ2UoMCwgMCwgYFRvcnJldGEke2NvbG9yS2V5fWApLnNldFNjYWxlKDEuMikuc2V0T3JpZ2luKDAuMiwwLjUpLnNldERlcHRoKDE1KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGhpZ2hsaWdodCA9IHRoaXMuYWRkLmltYWdlKDAsIDAsIFwiQnViYmxlXCIpLnNldFNjYWxlKDEuNikuc2V0RGVwdGgoNDApO1xyXG4gICAgICAgICAgICBoaWdobGlnaHQuc2V0VmlzaWJsZShmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmFkZC5jb250YWluZXIoeCwgeSwgW2Jhc2UsIHR1cnJldCxoaWdobGlnaHRdKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnNldFNpemUoYmFzZS53aWR0aCAqIDEuMiwgYmFzZS5oZWlnaHQgKiAxLjIpO1xyXG4gICAgICAgICAgICBjb250YWluZXIuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICAgICAgY29udGFpbmVyLnNldERhdGEoJ2NvbG9yS2V5JywgY29sb3JLZXkpO1xyXG4gICAgICAgICAgICBjb250YWluZXIuc2V0RGF0YSgnc2VsZWN0ZWQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zZXREYXRhKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnNldERhdGEoJ2hpZ2hsaWdodCcsIGhpZ2hsaWdodCk7XHJcblxyXG5cclxuICAgICAgICAgICAgY29udGFpbmVyLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vbG9jYWxCdG4uc2V0VGludCgweDAwZmY4OCk7ICAgLy8gYXBsaWNhIGNvbG9yXHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIuc2V0U2NhbGUoMS4zKTsgICAgICAgLy8gYXVtZW50YSB0YW1hw7FvIHVuIDEwJVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBjb250YWluZXIub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL2xvY2FsQnRuLnNldFRpbnQoMHgwMGZmMDApOyAgIC8vIHZ1ZWx2ZSBhbCBjb2xvciBvcmlnaW5hbFxyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnNldFNjYWxlKDEuMCk7ICAgICAgICAgLy8gdnVlbHZlIGFsIHRhbWHDsW8gb3JpZ2luYWxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIENsaWNrIHBhcmEgc2VsZWNjaW9uYXJcclxuICAgICAgICAgICAgY29udGFpbmVyLm9uKCdwb2ludGVydXAnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyLmdldERhdGEoJ2Rpc2FibGVkJykpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIG9uQ2xpY2soY29sb3JLZXksIGNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gY29udGFpbmVyO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbG9ycyA9IFsnUmVkJywgJ0JsdWUnLCAnR3JlZW4nLCAnWWVsbG93J107XHJcbiAgICAgICAgY29uc3QgcDFYID0gMjQwO1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0WSA9IDI0MDtcclxuICAgICAgICBjb25zdCBnYXBZID0gMTAwO1xyXG4gICAgICAgIGNvbG9ycy5mb3JFYWNoKChjb2xvciwgaSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvcHQgPSBjcmVhdGVUYW5rT3B0aW9uKHAxWCsgaSAqIGdhcFksIHN0YXJ0WSAsIGNvbG9yLCAoa2V5LCBvcHRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3JQbGF5ZXIxID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXJrU2VsZWN0ZWQodGhpcy5wMU9wdGlvbnMsIG9wdGlvbik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnAxT3B0aW9ucy5wdXNoKG9wdCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgaGFuZGxlTG9naW4oKSB7XHJcbiAgICAgICAgY29uc3Qgbm9tYnJlID0gdGhpcy5pbnB1dE5hbWUudmFsdWUudHJpbSgpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiTm9tYnJlIGluZ3Jlc2FkbzpcIiwgbm9tYnJlKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkF2YXRhciBzZWxlY2Npb25hZG86XCIsIHRoaXMuY29sb3JQbGF5ZXIxKTtcclxuXHJcbiAgICAgICAgaWYgKG5vbWJyZS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdzZngnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBvciBmYXZvciwgaW5ncmVzYSB1biBub21icmUgdsOhbGlkby5cIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCB1c2VyID0gYXdhaXQgdGhpcy5nZXRQbGF5ZXJCeU5hbWUobm9tYnJlKTtcclxuXHJcbiAgICAgICAgLy8gU2kgZGV2dWVsdmUgW10g4oaSIG5vIGV4aXN0ZVxyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHVzZXIpICYmIHVzZXIubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHVzZXIgPSBudWxsO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh1c2VyKSkge1xyXG4gICAgICAgICAgICB1c2VyID0gdXNlclswXTsgLy8gdG9tYXIgZWwgdXN1YXJpbyByZWFsXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgaWYgKHVzZXIpIHtcclxuICAgICAgICAgICAgLy8gVXN1YXJpbyBleGlzdGVudGVcclxuICAgICAgICAgICAgaWYgKHRoaXMuY29sb3JQbGF5ZXIxICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkFjdHVhbGl6YW5kbyBhdmF0YXIgZGVsIHVzdWFyaW8gZXhpc3RlbnRlLlwiKTtcclxuICAgICAgICAgICAgICAgIHVzZXIgPSBhd2FpdCB0aGlzLnVwZGF0ZVBsYXllcih1c2VyLmlkLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXZhdGFyOiB0aGlzLmNvbG9yUGxheWVyMVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlVzYW5kbyBhdmF0YXIgZXhpc3RlbnRlIGRlbCB1c3VhcmlvLlwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3JQbGF5ZXIxID0gdXNlci5hdmF0YXI7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gVXN1YXJpbyBudWV2b1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb2xvclBsYXllcjEgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUG9yIGZhdm9yLCBzZWxlY2Npb25hIHVuIGF2YXRhci5cIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ3JlYW5kbyB1c3VhcmlvIG51ZXZvLi4uXCIpO1xyXG4gICAgICAgICAgICB1c2VyID0gYXdhaXQgdGhpcy5jcmVhdGVQbGF5ZXIoe1xyXG4gICAgICAgICAgICAgICAgbmFtZTogbm9tYnJlLFxyXG4gICAgICAgICAgICAgICAgYXZhdGFyOiB0aGlzLmNvbG9yUGxheWVyMSxcclxuICAgICAgICAgICAgICAgIHdpbnM6IDBcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlVzdWFyaW8gY3JlYWRvOlwiLCB1c2VyKTtcclxuXHJcbiAgICAgICAgICAgIC8vIOKdlyBJTVBPUlRBTlRFOiBOTyBhY3R1YWxpemFyIGFxdcOtXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3NmeCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTG9iYnlTY2VuZScsIHsgXHJcbiAgICAgICAgICAgIHBsYXllck5hbWU6IHVzZXIubmFtZSwgXHJcbiAgICAgICAgICAgIGF2YXRhcjogdXNlci5hdmF0YXIgXHJcbiAgICAgICAgfSk7XHJcbn1cclxuXHJcblxyXG4gICAgdXBkYXRlQ29ubmVjdGlvbkRpc3BsYXkoZGF0YSkge1xyXG4gICAgICAgIGlmICghdGhpcy5jb25uZWN0aW9uVGV4dDIgfHwgIXRoaXMuc2NlbmUgfHwgIXRoaXMuc2NlbmUuaXNBY3RpdmUoJ09ubGluZVNjZW5lJykpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuY29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0Mi5zZXRUZXh0KGBTZXJ2aWRvcjogJHtkYXRhLmNvdW50fSB1c3VhcmlvKHMpIGNvbmVjdGFkbyhzKWApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dDIuc2V0Q29sb3IoJyM1ZTkyNWVmZicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dDIuc2V0VGV4dCgnU2Vydmlkb3I6IERlc2NvbmVjdGFkbycpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dDIuc2V0Q29sb3IoJyNhMTY2NjZmZicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignW09ubGluZVNjZW5lXSBFcnJvciB1cGRhdGluZyBjb25uZWN0aW9uIGRpc3BsYXk6JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBNYXJjYSBzZWxlY2Npb25hZG9cclxuICAgIG1hcmtTZWxlY3RlZChvcHRpb25BcnJheSwgc2VsZWN0ZWRPcHRpb24pIHtcclxuICAgICAgICBvcHRpb25BcnJheS5mb3JFYWNoKG8gPT4ge1xyXG4gICAgICAgICAgICBvLnNldERhdGEoJ3NlbGVjdGVkJywgZmFsc2UpO1xyXG4gICAgICAgICAgICBvLmdldERhdGEoJ2hpZ2hsaWdodCcpLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNlbGVjdGVkT3B0aW9uLnNldERhdGEoJ3NlbGVjdGVkJywgdHJ1ZSk7XHJcbiAgICAgICAgc2VsZWN0ZWRPcHRpb24uZ2V0RGF0YSgnaGlnaGxpZ2h0Jykuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgc2V0T3B0aW9uRGlzYWJsZWQob3B0aW9uLCBkaXNhYmxlZCkge1xyXG4gICAgICAgIG9wdGlvbi5zZXREYXRhKCdkaXNhYmxlZCcsIGRpc2FibGVkKTtcclxuXHJcbiAgICAgICAgaWYgKGRpc2FibGVkKSB7XHJcbiAgICAgICAgICAgIG9wdGlvbi5kaXNhYmxlSW50ZXJhY3RpdmUoKTtcclxuICAgICAgICAgICAgb3B0aW9uLnNldEFscGhhKDAuMyk7XHJcbiAgICAgICAgICAgIG9wdGlvbi5zZXREYXRhKCdzZWxlY3RlZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgb3B0aW9uLmdldERhdGEoJ2hpZ2hsaWdodCcpLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG9wdGlvbi5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICAgICAgICAgIG9wdGlvbi5zZXRBbHBoYSgxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLWFwaS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgIGFzeW5jIGdldFBsYXllckJ5TmFtZShub21icmUpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3VzZXJzP25hbWU9JHtub21icmV9YCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0hUVFAgZXJyb3IgJyArIHJlc3BvbnNlLnN0YXR1cyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpICYmIGRhdGEubGVuZ3RoID4gMCkgeyBcclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmZpbmQodSA9PiB1Lm5hbWUgPT09IG5vbWJyZSkgfHwgbnVsbDsgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yOicsIGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGNyZWF0ZVBsYXllcihkYXRhKSB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2VycycsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyB1cGRhdGVQbGF5ZXIoaWQsIHVwZGF0ZXMpIHtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3VzZXJzLyR7aWR9YCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHVwZGF0ZXMpXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9cclxuICAgIG9uU2h1dGRvd24oKSB7XHJcblxyXG4gICAgICAgIC8vIFF1aXRhciBsaXN0ZW5lciBkZWwgc2Vydmlkb3JcclxuICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBRdWl0YXIgaW5wdXQgSFRNTFxyXG4gICAgICAgIGlmICh0aGlzLmlucHV0TmFtZSkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuaW5wdXROYW1lKTtcclxuICAgICAgICAgICAgdGhpcy5pbnB1dE5hbWUgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFR1dG9yaWFsU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ1R1dG9yaWFsU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkgey8vY2FyZ2EgZGUgYXJjaGl2b3NcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0ZvbmRvJywgJ2ltYWdlbmVzL0ZvbmRvLmpwZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnVHV0b3JpYWwnLCAnaW1hZ2VuZXMvVHV0b3JpYWxDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3NmeCcsICdhdWRpby9tZW51c2Z4Lm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuXHJcbiAgICAgICAgLy9mb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQwMCwgMzEwLCAnRm9uZG8nKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsODAsJ1R1dG9yaWFsJykuc2V0T3JpZ2luKDAuNSkuc2V0U2NhbGUoMC40NSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAxNTAsICdDb250cm9sZXM6Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI1cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAxODAsICdQbGF5ZXIgMTogd2FzZCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNXB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgMjEwLCAnUGxheWVyIDI6IGZsZWNoYXMgZGlyZWNjaW9uYWxlcycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNXB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAyNjAsICdPYmpldGl2bzonLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjVweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDI5MCwgJ1F1aXRhcmxlIGxhcyBjaW5jbyB2aWRhcyBhbCBvcG9uZW50ZScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNXB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgMzQwLCAnTWVjw6FuaWNhczonLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjVweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDM3MCwgJ0Rpc3BhcmFzIGF1dG9tw6F0aWNhbWVudGUgeSBzb2xvIGN1YW5kbyBlc3RhcyBxdWlldG8nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjVweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgNDAwLCAnVHUgY2HDscOzbiBzaWVtcHJlIGFwdW50YSBhbCBvdHJvIGp1Z2Fkb3InLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjVweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgNDMwLCAnTGFzIGJhbGFzIHJlYm90YW4gMyB2ZWNlcycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNXB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgNDYwLCAnVHVzIHByb3BpYXMgYmFsYXMgcHVlZGVuIGRhcnRlJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI1cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG1lbnVCdG4gPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDUyNSwgJ0JUTk1lbnUnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuMylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbWVudUJ0bi5zZXRTY2FsZSgwLjM1KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbWVudUJ0bi5zZXRTY2FsZSgwLjMpKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdzZngnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVPdmVyU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0dhbWVPdmVyU2NlbmUnKTtcclxuICAgIH1cclxuICAgIHByZWxvYWQoKXtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0ZvbmRvJywgJ2ltYWdlbmVzL0ZvbmRvLmpwZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQlROTWVudScsICdpbWFnZW5lcy9NZW51Q1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCVE5HYW5hZG9yJywgJ2ltYWdlbmVzL0dhbmFkb3JDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1AnLCAnaW1hZ2VuZXMvUGN3LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnMScsICdpbWFnZW5lcy8xQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCcyJywgJ2ltYWdlbmVzLzJDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3NmeCcsICdhdWRpby9tZW51c2Z4Lm1wMycpO1xyXG4gICAgfVxyXG4gICAgaW5pdChkYXRhKXtcclxuICAgICAgICB0aGlzLmdhbmFkb3I9ZGF0YT8uZ2FuYWRvcjtcclxuICAgICAgICB0aGlzLmNvbG9yPWRhdGE/LmNvbG9yO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDMwMCwgJ0ZvbmRvJyk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQwMCwgMTAwLCAnQlROR2FuYWRvcicpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDAuNik7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDM1NSwgMjAwLCAnUCcpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDAuNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGdhbmFkb3IgPSB0aGlzLmdhbmFkb3I7XHJcbiAgICAgICAgbGV0IGdhbmFkb3JLZXkgPSBudWxsO1xyXG4gICAgICAgIGlmIChnYW5hZG9yLmluY2x1ZGVzKCcxJykpIGdhbmFkb3JLZXkgPSAnMSc7XHJcbiAgICAgICAgZWxzZSBpZiAoZ2FuYWRvci5pbmNsdWRlcygnMicpKSBnYW5hZG9yS2V5ID0gJzInO1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQ0NSwgMjAwLCBnYW5hZG9yS2V5KS5zZXRPcmlnaW4oMC41KS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQwMCwgMzc1LCBgQmFzZSR7dGhpcy5jb2xvcn1gKS5zZXRPcmlnaW4oMC41LCAwLjUpLnNldFNjYWxlKDMpO1xyXG4gICAgICAgIHRoaXMudG9ycmU9dGhpcy5hZGQuaW1hZ2UoNDAwLCAzNzUsIGBUb3JyZXRhJHt0aGlzLmNvbG9yfWApLnNldE9yaWdpbigwLjE1LCAwLjUpLnNldFNjYWxlKDMpO1xyXG5cclxuICAgICAgICBjb25zdCBtZW51QnRuID0gdGhpcy5hZGQuaW1hZ2UoNDAwLDU0MCwnQlROTWVudScpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDAuNClcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoe3VzZUhhbmRDdXJzb3I6IHRydWV9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBtZW51QnRuLnNldFNjYWxlKDAuNDMpKVxyXG4gICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IG1lbnVCdG4uc2V0U2NhbGUoMC40KSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3NmeCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpe1xyXG4gICAgICAgIHRoaXMudG9ycmUucm90YXRpb24rPU1hdGguUEkvMTgwO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBPcHRpb25zU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ09wdGlvbnNTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7Ly9jYXJnYSBkZSBhcmNoaXZvc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRm9uZG8nLCAnaW1hZ2VuZXMvRm9uZG8uanBnJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCVE5NZW51JywgJ2ltYWdlbmVzL01lbnVDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3NmeCcsICdhdWRpby9tZW51c2Z4Lm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBcclxuICAgICAgICAvL2ZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDAwLCAzMTAsICdGb25kbycpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCA5MCwgJ09wY2lvbmVzJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzc1cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgbWVudUJ0biA9IHRoaXMuYWRkLmltYWdlKDQwMCw1MjUsJ0JUTk1lbnUnKS5zZXRPcmlnaW4oMC41KS5zZXRTY2FsZSgwLjQpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHt1c2VIYW5kQ3Vyc29yOiB0cnVlfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbWVudUJ0bi5zZXRTY2FsZSgwLjQzKSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBtZW51QnRuLnNldFNjYWxlKDAuNCkpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdzZngnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBjb25zdCB4ID0gNDAwO1xyXG4gICAgY29uc3QgeSA9IDMwMDtcclxuXHJcbiAgICAvLyBCYXJyYSBkZWwgc2xpZGVyXHJcbiAgICB0aGlzLnNsaWRlckJhciA9IHRoaXMuYWRkLnJlY3RhbmdsZSh4LCB5LCAyMDAsIDEwLCAweDg4ODg4OCk7XHJcblxyXG4gICAgLy8gT2J0ZW5lciB2b2x1bWVuIGdsb2JhbCBhY3R1YWwgKDAgYSAxKVxyXG4gICAgY29uc3QgY3VycmVudFZvbHVtZSA9IFBoYXNlci5NYXRoLkNsYW1wKHRoaXMuc291bmQudm9sdW1lID8/IDEsIDAsIDEpO1xyXG5cclxuICAgIC8vIENvbnZlcnRpciB2b2x1bWVuIGEgcG9zaWNpw7NuIGRlbCBoYW5kbGVcclxuICAgIGNvbnN0IG1pblggPSB4IC0gMTAwO1xyXG4gICAgY29uc3QgbWF4WCA9IHggKyAxMDA7XHJcbiAgICBjb25zdCBoYW5kbGVYID0gbWluWCArIChtYXhYIC0gbWluWCkgKiBjdXJyZW50Vm9sdW1lO1xyXG5cclxuICAgIC8vIENyZWFyIGhhbmRsZSBlbiBsYSBwb3NpY2nDs24gY29ycmVjdGFcclxuICAgIHRoaXMuc2xpZGVySGFuZGxlID0gdGhpcy5hZGQuY2lyY2xlKGhhbmRsZVgsIHksIDEyLCAweGZmZmZmZilcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyBkcmFnZ2FibGU6IHRydWUgfSk7XHJcblxyXG4gICAgdGhpcy5pbnB1dC5zZXREcmFnZ2FibGUodGhpcy5zbGlkZXJIYW5kbGUpO1xyXG5cclxuICAgIC8vIEV2ZW50byBkZSBhcnJhc3RyZVxyXG4gICAgdGhpcy5pbnB1dC5vbignZHJhZycsIChwb2ludGVyLCBnYW1lT2JqZWN0LCBkcmFnWCkgPT4ge1xyXG4gICAgICAgIGlmIChnYW1lT2JqZWN0ICE9PSB0aGlzLnNsaWRlckhhbmRsZSkgcmV0dXJuO1xyXG4gICAgICAgIGdhbWVPYmplY3QueCA9IFBoYXNlci5NYXRoLkNsYW1wKGRyYWdYLCBtaW5YLCBtYXhYKTtcclxuICAgICAgICB0aGlzLnNvdW5kLm11dGUgPSBmYWxzZTsgLy8gRGVzbXV0ZWFyIGFsIG1vdmVyIGVsIHNsaWRlclxyXG4gICAgICAgIHRoaXMuc291bmQudm9sdW1lID0gKGdhbWVPYmplY3QueCAtIG1pblgpIC8gKG1heFggLSBtaW5YKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAvLyBCb3TDs24gTXV0ZSBzaW1wbGVcclxuICAgIGNvbnN0IG11dGVCdG4gPSB0aGlzLmFkZC50ZXh0KHgsIHkgKyA0MCwgJ011dGUnLCB7XHJcbiAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMzMzMzMzMnLFxyXG4gICAgICAgIHBhZGRpbmc6IHsgbGVmdDogMjAsIHJpZ2h0OiAyMCwgdG9wOiAxMCwgYm90dG9tOiAxMCB9XHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgbXV0ZUJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5tdXRlID0gIXRoaXMuc291bmQubXV0ZTtcclxuICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBjb25uZWN0aW9uTWFuYWdlciB9IGZyb20gJy4uL3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyJztcclxuXHJcbi8qKlxyXG4gKiBFc2NlbmEgcXVlIHNlIG11ZXN0cmEgY3VhbmRvIHNlIHBpZXJkZSBsYSBjb25leGnDs24gY29uIGVsIHNlcnZpZG9yXHJcbiAqIFBhdXNhIGVsIHJlc3RvIGRlIGVzY2VuYXMgeSBjb21wcnVlYmEgY29udGludWFtZW50ZSBoYXN0YSBxdWUgc2UgcmVzdGFibGV6Y2FcclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb25uZWN0aW9uTG9zdFNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ29ubmVjdGlvbkxvc3RTY2VuZScpO1xyXG4gICAgICAgIHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0NvbmV4aW9uUGVyZGlkYScsICdpbWFnZW5lcy9Db25leGlvblBlcmRpZGFDVy5wbmcnKTtcclxuICAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdGb25kbycsICdpbWFnZW5lcy9Gb25kby5qcGcnKTtcclxuICAgIH1cclxuICAgIGluaXQoZGF0YSkge1xyXG4gICAgICAgIC8vIEd1YXJkYXIgbGEgZXNjZW5hIHF1ZSBlc3RhYmEgYWN0aXZhIGN1YW5kbyBzZSBwZXJkacOzIGxhIGNvbmV4acOzblxyXG4gICAgICAgIHRoaXMucHJldmlvdXNTY2VuZSA9IGRhdGEucHJldmlvdXNTY2VuZTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gRm9uZG8gc2VtaS10cmFuc3BhcmVudGVcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDMwMCwgJ0ZvbmRvJyk7XHJcblxyXG4gICAgICAgIC8vIFTDrXR1bG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDEwMCwgXCJDb25leGlvblBlcmRpZGFcIikuc2V0U2NhbGUoMC40KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gTWVuc2FqZVxyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dCA9IHRoaXMuYWRkLnRleHQoNDAwLCAzMDAsICdJbnRlbnRhbmRvIHJlY29uZWN0YXIuLi4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmMDAwMCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy9ib3RvbiBtZW51XHJcbiAgICAgICAgY29uc3QgbWVudUJ0biA9IHRoaXMuYWRkLmltYWdlKDQwMCwgNTI1LCAnQlROTWVudScpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC4zKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBtZW51QnRuLnNldFNjYWxlKDAuMzUpKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBtZW51QnRuLnNldFNjYWxlKDAuMykpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3NmeCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AodGhpcy5wcmV2aW91c1NjZW5lKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gXHJcblxyXG4gICAgICAgIC8vIENvbnRhZG9yIGRlIGludGVudG9zXHJcbiAgICAgICAgdGhpcy5hdHRlbXB0Q291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdFRleHQgPSB0aGlzLmFkZC50ZXh0KDQwMCwgMzUwLCAnSW50ZW50b3M6IDAnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gSW5kaWNhZG9yIHBhcnBhZGVhbnRlXHJcbiAgICAgICAgdGhpcy5kb3RDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICAgICAgZGVsYXk6IDIwMDAsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRvdENvdW50ID0gKHRoaXMuZG90Q291bnQgKyAxKSAlIDQ7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkb3RzID0gJy4nLnJlcGVhdCh0aGlzLmRvdENvdW50KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KGBJbnRlbnRhbmRvIHJlY29uZWN0YXIke2RvdHN9YCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gTGlzdGVuZXIgcGFyYSBjYW1iaW9zIGRlIGNvbmV4acOzblxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuY29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uUmVjb25uZWN0ZWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIuYWRkTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG5cclxuICAgICAgICAvLyBJbnRlbnRhciByZWNvbmVjdGFyIGNhZGEgMiBzZWd1bmRvc1xyXG4gICAgICAgIHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hdHRlbXB0UmVjb25uZWN0KCk7XHJcbiAgICAgICAgfSwgMjAwMCk7XHJcblxyXG4gICAgICAgIC8vIFByaW1lciBpbnRlbnRvIGlubWVkaWF0b1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdFJlY29ubmVjdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGF0dGVtcHRSZWNvbm5lY3QoKSB7XHJcbiAgICAgICAgdGhpcy5hdHRlbXB0Q291bnQrKztcclxuICAgICAgICB0aGlzLmF0dGVtcHRUZXh0LnNldFRleHQoYEludGVudG9zOiAke3RoaXMuYXR0ZW1wdENvdW50fWApO1xyXG4gICAgICAgIGF3YWl0IGNvbm5lY3Rpb25NYW5hZ2VyLmNoZWNrQ29ubmVjdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uUmVjb25uZWN0ZWQoKSB7XHJcbiAgICAgICAgLy8gTGltcGlhciBpbnRlcnZhbFxyXG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlciBsaXN0ZW5lclxyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuXHJcbiAgICAgICAgLy8gTWVuc2FqZSBkZSDDqXhpdG9cclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnwqFDb25leGnDs24gcmVzdGFibGVjaWRhIScpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignIzAwZmYwMCcpO1xyXG5cclxuICAgICAgICAvLyBWb2x2ZXIgYSBsYSBlc2NlbmEgYW50ZXJpb3JcclxuICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMTAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMucHJldmlvdXNTY2VuZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUodGhpcy5wcmV2aW91c1NjZW5lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNodXRkb3duKCkge1xyXG4gICAgICAgIC8vIExpbXBpYXIgZWwgaW50ZXJ2YWwgYWwgY2VycmFyIGxhIGVzY2VuYVxyXG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBSZW1vdmVyIGVsIGxpc3RlbmVyXHJcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBUYW5rIH0gZnJvbSAnLi4vZW50aXRpZXMvVGFuayc7XHJcbmltcG9ydCB7IFBvd2VyVXBHZW5lcmF0b3IgfSBmcm9tICcuLi9lbnRpdGllcy9Qb3dlclVwR2VuZXJhdG9yLmpzJztcclxuaW1wb3J0IHsgQ29tbWFuZFByb2Nlc3NvciB9IGZyb20gJy4uL2NvbW1hbmRzL0NvbW1hbmRQcm9jZXNzb3InO1xyXG5pbXBvcnQgeyBNb3ZlVGFua0NvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kcy9Nb3ZlVGFua0NvbW1hbmQnO1xyXG5pbXBvcnQgeyBjb25uZWN0aW9uTWFuYWdlciB9IGZyb20gJy4uL3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyJztcclxuaW1wb3J0IHsgUG93ZXJVcCB9IGZyb20gJy4uL2VudGl0aWVzL1Bvd2VyVXAuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIE9ubGluZUdhbWVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ09ubGluZUdhbWVTY2VuZScpO1xyXG4gICAgfVxyXG4gICAgcHJlbG9hZCgpIHsvL2NhcmdhIGRlIGFyY2hpdm9zXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdGb25kbycsICdpbWFnZW5lcy9Gb25kby5qcGcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1ZpZGEnLCAnaW1hZ2VuZXMvVmlkYUNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQnViYmxlJywgJ2ltYWdlbmVzL0J1cmJ1amFDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ01lZGlvTWFwYScsICdpbWFnZW5lcy9NZWRpb09ic3RhY3Vsb0NXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUGFsbycsICdpbWFnZW5lcy9QYWxvT2JzdGFjdWxvQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCbG9xdWVTaW1wbGUnLCAnaW1hZ2VuZXMvVGlsZU11cm8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCb3R0b21Ub3BXYWxsJywgJ2ltYWdlbmVzL0JvdHRvbVRvcENXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTGVmdFJpZ2h0V2FsbCcsICdpbWFnZW5lcy9MZWZ0UmlnaHRDVy5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCYXNlUmVkJywgJ2ltYWdlbmVzL1RhbnF1ZVJvam9DVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1RvcnJldGFSZWQnLCAnaW1hZ2VuZXMvQ2Fub25Sb2pvQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCYWxhUmVkJywgJ2ltYWdlbmVzL0JhbGFOUm9qb0N3LnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0Jhc2VHcmVlbicsICdpbWFnZW5lcy9UYW5xdWVWZXJkZUNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnVG9ycmV0YUdyZWVuJywgJ2ltYWdlbmVzL0Nhbm9uVmVyZGVDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0JhbGFHcmVlbicsICdpbWFnZW5lcy9CYWxhTlZlcmRlQ1cucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmFzZUJsdWUnLCAnaW1hZ2VuZXMvVGFucXVlQXp1bENXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnVG9ycmV0YUJsdWUnLCAnaW1hZ2VuZXMvQ2Fub25BenVsQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCYWxhQmx1ZScsICdpbWFnZW5lcy9CYWxhTkF6dWxDVy5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCYXNlWWVsbG93JywgJ2ltYWdlbmVzL1RhbnF1ZUFtYXJpbGxvQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdUb3JyZXRhWWVsbG93JywgJ2ltYWdlbmVzL0Nhbm9uQW1hcmlsbG9DVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0JhbGFZZWxsb3cnLCAnaW1hZ2VuZXMvQmFsYU5BbWFyaWxsb0NXLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ011cm9CbG9xdWU2JywgJ2ltYWdlbmVzL01lZGlvT2JzdGFjdWxvQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCbG9xdWUnLCAnaW1hZ2VuZXMvVGlsZU11cm8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQYWxvJywgJ2ltYWdlbmVzL1BhbG9PYnN0YWN1bG9DVy5wbmcnKTtcclxuICAgICAgIFxyXG4gICAgfVxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy53cz1kYXRhLndzO1xyXG4gICAgICAgIHRoaXMucGxheWVyUm9sZSA9IGRhdGEucGxheWVyUm9sZTsgLy8gJ3BsYXllcjEnIG9yICdwbGF5ZXIyJ1xyXG4gICAgICAgIHRoaXMucm9vbUlkID0gZGF0YS5yb29tSWQ7XHJcblxyXG4gICAgICAgIHRoaXMubG9jYWxUYW5rID0gbnVsbDtcclxuICAgICAgICB0aGlzLnJlbW90ZVRhbmsgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucHJvY2Vzc29yID0gbmV3IENvbW1hbmRQcm9jZXNzb3IoKTsvL3BhcmEgbG9jYWxcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIC8vdGhpcy5wb3dlclVwR2VuZXJhdG9yID0gbnVsbDtcclxuICAgICAgICAvL3RoaXMucHJvY2Vzc29yID0gbmV3IENvbW1hbmRQcm9jZXNzb3IoKTtcclxuICAgICAgICB0aGlzLmlzR2FtZU92ZXIgPSBmYWxzZTtcclxuICAgICAgICAvLyBDb2xvcmVzIHF1ZSB2aWVuZW4gZGUgU2VsZWN0Q29sb3JcclxuICAgICAgICAvL21pcmFyIHNpIGNvbG9yZXMgZGUgYW1ib3MganVnYWRvcmVzIHNvbiBpZ3VhbGVzXHJcbiAgICAgICAgdGhpcy5jb2xvclBsYXllcjEgPSBkYXRhLmF2YXRhcjE7XHJcbiAgICAgICAgdGhpcy5jb2xvclBsYXllcjIgPSBkYXRhLmF2YXRhcjI7XHJcbiAgICAgICAgdGhpcy5uYW1lMSA9IGRhdGEubmFtZTE7XHJcbiAgICAgICAgdGhpcy5uYW1lMiA9IGRhdGEubmFtZTI7XHJcbiAgICAgICAgLy9hanVzdGFyIGVsIGNvbG9yXHJcbiAgICAgICAgaWYodGhpcy5jb2xvclBsYXllcjIgPT09IHRoaXMuY29sb3JQbGF5ZXIxKXtcclxuICAgICAgICAgICAgLy9taXNtbyBjb2xvclxyXG4gICAgICAgICAgICBjb25zdCBjb2xvcnMgPSBbJ1JlZCcsICdCbHVlJywgJ0dyZWVuJywgJ1llbGxvdyddO1xyXG4gICAgICAgICAgICBsZXQgZGlzcG9uaWJsZXMgPSBjb2xvcnMuZmlsdGVyKGUgPT4gZSAhPT0gdGhpcy5jb2xvclBsYXllcjEpOyBcclxuICAgICAgICAgICAgbGV0IGVsZWdpZG8gPSBQaGFzZXIuVXRpbHMuQXJyYXkuR2V0UmFuZG9tKGRpc3BvbmlibGVzKTtcclxuICAgICAgICAgICAgaWYodGhpcy5wbGF5ZXJSb2xlID09PSAncGxheWVyMScpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvclBsYXllcjIgPSBlbGVnaWRvO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3JQbGF5ZXIxID0gZWxlZ2lkbztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnVzZVBvd2VyVXBzID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5wb3dlclVwc0dyb3VwID0gdGhpcy5waHlzaWNzLmFkZC5ncm91cCgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDMwMCwgJ0ZvbmRvJyk7ICAgICAgIFxyXG4gICAgICAgIHRoaXMuY3JlYXRlQm91bmRzKCk7XHJcblxyXG5cclxuICAgICAgICAvLyBPYnN0w6FjdWxvc1xyXG4gICAgICAgIHRoaXMub2JzdGFjbGVzID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNHcm91cChcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgdGhpcy50b3AsIHRoaXMuYm90dG9tLCB0aGlzLmxlZnQsIHRoaXMucmlnaHQsXHJcbiAgICAgICAgdGhpcy5ibG9jazEsIHRoaXMuYmxvY2syLFxyXG4gICAgICAgIHRoaXMuY2VudHJvMSwgdGhpcy5jZW50cm8yLCB0aGlzLmNlbnRybzMsXHJcbiAgICAgICAgdGhpcy5wYWxvMSwgdGhpcy5wYWxvMlxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHRoaXMuY3Vyc29ycyA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuY3JlYXRlQ3Vyc29yS2V5cygpO1xyXG5cclxuICAgICAgICB0aGlzLnNldFVwUGxheWVycygpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQ29sbGlzaW9ucygpO1xyXG5cclxuICAgICAgICB0aGlzLnNldHVwV2ViU29ja2V0TGlzdGVuZXJzKCk7Ly93c1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy52aWRhc0p1Z2Fkb3JlcygpO1xyXG4gICAgICAgIC8vdGhpcy5wb3dlclVwR2VuZXJhdG9yID0gbmV3IFBvd2VyVXBHZW5lcmF0b3IodGhpcywgMTAwMDApOyAvLyBHZW5lcmEgdW4gcG93ZXItdXAgY2FkYSAxMCBzZWd1bmRvc1xyXG5cclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGlmKCFkYXRhLmNvbm5lY3RlZCAmJiB0aGlzLnNjZW5lLmlzQWN0aXZlKCkpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbm5lY3Rpb25Mb3N0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLmFkZExpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICB0aGlzLmV2ZW50cy5vbignc2h1dGRvd24nLCB0aGlzLm9uU2h1dGRvd24sIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdkZXN0cm95JywgdGhpcy5vblNodXRkb3duLCB0aGlzKTtcclxuICAgICAgICB0aGlzLnBvd2VVcEdlbmVyYXRvciA9IG5ldyBQb3dlclVwR2VuZXJhdG9yKHRoaXMsIDEwMDAwLCB0cnVlKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgb25Db25uZWN0aW9uTG9zdCgpey8vYXBpXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy90aGlzLnNjZW5lLmxhdW5jaCgnQ29ubmVjdGlvbkxvc3RTY2VuZScsIHsgcHJldmlvdXNTY2VuZTogJ09ubGluZUdhbWVTY2VuZScgfSk7XHJcbiAgICAgICAgLy90aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgLy90aGlzLnNjZW5lLmJyaW5nVG9Ub3AoJ0Nvbm5lY3Rpb25Mb3N0U2NlbmUnKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgIHNldHVwV2ViU29ja2V0TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMud3Mub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2VydmVyTWVzc2FnZShkYXRhKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgc2VydmVyIG1lc3NhZ2U6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy53cy5vbmNsb3NlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnV2ViU29ja2V0IGNvbm5lY3Rpb24gY2xvc2VkJyk7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5nYW1lRW5kZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy53cy5vbmVycm9yID0gKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1dlYlNvY2tldCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5nYW1lRW5kZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVTZXJ2ZXJNZXNzYWdlKGRhdGEpIHtcclxuICAgICAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICd0YW5rVXBkYXRlJzpcclxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBvcHBvbmVudCdzIHRhbmsgcG9zaXRpb25cclxuICAgICAgICAgICAgICAgIGxldCBtb3ZlQ29tbWFuZDIgPSBuZXcgTW92ZVRhbmtDb21tYW5kKHRoaXMucmVtb3RlVGFuaywgZGF0YS5hY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzb3IucHJvY2Vzcyhtb3ZlQ29tbWFuZDIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hY3R1YWxpemFyVmlkYXModGhpcy5wbGF5ZXJSb2xlID09PSAncGxheWVyMScgPyAncGxheWVyMicgOiAncGxheWVyMScsIGRhdGEubGl2ZXMpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdzcGF3blBvd2VyVXAnOlxyXG4gICAgICAgICAgICAgICAgY29uc3QgcG93ZXJVcCA9IGRhdGEuZGF0YTtcclxuICAgICAgICAgICAgICAgIG5ldyBQb3dlclVwKHRoaXMsIHBvd2VyVXAueCwgcG93ZXJVcC55LCBwb3dlclVwLnRpcG8sIHRoaXMucG93ZVVwR2VuZXJhdG9yKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdjb2xsZWN0UG93ZXJVcCc6XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG93ZXItdXAgY29sbGVjdGVkJyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ3RhbmtDb2xvcic6XHJcbiAgICAgICAgICAgICAgICBpZihkYXRhLnJvbGUgIT09IHRoaXMucGxheWVyUm9sZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVUYW5rLmRlc3Ryb3koKTsvL2Rlc3RydXllIGVsIHRhbnF1ZSByZW1vdG8gYWN0dWFsXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5jb2xvciAhPT0gdGhpcy5yZW1vdGVUYW5rLmNvbG9yKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVUYW5rID0gbmV3IFRhbmsodGhpcywgZGF0YS5yb2xlLCBkYXRhLnJvbGU9PT0ncGxheWVyMScgPyA5MDogNzEwLCAzMDAsIGRhdGEuY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL21pc21vIGNvbG9yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9ycyA9IFsnUmVkJywgJ0JsdWUnLCAnR3JlZW4nLCAnWWVsbG93J107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkaXNwb25pYmxlcyA9IGNvbG9ycy5maWx0ZXIoZSA9PiBlICE9PSBkYXRhLmNvbG9yKTsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlbGVnaWRvID0gUGhhc2VyLlV0aWxzLkFycmF5LkdldFJhbmRvbShkaXNwb25pYmxlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3RlVGFuayA9IG5ldyBUYW5rKHRoaXMsIGRhdGEucm9sZSwgZGF0YS5yb2xlPT09J3BsYXllcjEnID8gOTA6IDcxMCwgMzAwLCBlbGVnaWRvKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLnNldChkYXRhLnJvbGUsIHRoaXMucmVtb3RlVGFuayk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVUYW5rLlNldFRhcmdldCh0aGlzLmxvY2FsVGFuayk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVDb2xsaXNpb25zKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2dhbWVPdmVyJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuZW5kR2FtZShkYXRhLndpbm5lcik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ3BsYXllckRpc2Nvbm5lY3RlZCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVbmtub3duIG1lc3NhZ2UgdHlwZTonLCBkYXRhLnR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVEaXNjb25uZWN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZUVuZGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmxvY2FsVGFuay5zcHJpdGUuc2V0VmVsb2NpdHkoMCwgMCk7XHJcbiAgICAgICAgdGhpcy5yZW1vdGVUYW5rLnNwcml0ZS5zZXRWZWxvY2l0eSgwLCAwKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MucGF1c2UoKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDAwLCAxMzAsIFwiQ29uZXhpb25QZXJkaWRhXCIpLnNldFNjYWxlKDAuNCkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuY3JlYXRlTWVudUJ1dHRvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZU1lbnVCdXR0b24oKSB7XHJcbiAgICAgICAgY29uc3QgbWVudUJ0biA9IHRoaXMuYWRkLmltYWdlKDQwMCwgNDAwLCBcIkJUTk1lbnVcIikuc2V0T3JpZ2luKDAuNSkuc2V0U2NhbGUoMC40KVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7dXNlSGFuZEN1cnNvcjogdHJ1ZX0pXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IG1lbnVCdG4uc2V0U2NhbGUoMC40MykpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbWVudUJ0bi5zZXRTY2FsZSgwLjQpKVxyXG4gICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3NmeCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgdmlkYXNKdWdhZG9yZXMoKSB7XHJcbiAgICAgICAgdGhpcy52aWRhUGxheWVyMSA9IFtdO1xyXG4gICAgICAgIHRoaXMudmlkYVBsYXllcjIgPSBbXTtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSgxMCwgMjAsIGBCYXNlJHt0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuY29sb3J9YCkuc2V0T3JpZ2luKDAsIDApO1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDc0MCwgMjAsIGBCYXNlJHt0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuY29sb3J9YCkuc2V0T3JpZ2luKDAsIDApO1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDM1LCA0MCwgYFRvcnJldGEke3RoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5jb2xvcn1gKS5zZXRPcmlnaW4oMC4xNSwgMC41KTtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3NjUsIDQwLCBgVG9ycmV0YSR7dGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLmNvbG9yfWApLnNldE9yaWdpbigwLjE1LCAwLjUpLnNldFJvdGF0aW9uKE1hdGguUEkpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZpZGExID0gdGhpcy5hZGQuaW1hZ2UoOTAgKyBpICogMzAsIDM1LCAnVmlkYScpLnNldFNjYWxlKDAuMDUpO1xyXG4gICAgICAgICAgICB0aGlzLnZpZGFQbGF5ZXIxLnB1c2godmlkYTEpO1xyXG4gICAgICAgICAgICBjb25zdCB2aWRhMiA9IHRoaXMuYWRkLmltYWdlKDcxMCAtIGkgKiAzMCwgMzUsICdWaWRhJykuc2V0U2NhbGUoMC4wNSk7XHJcbiAgICAgICAgICAgIHRoaXMudmlkYVBsYXllcjIucHVzaCh2aWRhMik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gXHJcbiAgICBhY3R1YWxpemFyVmlkYXMocGxheWVySWQsIHZpZGFzUmVzdGFudGVzKSB7XHJcbiAgICAgICAgY29uc3QgdmlkYUFycmF5ID0gcGxheWVySWQgPT09ICdwbGF5ZXIxJyA/IHRoaXMudmlkYVBsYXllcjEgOiB0aGlzLnZpZGFQbGF5ZXIyO1xyXG4gICAgICAgIGlmICh2aWRhQXJyYXkubGVuZ3RoID4gdmlkYXNSZXN0YW50ZXMpIHtcclxuICAgICAgICAgICAgY29uc3QgdmlkYVNwcml0ZSA9IHZpZGFBcnJheS5wb3AoKTtcclxuICAgICAgICAgICAgdmlkYVNwcml0ZS5kZXN0cm95KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh2aWRhQXJyYXkubGVuZ3RoIDwgdmlkYXNSZXN0YW50ZXMpIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllcklkID09PSAncGxheWVyMScpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG51ZXZhVmlkYSA9IHRoaXMuYWRkLmltYWdlKDkwICsgdmlkYUFycmF5Lmxlbmd0aCAqIDMwLCAzNSwgJ1ZpZGEnKS5zZXRTY2FsZSgwLjA1KTtcclxuICAgICAgICAgICAgICAgIHZpZGFBcnJheS5wdXNoKG51ZXZhVmlkYSk7XHJcbiAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXJJZCA9PT0gJ3BsYXllcjInKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBudWV2YVZpZGEgPSB0aGlzLmFkZC5pbWFnZSg3MTAgLSB2aWRhQXJyYXkubGVuZ3RoICogMzAsIDM1LCAnVmlkYScpLnNldFNjYWxlKDAuMDUpO1xyXG4gICAgICAgICAgICAgICAgdmlkYUFycmF5LnB1c2gobnVldmFWaWRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodmlkYXNSZXN0YW50ZXMgPD0gMCkge1xyXG4gICAgICAgICAgICAvL2VudmlhciBxdWUgaGEgbXVlcnRvXHJcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ2dhbWVPdmVyJyxcclxuICAgICAgICAgICAgICAgIHdpbm5lcjogcGxheWVySWRcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuZW5kR2FtZShwbGF5ZXJJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldFVwUGxheWVycygpIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxUYW5rID0gbmV3IFRhbmsodGhpcywgJ3BsYXllcjEnLCA5MCwgMzAwLCB0aGlzLmNvbG9yUGxheWVyMSk7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3RlVGFuayA9IG5ldyBUYW5rKHRoaXMsICdwbGF5ZXIyJywgNzEwLCAzMDAsIHRoaXMuY29sb3JQbGF5ZXIyKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMScsIHRoaXMubG9jYWxUYW5rKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMicsIHRoaXMucmVtb3RlVGFuayk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbFRhbmsgPSBuZXcgVGFuayh0aGlzLCAncGxheWVyMicsIDcxMCwgMzAwLCB0aGlzLmNvbG9yUGxheWVyMik7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3RlVGFuayA9IG5ldyBUYW5rKHRoaXMsICdwbGF5ZXIxJywgOTAsIDMwMCwgdGhpcy5jb2xvclBsYXllcjEpO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIyJywgdGhpcy5sb2NhbFRhbmspO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIxJywgdGhpcy5yZW1vdGVUYW5rKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubG9jYWxUYW5rLlNldFRhcmdldCh0aGlzLnJlbW90ZVRhbmspO1xyXG4gICAgICAgIHRoaXMucmVtb3RlVGFuay5TZXRUYXJnZXQodGhpcy5sb2NhbFRhbmspO1xyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgZW5kR2FtZSh3aW5uZXJJZCkge1xyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHRhbmsgPT4ge1xyXG4gICAgICAgICAgICB0YW5rLnNwcml0ZS5zZXRWZWxvY2l0eVkoMCk7XHJcbiAgICAgICAgICAgIHRhbmsuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICAgICAgdGFuay50dXJyZXQuc3ByaXRlLnNldFZlbG9jaXR5WSgwKTtcclxuICAgICAgICAgICAgdGFuay50dXJyZXQuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICAgICAgdGFuay50dXJyZXQuc2hvb3QodHJ1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLnBhdXNlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuaXNHYW1lT3ZlciA9IHRydWU7IFxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdHYW1lT3ZlclNjZW5lJyx7XHJcbiAgICAgICAgICAgICAgICBnYW5hZG9yOiB3aW5uZXJJZD09PSdwbGF5ZXIxJyA/ICdwbGF5ZXIyJyA6ICdwbGF5ZXIxJyxcclxuICAgICAgICAgICAgICAgIGNvbG9yOiB0aGlzLnBsYXllcnMuZ2V0KHdpbm5lcklkPT09J3BsYXllcjEnID8gJ3BsYXllcjInIDogJ3BsYXllcjEnKS5jb2xvclxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIGNyZWF0ZUJvdW5kcygpIHtcclxuXHJcbiAgICAgICAgLy9NdXJvcyBhcnJpYmEgeSBhYmFqb1xyXG4gICAgICAgIHRoaXMudG9wID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoNDAwLCA4MywgJ0JvdHRvbVRvcFdhbGwnKTtcclxuICAgICAgICB0aGlzLnRvcC5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy50b3AuYm9keS5zZXRTaXplKDc2NSw0NSk7XHJcblxyXG4gICAgICAgIHRoaXMuYm90dG9tID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoNDAwLCA1NzcsICdCb3R0b21Ub3BXYWxsJyk7XHJcbiAgICAgICAgdGhpcy5ib3R0b20uc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuYm90dG9tLmJvZHkuc2V0U2l6ZSg3NjUsNDUpO1xyXG5cclxuICAgICAgICAvL011cm9zIGl6cXVpZXJkYSB5IGRlcmVjaGFcclxuICAgICAgICB0aGlzLmxlZnQgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSg0MCwgMzMwLCAnTGVmdFJpZ2h0V2FsbCcpO1xyXG4gICAgICAgIHRoaXMubGVmdC5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5sZWZ0LmJvZHkuc2V0U2l6ZSg0NSw0NTApO1xyXG4gICAgICAgIFxyXG5cclxuICAgICAgICB0aGlzLnJpZ2h0ID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoNzYwLCAzMzAsICdMZWZ0UmlnaHRXYWxsJyk7XHJcbiAgICAgICAgdGhpcy5yaWdodC5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5yaWdodC5ib2R5LnNldFNpemUoNDUsNDUwKTtcclxuXHJcbiAgICAgICAgLy9ibG9xdWVzIGRlIDZcclxuICAgICAgICB0aGlzLmJsb2NrMT10aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSg0MDAsMTk4LFwiTXVyb0Jsb3F1ZTZcIik7XHJcbiAgICAgICAgdGhpcy5ibG9jazEuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLmJsb2NrMj10aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSg0MDAsNDYyLFwiTXVyb0Jsb3F1ZTZcIik7XHJcbiAgICAgICAgdGhpcy5ibG9jazIuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLmNlbnRybzE9dGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoNDAwLDQ2Mi0xMTAsXCJCbG9xdWVcIik7XHJcbiAgICAgICAgdGhpcy5jZW50cm8xLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmNlbnRybzI9dGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoNDAwLTQ1LDQ2Mi0xNTUsXCJCbG9xdWVcIik7XHJcbiAgICAgICAgdGhpcy5jZW50cm8yLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmNlbnRybzM9dGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoNDAwKzQ1LDQ2Mi0xNTUsXCJCbG9xdWVcIik7XHJcbiAgICAgICAgdGhpcy5jZW50cm8zLnNldEltbW92YWJsZSh0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5wYWxvMT10aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSg2NDgsNDM5LFwiUGFsb1wiKTtcclxuICAgICAgICB0aGlzLnBhbG8xLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnBhbG8yPXRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDE1MiwyMTgsXCJQYWxvXCIpO1xyXG4gICAgICAgIHRoaXMucGFsbzIuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUNvbGxpc2lvbnMoKXtcclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaCh0YW5rID0+IHtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLmxlZnQsIHRhbmsuc3ByaXRlKTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnJpZ2h0LCB0YW5rLnNwcml0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy50b3AsIHRhbmsuc3ByaXRlKTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLmJvdHRvbSwgdGFuay5zcHJpdGUpO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuYmxvY2sxLCB0YW5rLnNwcml0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5ibG9jazIsIHRhbmsuc3ByaXRlKTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLmNlbnRybzEsIHRhbmsuc3ByaXRlKTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLmNlbnRybzIsIHRhbmsuc3ByaXRlKTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLmNlbnRybzMsIHRhbmsuc3ByaXRlKTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnBhbG8xLCB0YW5rLnNwcml0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5wYWxvMiwgdGFuay5zcHJpdGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbmRNZXNzYWdlKG1lc3NhZ2UpIHtcclxuICAgICAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeShtZXNzYWdlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0dhbWVPdmVyKSByZXR1cm47XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYodGhpcy51c2VQb3dlclVwcyl7XHJcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgIHR5cGU6ICdjb2xsZWN0UG93ZXJVcCdcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnVzZVBvd2VyVXBzID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLy8gSGFuZGxlIGxvY2FsIHRhbmsgaW5wdXQgLSBib3RoIHBsYXllcnMgdXNlIGFycm93IGtleXNcclxuICAgICAgICBsZXQgZGlyZWN0aW9uID0gbnVsbDtcclxuICAgICAgICBpZiAodGhpcy5jdXJzb3JzLnVwLmlzRG93bikge1xyXG4gICAgICAgICAgICBkaXJlY3Rpb24gPSAndXAnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJzb3JzLmRvd24uaXNEb3duKSB7XHJcbiAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdkb3duJztcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY3Vyc29ycy5sZWZ0LmlzRG93bikge1xyXG4gICAgICAgICAgICBkaXJlY3Rpb24gPSAnbGVmdCc7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnNvcnMucmlnaHQuaXNEb3duKSB7XHJcbiAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdyaWdodCc7XHJcbiAgICAgICAgfSAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdzdG9wJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBtb3ZlQ29tbWFuZCA9IG5ldyBNb3ZlVGFua0NvbW1hbmQodGhpcy5sb2NhbFRhbmssIGRpcmVjdGlvbik7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IucHJvY2Vzcyhtb3ZlQ29tbWFuZCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gU2VuZCB0YW5rIHBvc2l0aW9uIHRvIHNlcnZlclxyXG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICB0eXBlOiAndGFua01vdmUnLFxyXG4gICAgICAgICAgICBhY3Rpb246IGRpcmVjdGlvbixcclxuICAgICAgICAgICAgbGl2ZXM6IHRoaXMubG9jYWxUYW5rLnZpZGFzXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG9uU2h1dGRvd24oKSB7XHJcblxyXG4gICAgICAgIC8vIFF1aXRhciBsaXN0ZW5lciBkZWwgc2Vydmlkb3JcclxuICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn0iLCIvKipcclxuICogTG9iYnkgU2NlbmUgLSBXYWl0aW5nIGZvciBtdWx0aXBsYXllciBtYXRjaG1ha2luZ1xyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9iYnlTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzdXBlcih7IGtleTogJ0xvYmJ5U2NlbmUnIH0pO1xyXG4gICAgdGhpcy53cyA9IG51bGw7XHJcbiAgfVxyXG4gICAgaW5pdChkYXRhKXtcclxuICAgICAgICB0aGlzLnBsYXllck5hbWUgPSBkYXRhLnBsYXllck5hbWU7XHJcbiAgICAgICAgdGhpcy5hdmF0YXIgPSBkYXRhLmF2YXRhcjtcclxuICAgIH1cclxuXHJcbiAgY3JlYXRlKCkge1xyXG4gICAgY29uc3Qgd2lkdGggPSB0aGlzLmNhbWVyYXMubWFpbi53aWR0aDtcclxuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuY2FtZXJhcy5tYWluLmhlaWdodDtcclxuICAgIHRoaXMuYWRkLmltYWdlKDQwMCwgMzEwLCAnRm9uZG8nKTtcclxuICAgIC8vIFRpdGxlXHJcbiAgICBjb25zdCBvbmxpbmVCdG4gPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDkwLCBcIkJUTk9ubGluZVwiKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuMzMpO1xyXG5cclxuICAgIC8vIFN0YXR1cyB0ZXh0XHJcbiAgICB0aGlzLnN0YXR1c1RleHQgPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgaGVpZ2h0IC8gMiAtIDUwLCAnQ29ubmVjdGluZyB0byBzZXJ2ZXIuLi4nLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgIGNvbG9yOiAnIzkzOTM0MmZmJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgLy8gUGxheWVyIGNvdW50IHRleHRcclxuICAgIHRoaXMucGxheWVyQ291bnRUZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAvIDIgKyAyMCwgJycsIHtcclxuICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgY29sb3I6ICcjNGI5NTRiZmYnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICBjb25zdCBiYXNlID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCAzNTAsIGBCYXNlJHt0aGlzLmF2YXRhcn1gKS5zZXRTY2FsZSgxLjMpLnNldERlcHRoKDEwKTtcclxuICAgIGNvbnN0IHR1cnJldCA9IHRoaXMuYWRkLmltYWdlKDQwMCwgMzUwLCBgVG9ycmV0YSR7dGhpcy5hdmF0YXJ9YCkuc2V0U2NhbGUoMS4zKS5zZXRPcmlnaW4oMC4yLDAuNSkuc2V0RGVwdGgoMTUpO1xyXG4gICAgY29uc3QgbmFtZVRhbmsgPSB0aGlzLmFkZC50ZXh0KDQwMCwgNDAwLCB0aGlzLnBsYXllck5hbWUsIHtcclxuICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgY29sb3I6ICcjMmIyYjI3ZmYnLFxyXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjYmJiN2I3ZmYnLFxyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG5cclxuICAgIC8vIENhbmNlbCBidXR0b25cclxuICAgIGNvbnN0IGNhbmNlbEJ1dHRvbiA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCBoZWlnaHQgLSAxMDAsICdDYW5jZWwnLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgIGNvbG9yOiAnIzliNDU0NWZmJyxcclxuICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzMzMzMzMycsXHJcbiAgICAgIHBhZGRpbmc6IHsgeDogMjAsIHk6IDEwIH1cclxuICAgIH0pLnNldE9yaWdpbigwLjUpLnNldEludGVyYWN0aXZlKCk7XHJcblxyXG4gICAgY2FuY2VsQnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgY2FuY2VsQnV0dG9uLnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjYW5jZWxCdXR0b24ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgIGNhbmNlbEJ1dHRvbi5zZXRDb2xvcignI2ZmNjY2NicpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY2FuY2VsQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgdGhpcy5sZWF2ZVF1ZXVlKCk7XHJcbiAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ09ubGluZVNjZW5lJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBDb25uZWN0IHRvIFdlYlNvY2tldCBzZXJ2ZXJcclxuICAgIHRoaXMuY29ubmVjdFRvU2VydmVyKCk7XHJcbiAgfVxyXG5cclxuICBjb25uZWN0VG9TZXJ2ZXIoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBDb25uZWN0IHRvIFdlYlNvY2tldCBzZXJ2ZXIgKHNhbWUgaG9zdCBhcyB3ZWIgc2VydmVyKVxyXG4gICAgICBjb25zdCB3c1VybCA9IGB3czovLyR7d2luZG93LmxvY2F0aW9uLmhvc3R9YDtcclxuXHJcbiAgICAgIHRoaXMud3MgPSBuZXcgV2ViU29ja2V0KHdzVXJsKTtcclxuXHJcbiAgICAgIHRoaXMud3Mub25vcGVuID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdDb25uZWN0ZWQgdG8gV2ViU29ja2V0IHNlcnZlcicpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdXYWl0aW5nIGZvciBvcHBvbmVudC4uLicpO1xyXG5cclxuICAgICAgICAvLyBKb2luIG1hdGNobWFraW5nIHF1ZXVlXHJcbiAgICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogJ2pvaW5RdWV1ZScgLCBjb2xvcjogdGhpcy5hdmF0YXIsIG5hbWU6IHRoaXMucGxheWVyTmFtZSAgfSkgKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMud3Mub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xyXG4gICAgICAgICAgdGhpcy5oYW5kbGVTZXJ2ZXJNZXNzYWdlKGRhdGEpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIHNlcnZlciBtZXNzYWdlOicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLndzLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdXZWJTb2NrZXQgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdDb25uZWN0aW9uIGVycm9yIScpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy53cy5vbmNsb3NlID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgY29ubmVjdGlvbiBjbG9zZWQnKTtcclxuICAgICAgICBpZiAodGhpcy5zY2VuZS5pc0FjdGl2ZSgnTG9iYnlTY2VuZScpKSB7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnQ29ubmVjdGlvbiBsb3N0IScpO1xyXG4gICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjOGE0ODQ4ZmYnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjb25uZWN0aW5nIHRvIHNlcnZlcjonLCBlcnJvcik7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdGYWlsZWQgdG8gY29ubmVjdCEnKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjYTk0ODQ4ZmYnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSkge1xyXG4gICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcclxuICAgICAgY2FzZSAncXVldWVTdGF0dXMnOlxyXG4gICAgICAgIHRoaXMucGxheWVyQ291bnRUZXh0LnNldFRleHQoYFBsYXllcnMgaW4gcXVldWU6ICR7ZGF0YS5wb3NpdGlvbn0vMmApO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnZ2FtZVN0YXJ0JzpcclxuICAgICAgICBjb25zb2xlLmxvZygnR2FtZSBzdGFydGluZyEnLCBkYXRhKTtcclxuICAgICAgICAvLyBTdG9yZSBnYW1lIGRhdGEgYW5kIHRyYW5zaXRpb24gdG8gbXVsdGlwbGF5ZXIgZ2FtZSBzY2VuZVxyXG4gICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ09ubGluZUdhbWVTY2VuZScsIHtcclxuICAgICAgICAgIHdzOiB0aGlzLndzLFxyXG4gICAgICAgICAgcGxheWVyUm9sZTogZGF0YS5yb2xlLFxyXG4gICAgICAgICAgcm9vbUlkOiBkYXRhLnJvb21JZCxcclxuICAgICAgICAgIGF2YXRhcjE6IGRhdGEuY29sb3JwMSwgXHJcbiAgICAgICAgICBhdmF0YXIyOiBkYXRhLmNvbG9ycDIsXHJcbiAgICAgICAgICBuYW1lMTogZGF0YS5uYW1lcDEsXHJcbiAgICAgICAgICBuYW1lMjogZGF0YS5uYW1lcDJcclxuICAgICAgICB9KTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1Vua25vd24gbWVzc2FnZSB0eXBlOicsIGRhdGEudHlwZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBsZWF2ZVF1ZXVlKCkge1xyXG4gICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnbGVhdmVRdWV1ZScgfSkpO1xyXG4gICAgICB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzaHV0ZG93bigpIHtcclxuICAgIHRoaXMubGVhdmVRdWV1ZSgpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IE1lbnVTY2VuZSB9IGZyb20gJy4vc2NlbmVzL01lbnVTY2VuZS5qcyc7XHJcbmltcG9ydCB7IFNlbGVjdENvbG9yIH0gZnJvbSAnLi9zY2VuZXMvU2VsZWN0Q29sb3IuanMnO1xyXG5pbXBvcnQgeyBHYW1lU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9HYW1lU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBQYXVzZVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvUGF1c2VTY2VuZS5qcyc7XHJcbmltcG9ydCB7IENyZWRpdFNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvQ3JlZGl0U2NlbmUuanMnO1xyXG5pbXBvcnQgeyBPbmxpbmVTY2VuZSB9IGZyb20gJy4vc2NlbmVzL09ubGluZVNjZW5lLmpzJztcclxuaW1wb3J0IHsgVHV0b3JpYWxTY2VuZSB9IGZyb20gJy4vc2NlbmVzL1R1dG9yaWFsU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBHYW1lT3ZlclNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvR2FtZU92ZXJTY2VuZS5qcyc7XHJcbmltcG9ydCB7IE9wdGlvbnNTY2VuZSB9IGZyb20gJy4vc2NlbmVzL09wdGlvbnNTY2VuZS5qcyc7XHJcbmltcG9ydCB7IENvbm5lY3Rpb25Mb3N0U2NlbmUgfSBmcm9tICcuL3NjZW5lcy9Db25lY3Rpb25Mb3N0LmpzJztcclxuaW1wb3J0IHsgT25saW5lR2FtZVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvT25saW5lR2FtZVNjZW5lLmpzJztcclxuaW1wb3J0IExvYmJ5U2NlbmUgZnJvbSAnLi9zY2VuZXMvTG9iYnlTY2VuZS5qcyc7XHJcblxyXG5jb25zdCBjb25maWcgPSB7XHJcbiAgICB0eXBlOiBQaGFzZXIuQVVUTyxcclxuICAgIHdpZHRoOiA4MDAsXHJcbiAgICBoZWlnaHQ6IDYwMCxcclxuICAgIHBhcmVudDogJ2dhbWUtY29udGFpbmVyJyxcclxuICAgIHBoeXNpY3M6IHtcclxuICAgICAgICBkZWZhdWx0OiAnYXJjYWRlJyxcclxuICAgICAgICBhcmNhZGU6IHtcclxuICAgICAgICAgICAgZ3Jhdml0eTogeyB5OiAwIH0sXHJcbiAgICAgICAgICAgIGRlYnVnOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzY2VuZTogW01lbnVTY2VuZSwgU2VsZWN0Q29sb3IsIEdhbWVTY2VuZSwgUGF1c2VTY2VuZSwgQ3JlZGl0U2NlbmUsIE9ubGluZVNjZW5lLCBUdXRvcmlhbFNjZW5lLCBHYW1lT3ZlclNjZW5lLCBPcHRpb25zU2NlbmUsIExvYmJ5U2NlbmUsIENvbm5lY3Rpb25Mb3N0U2NlbmUsIE9ubGluZUdhbWVTY2VuZV0sXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMWExYTJlJyxcclxufVxyXG5cclxuY29uc3QgZ2FtZSA9IG5ldyBQaGFzZXIuR2FtZShjb25maWcpO1xyXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZSIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJQaGFzZXIiLCJNZW51U2NlbmUiLCJjb25zdHJ1Y3RvciIsInN1cGVyIiwicHJlbG9hZCIsInRoaXMiLCJsb2FkIiwiaW1hZ2UiLCJhdWRpbyIsImNyZWF0ZSIsIm11c2ljYSIsInNvdW5kIiwiYWRkIiwibG9vcCIsInZvbHVtZSIsInBsYXkiLCJzZXRPcmlnaW4iLCJzZXRTY2FsZSIsImxvY2FsQnRuIiwic2V0SW50ZXJhY3RpdmUiLCJ1c2VIYW5kQ3Vyc29yIiwib24iLCJzY2VuZSIsInN0YXJ0Iiwib25saW5lQnRuIiwidHV0b3JpYWxCdG4iLCJjcmVkaXRCdG4iLCJvcHRpb25zQnRuIiwidGV4dCIsImZvbnRTaXplIiwiY29sb3IiLCJmb250U3R5bGUiLCJTZWxlY3RDb2xvciIsImNvbG9yUGxheWVyMSIsImNvbG9yUGxheWVyMiIsInAxT3B0aW9ucyIsInAyT3B0aW9ucyIsImNyZWF0ZVRhbmtPcHRpb24iLCJ4IiwieSIsImNvbG9yS2V5Iiwib25DbGljayIsImJhc2UiLCJzZXREZXB0aCIsInR1cnJldCIsImhpZ2hsaWdodCIsInNldFZpc2libGUiLCJjb250YWluZXIiLCJzZXRTaXplIiwid2lkdGgiLCJoZWlnaHQiLCJzZXREYXRhIiwiZ2V0RGF0YSIsImNvbG9ycyIsImZvckVhY2giLCJpIiwib3B0Iiwib3B0aW9uIiwibWFya1NlbGVjdGVkIiwidXBkYXRlRGlzYWJsZWRTdGF0ZXMiLCJwdXNoIiwicGxheUJ0biIsIm1lbnVCdG4iLCJvcHRpb25BcnJheSIsInNlbGVjdGVkT3B0aW9uIiwic2hvdWxkRGlzYWJsZSIsInNldE9wdGlvbkRpc2FibGVkIiwiZGlzYWJsZWQiLCJkaXNhYmxlSW50ZXJhY3RpdmUiLCJzZXRBbHBoYSIsIkJ1bGxldCIsImFuZ2xlIiwibXlUdXJyZXQiLCJkaXIiLCJiYXNlU3BlZWQiLCJzcGVlZE11bHQiLCJjYW5Db2xsaWRlIiwiYm91bmNlcyIsImNhbkRhbWFnZSIsInNldFRpbWVvdXQiLCJzcHJpdGUiLCJwaHlzaWNzIiwiYm9keSIsImFsbG93R3Jhdml0eSIsInNldENvbGxpZGVXb3JsZEJvdW5kcyIsInNldEJvdW5jZSIsInJvdGF0aW9uIiwic2V0RGlyIiwiZXZlbnRzIiwidXBkYXRlIiwiY3JlYXRlQ29sbGlzaW9ucyIsInNldFZlbG9jaXR5IiwiTWF0aCIsImNvcyIsInNpbiIsInZ4IiwidmVsb2NpdHkiLCJ2eSIsImF0YW4yIiwiZGVzdHJveSIsImRlc3Ryb3lCdWxsZXQiLCJvZmYiLCJjb2xsaWRlciIsImxlZnQiLCJyaWdodCIsInRvcCIsImJvdHRvbSIsImJsb2NrMSIsImJsb2NrMiIsImNlbnRybzEiLCJjZW50cm8yIiwiY2VudHJvMyIsInBhbG8xIiwicGFsbzIiLCJwbGF5ZXJzIiwidGFuayIsInJlY2VpdmVEYW1hZ2UiLCJUdXJyZXQiLCJteVRhbmsiLCJQSSIsInRhcmdldCIsInJvdGF0ZVNwZWVkIiwiRGVnVG9SYWQiLCJjYW5TaG9vdCIsInBlcmZlY3RBbmdsZSIsImxlZnRBbmdsZSIsInJpZ2h0QW5nbGUiLCJTZXRQb3NpdGlvbiIsInBvd2VyVXBCdWxsZXQiLCJmaXJlRXZlbnQiLCJyb3RhdGUiLCJhaW0iLCJmaXJlIiwiR2V0WCIsIkdldFkiLCJzaG9vdCIsInN0YXJ0QXV0b0ZpcmUiLCJzZXRUYXJnZXQiLCJ0YXIiLCJkeCIsImR5IiwidGltZSIsImFkZEV2ZW50IiwiZGVsYXkiLCJjYWxsYmFjayIsInJlbW92ZSIsInNldGFscGhhIiwiYWwiLCJUYW5rIiwiaWQiLCJkaXJYIiwiZGlyWSIsInNwZWVkTXVsdGlwbGllciIsInZpZGFzIiwiaW52dWxuZXJhYmxlIiwibm9TaG9vdFVudGlsIiwiU2V0VGFyZ2V0IiwiYW1vdW50IiwiYWN0dWFsaXphclZpZGFzIiwibWFrZUludnVsbmVyYWJsZSIsImJsaW5rQ291bnQiLCJyZXBlYXQiLCJhbHBoYSIsImFwcGx5Tm9TaG9vdCIsIm1zIiwibm93IiwibWF4IiwiZGVsYXllZENhbGwiLCJQb3dlclVwIiwidHlwZSIsImdlbmVyYXRvciIsImNyZWF0ZUNvbGxpc3Rpb25zIiwicG93ZXJVcHNHcm91cCIsImFwbHlQb3dlclVwIiwidXNlUG93ZXJVcHMiLCJ0YW5rQ29sbGVjdG9yIiwiZW5lbXlUYW5rIiwidCIsInRhcmdldFRhbmsiLCJTZXQiLCJoYXMiLCJtYXhQb3dlclVwcyIsIlBvd2VyVXBHZW5lcmF0b3IiLCJpbnRlcnZhbCIsIm9ubGluZSIsInR5cGVzIiwicG9zaXRpb25zWCIsInBvc2l0aW9uc1kiLCJzdGFydEdlbmVyYXRpbmciLCJnZW5lcmF0ZVBvd2VyVXAiLCJpc1NwYXduVmFsaWQiLCJ6b25lIiwiZXhpc3RpbmciLCJoaXRXYWxsIiwib3ZlcmxhcCIsIm9ic3RhY2xlcyIsImhpdFBvd2VyVXAiLCJpbmRpY2VzIiwiQXJyYXkiLCJTaHVmZmxlIiwibGVuZ3RoIiwia2V5cyIsIkdldFJhbmRvbSIsIkNvbW1hbmRQcm9jZXNzb3IiLCJNYXAiLCJnYW1lU2NlbmUiLCJzZXRQbGF5ZXJzIiwic2V0R2FtZVNjZW5lIiwicHJvY2VzcyIsImNvbW1hbmQiLCJleGVjdXRlIiwiQ29tbWFuZCIsInNlcmlhbGl6ZSIsImdldFBsYXllciIsIk1vdmVUYW5rQ29tbWFuZCIsImRpcmVjdGlvbiIsInNldFZlbG9jaXR5WSIsInNldFZlbG9jaXR5WCIsIlBhdXNlR2FtZUNvbW1hbmQiLCJpc1BhdXNlZCIsInNldFBhdXNlU3RhdGUiLCJjb25uZWN0aW9uTWFuYWdlciIsImNvbm5lY3RlZENvdW50IiwiaXNDb25uZWN0ZWQiLCJsYXN0Q2hlY2tUaW1lIiwiY2hlY2tJbnRlcnZhbCIsImxpc3RlbmVycyIsInNlc3Npb25JZCIsImdlbmVyYXRlU2Vzc2lvbklkIiwiaW50ZXJ2YWxJZCIsInN0YXJ0UG9sbGluZyIsIkRhdGUiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsImNoZWNrQ29ubmVjdGlvbiIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiSlNPTiIsInN0cmluZ2lmeSIsIm9rIiwiZGF0YSIsImpzb24iLCJjb25uZWN0ZWQiLCJub3RpZnlMaXN0ZW5lcnMiLCJjb3VudCIsInN1Y2Nlc3MiLCJoYW5kbGVEaXNjb25uZWN0aW9uIiwiZXJyb3IiLCJjb25zb2xlIiwiYWRkTGlzdGVuZXIiLCJyZW1vdmVMaXN0ZW5lciIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImxpc3RlbmVyIiwiZ2V0U3RhdHVzIiwic2V0SW50ZXJ2YWwiLCJzdG9wUG9sbGluZyIsImNsZWFySW50ZXJ2YWwiLCJHYW1lU2NlbmUiLCJpbml0IiwiaW5wdXRNYXBwaW5ncyIsImJhbGwiLCJwb3dlclVwR2VuZXJhdG9yIiwiZXNjV2FzRG93biIsInByb2Nlc3NvciIsImlzR2FtZU92ZXIiLCJncm91cCIsImNyZWF0ZUJvdW5kcyIsInN0YXRpY0dyb3VwIiwic2V0VXBQbGF5ZXJzIiwidmlkYXNKdWdhZG9yZXMiLCJlc2NLZXkiLCJpbnB1dCIsImtleWJvYXJkIiwiYWRkS2V5IiwiS2V5Ym9hcmQiLCJLZXlDb2RlcyIsIkVTQyIsImNvbm5lY3Rpb25MaXN0ZW5lciIsImlzQWN0aXZlIiwib25Db25uZWN0aW9uTG9zdCIsIm9uU2h1dGRvd24iLCJyZW1vdmVLZXlzIiwicmVtb3ZlQ2FwdHVyZSIsImxhdW5jaCIsInByZXZpb3VzU2NlbmUiLCJwYXVzZSIsImJyaW5nVG9Ub3AiLCJ2aWRhUGxheWVyMSIsInZpZGFQbGF5ZXIyIiwic2V0Um90YXRpb24iLCJ2aWRhMSIsInZpZGEyIiwicGxheWVySWQiLCJ2aWRhc1Jlc3RhbnRlcyIsInZpZGFBcnJheSIsInBvcCIsIm51ZXZhVmlkYSIsImdhbmFkb3IiLCJ0YW5rMSIsInRhbmsyIiwic2V0IiwidXBLZXkiLCJkb3duS2V5IiwicmlnaHRLZXkiLCJsZWZ0S2V5IiwibWFwIiwiY29uZmlnIiwidXBLZXlPYmoiLCJkb3duS2V5T2JqIiwicmlnaHRLZXlPYmoiLCJsZWZ0S2V5T2JqIiwic2NvcmVMZWZ0R29hbCIsInBsYXllcjEiLCJzY29yZSIsImVuZEdhbWUiLCJyZXNldEJhbGwiLCJzY29yZVJpZ2h0R29hbCIsInBsYXllcjIiLCJ3aW5uZXJJZCIsIndpbm5lclRleHQiLCJzZXRDb2xvciIsInNldFBvc2l0aW9uIiwibGF1bmNoQmFsbCIsIkJldHdlZW4iLCJjcmVhdGVCYWxsIiwiZ3JhcGhpY3MiLCJmaWxsU3R5bGUiLCJmaWxsQ2lyY2xlIiwiZ2VuZXJhdGVUZXh0dXJlIiwic2V0SW1tb3ZhYmxlIiwib3JpZ2luYWxTY2VuZSIsInJlc3VtZSIsInRvZ2dsZVBhdXNlIiwibmV3UGF1c2VTdGF0ZSIsImlzRG93biIsIm1hcHBpbmciLCJtb3ZlQ29tbWFuZCIsIlBhdXNlU2NlbmUiLCJyZXN1bWVCdG4iLCJzdG9wIiwiaGFuZGxlWCIsIkNsYW1wIiwicmVjdGFuZ2xlIiwic2xpZGVySGFuZGxlIiwiY2lyY2xlIiwiZHJhZ2dhYmxlIiwic2V0RHJhZ2dhYmxlIiwicG9pbnRlciIsImdhbWVPYmplY3QiLCJkcmFnWCIsIm11dGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJwYWRkaW5nIiwiQ3JlZGl0U2NlbmUiLCJPbmxpbmVTY2VuZSIsIm1hdHRlciIsImhhbmRsZUxvZ2luIiwicmVjdCIsImdhbWUiLCJjYW52YXMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJpbnB1dE5hbWUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJwbGFjZWhvbGRlciIsInN0eWxlIiwicG9zaXRpb24iLCJhcHBlbmRDaGlsZCIsImNvbm5lY3Rpb25UZXh0MiIsInVwZGF0ZUNvbm5lY3Rpb25EaXNwbGF5Iiwibm9tYnJlIiwidmFsdWUiLCJ0cmltIiwibG9nIiwidXNlciIsImdldFBsYXllckJ5TmFtZSIsImlzQXJyYXkiLCJ1cGRhdGVQbGF5ZXIiLCJhdmF0YXIiLCJjcmVhdGVQbGF5ZXIiLCJuYW1lIiwid2lucyIsInBsYXllck5hbWUiLCJzZXRUZXh0IiwiRXJyb3IiLCJzdGF0dXMiLCJmaW5kIiwidSIsInVwZGF0ZXMiLCJyZW1vdmVDaGlsZCIsIlR1dG9yaWFsU2NlbmUiLCJHYW1lT3ZlclNjZW5lIiwiZ2FuYWRvcktleSIsImluY2x1ZGVzIiwidG9ycmUiLCJPcHRpb25zU2NlbmUiLCJzbGlkZXJCYXIiLCJjdXJyZW50Vm9sdW1lIiwiQ29ubmVjdGlvbkxvc3RTY2VuZSIsInJlY29ubmVjdENoZWNrSW50ZXJ2YWwiLCJzdGF0dXNUZXh0IiwiYXR0ZW1wdENvdW50IiwiYXR0ZW1wdFRleHQiLCJkb3RDb3VudCIsImRvdHMiLCJvblJlY29ubmVjdGVkIiwiYXR0ZW1wdFJlY29ubmVjdCIsInNodXRkb3duIiwiT25saW5lR2FtZVNjZW5lIiwid3MiLCJwbGF5ZXJSb2xlIiwicm9vbUlkIiwibG9jYWxUYW5rIiwicmVtb3RlVGFuayIsImF2YXRhcjEiLCJhdmF0YXIyIiwibmFtZTEiLCJuYW1lMiIsImRpc3BvbmlibGVzIiwiZmlsdGVyIiwiZSIsImVsZWdpZG8iLCJjdXJzb3JzIiwiY3JlYXRlQ3Vyc29yS2V5cyIsInNldHVwV2ViU29ja2V0TGlzdGVuZXJzIiwicG93ZVVwR2VuZXJhdG9yIiwib25tZXNzYWdlIiwiZXZlbnQiLCJwYXJzZSIsImhhbmRsZVNlcnZlck1lc3NhZ2UiLCJvbmNsb3NlIiwiZ2FtZUVuZGVkIiwib25lcnJvciIsIm1vdmVDb21tYW5kMiIsImFjdGlvbiIsImxpdmVzIiwicG93ZXJVcCIsInRpcG8iLCJyb2xlIiwid2lubmVyIiwiY3JlYXRlTWVudUJ1dHRvbiIsInJlYWR5U3RhdGUiLCJXZWJTb2NrZXQiLCJPUEVOIiwiY2xvc2UiLCJzZW5kTWVzc2FnZSIsIm1lc3NhZ2UiLCJzZW5kIiwidXAiLCJkb3duIiwiTG9iYnlTY2VuZSIsIlNjZW5lIiwiY2FtZXJhcyIsIm1haW4iLCJwbGF5ZXJDb3VudFRleHQiLCJjYW5jZWxCdXR0b24iLCJsZWF2ZVF1ZXVlIiwiY29ubmVjdFRvU2VydmVyIiwid3NVcmwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhvc3QiLCJvbm9wZW4iLCJjb2xvcnAxIiwiY29sb3JwMiIsIm5hbWVwMSIsIm5hbWVwMiIsInBhcmVudCIsImRlZmF1bHQiLCJhcmNhZGUiLCJncmF2aXR5IiwiZGVidWciXSwic291cmNlUm9vdCI6IiJ9
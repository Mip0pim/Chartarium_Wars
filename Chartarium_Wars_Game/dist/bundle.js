(()=>{"use strict";var e={n:t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return e.d(s,{a:s}),s},d:(t,s)=>{for(var i in s)e.o(s,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:s[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=Phaser;var s=e.n(t);const i=new class{constructor(){this.connectedCount=0,this.isConnected=!1,this.lastCheckTime=0,this.checkInterval=2e3,this.listeners=[],this.sessionId=this.generateSessionId(),this.intervalId=null,this.startPolling()}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async checkConnection(){try{const e=await fetch("/api/connected",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.sessionId})});if(e.ok){const t=await e.json();return this.connectedCount=t.connected,this.isConnected=!0,this.lastCheckTime=Date.now(),this.notifyListeners({connected:!0,count:this.connectedCount}),{connected:this.connectedCount,success:!0}}return this.handleDisconnection(),{connected:0,success:!1}}catch(e){return console.error("Error checking connection:",e),this.handleDisconnection(),{connected:0,success:!1}}}handleDisconnection(){this.isConnected=!1,this.connectedCount=0,this.notifyListeners({connected:!1,count:0})}addListener(e){this.listeners.push(e)}removeListener(e){const t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}notifyListeners(e){this.listeners.forEach(t=>t(e))}getStatus(){return{isConnected:this.isConnected,connectedCount:this.connectedCount,lastCheckTime:this.lastCheckTime}}startPolling(){this.intervalId||(this.checkConnection(),this.intervalId=setInterval(()=>{this.checkConnection()},this.checkInterval))}stopPolling(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}};class a extends s().Scene{constructor(){super("MenuScene")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("Logo","imagenes/Logo.png"),this.load.image("BTNPlayer","imagenes/LocalBtnCW.png"),this.load.image("BTNCredit","imagenes/CreditosCW.png"),this.load.image("BTNOnline","imagenes/OnlineBtnCW.png"),this.load.image("BTNMenu","imagenes/MenuCW.png"),this.load.image("BTNTutorial","imagenes/TutorialCW.png"),this.load.audio("musica","audio/musica.mp3"),this.load.audio("sfx","audio/menusfx.mp3")}create(){let e=this.sound.get("musica");e||(e=this.sound.add("musica",{loop:!0,volume:.4}),e.play()),this.add.image(400,300,"Fondo"),this.add.image(400,180,"Logo").setOrigin(.5).setScale(1.1);const t=this.add.image(280,410,"BTNPlayer").setOrigin(.5).setInteractive({useHandCursor:!0});t.setScale(.19).on("pointerover",()=>{t.setScale(.2)}).on("pointerout",()=>{t.setScale(.19)}).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("SelectColor")});const s=this.add.image(520,410,"BTNOnline").setOrigin(.5).setInteractive({useHandCursor:!0});s.setScale(.19).on("pointerover",()=>{s.setScale(.2)}).on("pointerout",()=>{s.setScale(.19)}).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("OnlineScene")});const a=this.add.image(280,507,"BTNTutorial").setOrigin(.5).setScale(.3).setInteractive({useHandCursor:!0}).on("pointerover",()=>{a.setScale(.33)}).on("pointerout",()=>{a.setScale(.3)}).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("TutorialScene")}),o=this.add.image(520,500,"BTNCredit").setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{o.setScale(1.1)}).on("pointerout",()=>{o.setScale(1)}).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("CreditScene")}),n=this.add.text(680,350,"Opciones",{fontSize:"40px",color:"#000000ff",fontStyle:"bold"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{n.setScale(1.1)}).on("pointerout",()=>{n.setScale(1)}).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("OptionsScene")});this.connectionText=this.add.text(525,510,"Servidor: Comprobando...",{fontSize:"18px",color:"#ffff00"}).setOrigin(.5),this.connectionListener=e=>{this.updateConnectionDisplay(e)},i.addListener(this.connectionListener)}updateConnectionDisplay(e){if(this.connectionText&&this.scene&&this.scene.isActive("MenuScene"))try{e.connected?(this.connectionText.setText(`Servidor: ${e.count} usuario(s) conectado(s)`),this.connectionText.setColor("#00ff00")):(this.connectionText.setText("Servidor: Desconectado"),this.connectionText.setColor("#ff0000"))}catch(e){console.error("[MenuScene] Error updating connection display:",e)}}shutdown(){this.connectionListener&&i.removeListener(this.connectionListener)}}class o extends s().Scene{constructor(){super("SelectColor")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("BaseRed","imagenes/TanqueRojoCW.png"),this.load.image("TorretaRed","imagenes/CanonRojoCW.png"),this.load.image("BaseGreen","imagenes/TanqueVerdeCW.png"),this.load.image("TorretaGreen","imagenes/CanonVerdeCW.png"),this.load.image("BaseBlue","imagenes/TanqueAzulCW.png"),this.load.image("TorretaBlue","imagenes/CanonAzulCW.png"),this.load.image("BaseYellow","imagenes/TanqueAmarilloCW.png"),this.load.image("TorretaYellow","imagenes/CanonAmarilloCW.png"),this.load.image("Play","imagenes/PLAYCW.png"),this.load.image("BTNMenu","imagenes/MenuCW.png"),this.load.image("P","imagenes/Pcw.png"),this.load.image("1","imagenes/1CW.png"),this.load.image("2","imagenes/2CW.png"),this.load.image("Bubble","imagenes/BurbujaCW.png"),this.load.image("Elige","imagenes/EligeColorCW.png"),this.load.audio("sfx","audio/menusfx.mp3")}create(){this.add.image(400,300,"Fondo"),this.add.image(400,50,"Elige").setOrigin(.5).setScale(.3),this.colorPlayer1=null,this.colorPlayer2=null,this.add.image(190,120,"P").setOrigin(.5).setScale(.3),this.add.image(240,122,"1").setOrigin(.5).setScale(.3),this.add.image(590,120,"P").setOrigin(.5).setScale(.3),this.add.image(640,120,"2").setOrigin(.5).setScale(.3),this.p1Options=[],this.p2Options=[];const e=(e,t,s,i)=>{const a=this.add.image(0,0,`Base${s}`).setScale(1.2).setDepth(10),o=this.add.image(0,0,`Torreta${s}`).setScale(1.2).setOrigin(.2,.5).setDepth(15),n=this.add.image(0,0,"Bubble").setScale(1.6).setDepth(40);n.setVisible(!1);const r=this.add.container(e,t,[a,o,n]);return r.setSize(1.2*a.width,1.2*a.height),r.setInteractive({useHandCursor:!0}),r.setData("colorKey",s),r.setData("selected",!1),r.setData("disabled",!1),r.setData("highlight",n),r.on("pointerover",()=>{r.setScale(1.3)}),r.on("pointerout",()=>{r.setScale(1)}),r.on("pointerup",()=>{r.getData("disabled")||i(s,r)}),r},t=["Red","Blue","Green","Yellow"];t.forEach((t,s)=>{const i=e(200,180+100*s,t,(e,t)=>{this.colorPlayer1=e,this.markSelected(this.p1Options,t),this.updateDisabledStates()});this.p1Options.push(i)}),t.forEach((t,s)=>{const i=e(600,180+100*s,t,(e,t)=>{this.colorPlayer2=e,this.markSelected(this.p2Options,t),this.updateDisabledStates()});this.p2Options.push(i)});const s=this.add.image(400,300,"Play").setOrigin(.5).setInteractive({useHandCursor:!0});s.setScale(.25).on("pointerover",()=>{s.setScale(.28)}).on("pointerout",()=>{s.setScale(.25)}),s.on("pointerup",()=>{this.colorPlayer1&&this.colorPlayer2&&this.colorPlayer1!==this.colorPlayer2&&(this.sound.play("sfx",{volume:.5}),this.scene.start("GameScene",{colorPlayer1:this.colorPlayer1,colorPlayer2:this.colorPlayer2}))});const i=this.add.image(400,550,"BTNMenu").setOrigin(.5).setScale(.3).setInteractive({useHandCursor:!0}).on("pointerover",()=>i.setScale(.33)).on("pointerout",()=>i.setScale(.3)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("MenuScene")})}markSelected(e,t){e.forEach(e=>{e.setData("selected",!1),e.getData("highlight").setVisible(!1)}),t.setData("selected",!0),t.getData("highlight").setVisible(!0)}updateDisabledStates(){this.p1Options.forEach(e=>{const t=e.getData("colorKey"),s=this.colorPlayer2&&t===this.colorPlayer2;this.setOptionDisabled(e,s)}),this.p2Options.forEach(e=>{const t=e.getData("colorKey"),s=this.colorPlayer1&&t===this.colorPlayer1;this.setOptionDisabled(e,s)})}setOptionDisabled(e,t){e.setData("disabled",t),t?(e.disableInteractive(),e.setAlpha(.3),e.setData("selected",!1),e.getData("highlight").setVisible(!1)):(e.setInteractive({useHandCursor:!0}),e.setAlpha(1))}}class n{constructor(e,t,s,i,a,o){this.scene=e,this.x=t,this.y=s,this.color=o,this.myTurret=i,this.dir=a,this.baseSpeed=200,this.speedMult=1,this.canCollide=!0,this.bounces=3,this.canDamage=!1,setTimeout(()=>{this.canDamage=!0},200),"Red"===this.color&&(this.sprite=this.scene.physics.add.sprite(t,s,"BalaRed")),"Green"===this.color&&(this.sprite=this.scene.physics.add.sprite(t,s,"BalaGreen")),"Blue"===this.color&&(this.sprite=this.scene.physics.add.sprite(t,s,"BalaBlue")),"Yellow"===this.color&&(this.sprite=this.scene.physics.add.sprite(t,s,"BalaYellow")),this.sprite.body.allowGravity=!1,this.sprite.setCollideWorldBounds(!0),this.sprite.setSize(20,15),this.sprite.setBounce(.8),this.sprite.rotation=this.dir,this.sprite.setDepth(5),this.setDir(),this.scene.events.on("update",this.update,this),this.createCollisions()}setDir(){this.sprite.setVelocity(Math.cos(this.dir)*this.baseSpeed*this.speedMult,Math.sin(this.dir)*this.baseSpeed*this.speedMult)}update(){if(this.sprite.body){const e=this.sprite.body.velocity.x,t=this.sprite.body.velocity.y;this.sprite.rotation=Math.atan2(t,e)}}destroy(){this.bounces-=1,this.bounces<1&&this.destroyBullet()}destroyBullet(){this.scene.events.off("update",this.update,this),this.sprite.destroy()}createCollisions(){this.scene.physics.add.collider(this.scene.left,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.right,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.top,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.bottom,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.block1,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.block2,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.centro1,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.centro2,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.centro3,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.palo1,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.palo2,this.sprite,()=>{this.destroy()}),this.scene.players.forEach(e=>{this.scene.physics.add.collider(this.sprite,e.sprite,()=>{this.canDamage&&(e.receiveDamage(1),this.destroyBullet())})})}}class r{constructor(e,t,i,a,o){this.myTank=t,this.scene=e,this.x=i,this.y=a,this.angle=i>400?Math.PI:0,this.color=o,this.target=null,this.rotateSpeed=s().Math.DegToRad(1),this.canShoot=!1,this.perfectAngle=i>400?Math.PI:0,this.leftAngle=75,this.rightAngle=105,"Red"===this.color&&(this.sprite=this.scene.physics.add.sprite(i,a,"TorretaRed")),"Green"===this.color&&(this.sprite=this.scene.physics.add.sprite(i,a,"TorretaGreen")),"Blue"===this.color&&(this.sprite=this.scene.physics.add.sprite(i,a,"TorretaBlue")),"Yellow"===this.color&&(this.sprite=this.scene.physics.add.sprite(i,a,"TorretaYellow")),this.sprite.body.allowGravity=!1,this.sprite.setOrigin(.15,.5),this.SetPosition=(e,t)=>{this.sprite.x=e,this.sprite.y=t},this.sprite.setDepth(10),this.powerUpBullet=null,this.sprite.rotation=this.angle,this.fireEvent=null}rotate(){this.aim(),this.angle=this.perfectAngle,this.sprite.rotation=this.angle}fire(){this.myTank.canShoot&&null===this.powerUpBullet&&this.canShoot&&new n(this.scene,this.myTank.GetX(),this.myTank.GetY(),this,this.sprite.rotation,this.color)}shoot(e){this.canShoot=e,this.startAutoFire()}setTarget(e){this.target=e}aim(){if(!this.target)return;const e=this.target.GetX()-this.sprite.x,t=this.target.GetY()-this.sprite.y;this.perfectAngle=Math.atan2(t,e),this.leftAngle=this.perfectAngle+s().Math.DegToRad(30),this.rightAngle=this.perfectAngle-s().Math.DegToRad(30)}startAutoFire(){this.fireEvent||(this.fireEvent=this.scene.time.addEvent({delay:1e3,callback:()=>this.fire(),loop:!0}))}destroy(){this.fireEvent&&this.fireEvent.remove(!1),this.sprite.destroy(),this.target=null,this.myTank=null}setalpha(e){this.sprite.setAlpha(e)}}class h{constructor(e,t,s,i,a){this.id=t,this.scene=e,this.dirX=0,this.dirY=0,this.baseSpeed=120,this.speedMultiplier=1,this.x=s,this.y=i,this.color=a,this.target=null,this.vidas=5,this.invulnerable=!1,this.canShoot=!0,this.noShootUntil=0,"Red"===this.color&&(this.sprite=this.scene.physics.add.sprite(s,i,"BaseRed"),this.sprite.setSize(40,35)),"Green"===this.color&&(this.sprite=this.scene.physics.add.sprite(s,i,"BaseGreen"),this.sprite.setSize(42,35)),"Blue"===this.color&&(this.sprite=this.scene.physics.add.sprite(s,i,"BaseBlue"),this.sprite.setSize(45,35)),"Yellow"===this.color&&(this.sprite=this.scene.physics.add.sprite(s,i,"BaseYellow"),this.sprite.setSize(45,35)),this.sprite.setCollideWorldBounds(!0),this.sprite.body.allowGravity=!1,this.sprite.setDepth(8),this.turret=new r(e,this,s,i,this.color),this.GetX=()=>this.sprite.x,this.GetY=()=>this.sprite.y}SetTarget(e){this.target=e,this.turret.setTarget(this.target)}receiveDamage(e){this.invulnerable||(this.vidas-=e,this.scene.actualizarVidas(this.id,this.vidas),this.vidas<=0?this.destroy():this.makeInvulnerable())}makeInvulnerable(){this.invulnerable=!0;let e=0;this.scene.time.addEvent({delay:200,repeat:5,callback:()=>{this.sprite.setAlpha(1===this.sprite.alpha?.3:1),this.turret.setalpha(1===this.turret.sprite.alpha?.3:1),e++,e>=5&&(this.sprite.setAlpha(1),this.turret.setalpha(1),this.invulnerable=!1)}})}applyNoShoot(e){const t=this.scene.time.now;this.noShootUntil=Math.max(this.noShootUntil,t+e),this.canShoot=!1,this.scene.time.delayedCall(e,()=>{this.scene.time.now>=this.noShootUntil&&(this.canShoot=!0)})}destroy(){this.sprite.destroy(),this.turret.destroy()}}class l{constructor(e,t,s,i,a){this.scene=e,this.generator=a,this.x=t,this.y=s,this.type=i,"Heal"===i&&(this.sprite=this.scene.physics.add.sprite(t,s,"Vida").setScale(.05)),"Speed"===i&&(this.sprite=this.scene.physics.add.sprite(t,s,"Bubble")),"Shield"===i&&(this.sprite=this.scene.physics.add.sprite(t,s,"BaseBlue")),"NoShoot"===i&&(this.sprite=this.scene.physics.add.sprite(t,s,"Bubble")),this.sprite.setDepth(1),this.createCollistions(),this.scene.powerUpsGroup.add(this.sprite),console.log("Display:",this.sprite.displayWidth,this.sprite.displayHeight,"Body:",this.sprite.body.width,this.sprite.body.height)}aplyPowerUp(e,t){switch(t){case"Heal":e.vidas<5&&(e.vidas+=1,this.scene.actualizarVidas(e.id,e.vidas));break;case"Speed":e.speedMultiplier=1.5,this.scene.time.delayedCall(5e3,()=>{e.speedMultiplier=1},[],this);break;case"Shield":e.invulnerable=!0,this.scene.time.delayedCall(5e3,()=>{e.invulnerable=!1},[],this);break;case"NoShoot":e.applyNoShoot(5e3)}}createCollistions(){this.scene.players.forEach(e=>{this.scene.physics.add.collider(this.sprite,e.sprite,()=>{let t=null;this.scene.players.forEach(s=>{s!==e&&(t=s)});const s=new Set(["NoShoot"]).has(this.type)?t??e:e;this.aplyPowerUp(s,this.type),this.sprite.destroy(),this.generator.maxPowerUps-=1})})}}class d{constructor(e,t){this.scene=e,this.interval=t,this.types=["Heal","Speed","Shield","NoShoot"],this.positionsX=[100,700,700,100,400],this.positionsY=[150,500,150,500,300],this.maxPowerUps=0,this.startGenerating()}startGenerating(){this.scene.time.addEvent({delay:this.interval,callback:()=>this.generatePowerUp(),loop:!0})}isSpawnValid(e,t){const s=this.scene.add.zone(e,t,40,40);this.scene.physics.add.existing(s),s.body.allowGravity=!1;const i=this.scene.physics.overlap(s,this.scene.obstacles),a=!!this.scene.powerUpsGroup&&this.scene.physics.overlap(s,this.scene.powerUpsGroup);return s.destroy(),!i&&!a}generatePowerUp(){if(this.maxPowerUps>=3)return;const e=s().Utils.Array.Shuffle([...Array(this.positionsX.length).keys()]);for(const t of e){const e=this.positionsX[t],i=this.positionsY[t];if(this.isSpawnValid(e,i)){const t=s().Utils.Array.GetRandom(this.types);return new l(this.scene,e,i,t,this),void(this.maxPowerUps+=1)}}}}class c{constructor(){this.players=new Map,this.gameScene=null}setPlayers(e){this.players=e}setGameScene(e){this.gameScene=e}process(e){e.execute()}}class p{execute(){}serialize(){}getPlayer(){}}class u extends p{constructor(e,t){super(),this.tank=e,this.direction=t}execute(){if("up"===this.direction?(this.tank.sprite.setVelocityY(-this.tank.baseSpeed*this.tank.speedMultiplier),this.tank.turret.rotate(),this.tank.turret.shoot(!1)):"down"===this.direction?(this.tank.sprite.setVelocityY(+this.tank.baseSpeed*this.tank.speedMultiplier),this.tank.turret.rotate(),this.tank.turret.shoot(!1)):"right"===this.direction?(this.tank.sprite.setVelocityX(this.tank.baseSpeed*this.tank.speedMultiplier),this.tank.turret.rotate(),this.tank.turret.shoot(!1)):"left"===this.direction?(this.tank.sprite.setVelocityX(-this.tank.baseSpeed*this.tank.speedMultiplier),this.tank.turret.rotate(),this.tank.turret.shoot(!1)):(this.tank.sprite.setVelocityY(0),this.tank.sprite.setVelocityX(0),this.tank.turret.sprite.setVelocityY(0),this.tank.turret.sprite.setVelocityX(0),this.tank.turret.shoot(!0)),this.tank.turret.SetPosition(this.tank.GetX(),this.tank.GetY()),this.tank.turret.aim(),this.tank.sprite.body){const e=this.tank.sprite.body.velocity.x,t=this.tank.sprite.body.velocity.y;this.tank.sprite.rotation=Math.atan2(t,e)+Math.PI/2}}}class g extends p{constructor(e,t){super(),this.gameScene=e,this.isPaused=t}execute(){this.gameScene.setPauseState(this.isPaused)}}class y extends s().Scene{constructor(){super("GameScene")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("Vida","imagenes/VidaCW.png"),this.load.image("Bubble","imagenes/BurbujaCW.png"),this.load.image("MedioMapa","imagenes/MedioObstaculoCW.png"),this.load.image("Palo","imagenes/PaloObstaculoCW.png"),this.load.image("BloqueSimple","imagenes/TileMuro.png"),this.load.image("BottomTopWall","imagenes/BottomTopCW.png"),this.load.image("LeftRightWall","imagenes/LeftRightCW.png"),this.load.image("BaseRed","imagenes/TanqueRojoCW.png"),this.load.image("TorretaRed","imagenes/CanonRojoCW.png"),this.load.image("BalaRed","imagenes/BalaNRojoCw.png"),this.load.image("BaseGreen","imagenes/TanqueVerdeCW.png"),this.load.image("TorretaGreen","imagenes/CanonVerdeCW.png"),this.load.image("BalaGreen","imagenes/BalaNVerdeCW.png"),this.load.image("BaseBlue","imagenes/TanqueAzulCW.png"),this.load.image("TorretaBlue","imagenes/CanonAzulCW.png"),this.load.image("BalaBlue","imagenes/BalaNAzulCW.png"),this.load.image("BaseYellow","imagenes/TanqueAmarilloCW.png"),this.load.image("TorretaYellow","imagenes/CanonAmarilloCW.png"),this.load.image("BalaYellow","imagenes/BalaNAmarilloCW.png"),this.load.image("MuroBloque6","imagenes/MedioObstaculoCW.png"),this.load.image("Bloque","imagenes/TileMuro.png"),this.load.image("Palo","imagenes/PaloObstaculoCW.png")}init(e){this.players=new Map,this.inputMappings=[],this.ball=null,this.powerUpGenerator=null,this.isPaused=!1,this.escWasDown=!1,this.processor=new c,this.isGameOver=!1,this.colorPlayer1=e?.colorPlayer1,this.colorPlayer2=e?.colorPlayer2}create(){this.powerUpsGroup=this.physics.add.group(),this.add.image(400,300,"Fondo"),this.createBounds(),this.obstacles=this.physics.add.staticGroup(this.top,this.bottom,this.left,this.right,this.block1,this.block2,this.centro1,this.centro2,this.centro3,this.palo1,this.palo2),this.setUpPlayers(),this.createCollisions(),this.vidasJugadores(),this.powerUpGenerator=new d(this,1e4),this.escKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.ESC)}vidasJugadores(){this.vidaPlayer1=[],this.vidaPlayer2=[],this.add.image(10,20,`Base${this.players.get("player1").color}`).setOrigin(0,0),this.add.image(740,20,`Base${this.players.get("player2").color}`).setOrigin(0,0),this.add.image(35,40,`Torreta${this.players.get("player1").color}`).setOrigin(.15,.5),this.add.image(765,40,`Torreta${this.players.get("player2").color}`).setOrigin(.15,.5).setRotation(Math.PI);for(let e=0;e<5;e++){const t=this.add.image(90+30*e,35,"Vida").setScale(.05);this.vidaPlayer1.push(t);const s=this.add.image(710-30*e,35,"Vida").setScale(.05);this.vidaPlayer2.push(s)}}actualizarVidas(e,t){const s="player1"===e?this.vidaPlayer1:this.vidaPlayer2;if(s.length>t&&s.pop().destroy(),s.length<t){if("player1"===e){const e=this.add.image(90+30*s.length,35,"Vida").setScale(.05);s.push(e)}if("player2"===e){const e=this.add.image(710-30*s.length,35,"Vida").setScale(.05);s.push(e)}}t<=0&&(this.isGameOver=!0,this.scene.start("GameOverScene",{ganador:"player1"===e?"player2":"player1",color:this.players.get("player1"===e?"player2":"player1").color}))}setUpPlayers(){const e=new h(this,"player1",90,300,this.colorPlayer1),t=new h(this,"player2",710,300,this.colorPlayer2);e.SetTarget(t),t.SetTarget(e),this.players.set("player1",e),this.players.set("player2",t),this.inputMappings=[{playerId:"player1",upKey:"W",downKey:"S",rightKey:"D",leftKey:"A"},{playerId:"player2",upKey:"UP",downKey:"DOWN",rightKey:"RIGHT",leftKey:"LEFT"}].map(e=>({playerId:e.playerId,upKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.upKey]),downKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.downKey]),rightKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.rightKey]),leftKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.leftKey])}))}scoreLeftGoal(){const e=this.players.get("player1");e.score-=1,e.score>=2?this.endGame("player1"):this.resetBall()}scoreRightGoal(){const e=this.players.get("player2");e.score+=1,this.add.image(700+30*(e.score-1),100,"Vida").setScale(.5),e.score>=2?this.endGame("player2"):this.resetBall()}endGame(e){this.ball.setVelocity(0,0),this.players.forEach(e=>{e.sprite.setVelocity(0,0)}),this.physics.pause();const t="player1"===e?"Player 1 Wins!":"Player 2 Wins!";this.add.text(400,250,t,{fontSize:"64px",color:"#00ff00"}).setOrigin(.5);const s=this.add.text(400,350,"Return to Main Menu",{fontSize:"32px",color:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>s.setColor("#cccccc")).on("pointerout",()=>s.setColor("#ffffff")).on("pointerdown",()=>{this.scene.start("MenuScene")})}resetBall(){this.ball.setVelocity(0,0),this.ball.setPosition(400,300),this.time.delayedCall(1e3,()=>{this.launchBall()})}launchBall(){const e=s().Math.Between(-30,30),t=Math.random()<.5?1:-1;this.ball.setVelocity(300*Math.cos(s().Math.DegToRad(e))*t,300*Math.sin(s().Math.DegToRad(e)))}createBall(){const e=this.add.graphics();e.fillStyle(16777215),e.fillCircle(8,8,8),e.generateTexture("ball",16,16),e.destroy(),this.ball=this.physics.add.sprite(400,300,"ball"),this.ball.setCollideWorldBounds(!0),this.ball.setBounce(1)}createBounds(){this.top=this.physics.add.sprite(400,83,"BottomTopWall"),this.top.setImmovable(!0),this.top.body.setSize(765,45),this.bottom=this.physics.add.sprite(400,577,"BottomTopWall"),this.bottom.setImmovable(!0),this.bottom.body.setSize(765,45),this.left=this.physics.add.sprite(40,330,"LeftRightWall"),this.left.setImmovable(!0),this.left.body.setSize(45,450),this.right=this.physics.add.sprite(760,330,"LeftRightWall"),this.right.setImmovable(!0),this.right.body.setSize(45,450),this.block1=this.physics.add.sprite(400,198,"MuroBloque6"),this.block1.setImmovable(!0),this.block2=this.physics.add.sprite(400,462,"MuroBloque6"),this.block2.setImmovable(!0),this.centro1=this.physics.add.sprite(400,352,"Bloque"),this.centro1.setImmovable(!0),this.centro2=this.physics.add.sprite(355,307,"Bloque"),this.centro2.setImmovable(!0),this.centro3=this.physics.add.sprite(445,307,"Bloque"),this.centro3.setImmovable(!0),this.palo1=this.physics.add.sprite(648,439,"Palo"),this.palo1.setImmovable(!0),this.palo2=this.physics.add.sprite(152,218,"Palo"),this.palo2.setImmovable(!0)}createCollisions(){this.players.forEach(e=>{this.physics.add.collider(this.left,e.sprite),this.physics.add.collider(this.right,e.sprite),this.physics.add.collider(this.top,e.sprite),this.physics.add.collider(this.bottom,e.sprite),this.physics.add.collider(this.block1,e.sprite),this.physics.add.collider(this.block2,e.sprite),this.physics.add.collider(this.centro1,e.sprite),this.physics.add.collider(this.centro2,e.sprite),this.physics.add.collider(this.centro3,e.sprite),this.physics.add.collider(this.palo1,e.sprite),this.physics.add.collider(this.palo2,e.sprite)})}setPauseState(e){this.isPaused=e,e&&(this.scene.launch("PauseScene",{originalScene:"GameScene"}),this.scene.pause())}resume(){this.isPaused=!1}togglePause(){const e=!this.isPaused;this.processor.process(new g(this,e))}update(){this.isGameOver||(this.escKey.isDown&&!this.escWasDown&&this.togglePause(),this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);let s=null;s=e.upKeyObj.isDown?"up":e.downKeyObj.isDown?"down":e.leftKeyObj.isDown?"left":e.rightKeyObj.isDown?"right":"stop";let i=new u(t,s);this.processor.process(i)}))}}class m extends s().Scene{constructor(){super("PauseScene")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("BTNPause","imagenes/PausaCW.png"),this.load.image("BTNMenu","imagenes/MenuCW.png"),this.load.image("BTNContinue","imagenes/ContinuarCW.png"),this.load.audio("sfx","audio/menusfx.mp3")}create(e){this.add.image(400,300,"Fondo"),this.add.image(400,200,"BTNPause").setOrigin(.5).setScale(.6);const t=this.add.image(400,310,"BTNContinue").setOrigin(.5).setScale(.25).setInteractive({useHandCursor:!0}).on("pointerover",()=>t.setScale(.28)).on("pointerout",()=>t.setScale(.25)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.stop(),this.scene.resume(e.originalScene),this.scene.get(e.originalScene).resume()}),s=this.add.image(400,400,"BTNMenu").setOrigin(.5).setScale(.4).setInteractive({useHandCursor:!0}).on("pointerover",()=>s.setScale(.43)).on("pointerout",()=>s.setScale(.4)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.stop("GameScene"),this.scene.stop(),this.scene.start("MenuScene")})}}class S extends s().Scene{constructor(){super("CreditScene")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("BTNCredit","imagenes/CreditosCW.png"),this.load.image("Autores","imagenes/AutoresCW.png"),this.load.audio("sfx","audio/menusfx.mp3")}create(){this.add.image(400,310,"Fondo"),this.add.image(400,90,"BTNCredit").setOrigin(.5).setScale(1.5),this.add.text(400,180,"Creado por:",{fontSize:"40px",color:"#000000ff",fontStyle:"bold"}).setOrigin(.5),this.add.image(400,300,"Autores").setScale(.3),this.add.text(400,445,"Música de Tiny Tanks",{fontSize:"36px",color:"#000000ff",fontStyle:"bold"}).setOrigin(.5);const e=this.add.image(400,525,"BTNMenu").setOrigin(.5).setScale(.4).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setScale(.43)).on("pointerout",()=>e.setScale(.4)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("MenuScene")})}}class f extends s().Scene{constructor(){super("OnlineScene")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.audio("sfx","audio/menusfx.mp3")}create(){this.add.image(400,310,"Fondo"),this.add.image(400,90,"BTNOnline").setOrigin(.5).setScale(.33),this.add.text(400,310,"La funcionalidad online no está disponible en esta versión",{fontSize:"22px",color:"#000000ff",fontStyle:"bold"}).setOrigin(.5);const e=this.add.image(400,525,"BTNMenu").setOrigin(.5).setScale(.4).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setScale(.43)).on("pointerout",()=>e.setScale(.4)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("MenuScene")})}}class b extends s().Scene{constructor(){super("TutorialScene")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("Tutorial","imagenes/TutorialCW.png"),this.load.audio("sfx","audio/menusfx.mp3")}create(){this.add.image(400,310,"Fondo"),this.add.image(400,80,"Tutorial").setOrigin(.5).setScale(.4),this.add.text(400,150,"Controles:",{fontSize:"25px",color:"#000000ff",fontStyle:"bold"}).setOrigin(.5),this.add.text(400,180,"Player 1: wasd",{fontSize:"25px",color:"#000000ff"}).setOrigin(.5),this.add.text(400,210,"Player 2: flechas direccionales",{fontSize:"25px",color:"#000000ff"}).setOrigin(.5),this.add.text(400,260,"Objetivo:",{fontSize:"25px",color:"#000000ff",fontStyle:"bold"}).setOrigin(.5),this.add.text(400,290,"Quitarle las cinco vidas al oponente",{fontSize:"25px",color:"#000000ff"}).setOrigin(.5),this.add.text(400,340,"Mecánicas:",{fontSize:"25px",color:"#000000ff",fontStyle:"bold"}).setOrigin(.5),this.add.text(400,370,"Disparas automáticamente y solo cuando estas quieto",{fontSize:"25px",color:"#000000ff"}).setOrigin(.5),this.add.text(400,400,"Tu cañón siempre apunta al otro jugador",{fontSize:"25px",color:"#000000ff"}).setOrigin(.5),this.add.text(400,430,"Las balas rebotan 3 veces",{fontSize:"25px",color:"#000000ff"}).setOrigin(.5),this.add.text(400,460,"Tus propias balas pueden darte",{fontSize:"25px",color:"#000000ff"}).setOrigin(.5);const e=this.add.image(400,525,"BTNMenu").setOrigin(.5).setScale(.4).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setScale(.43)).on("pointerout",()=>e.setScale(.4)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("MenuScene")})}}class v extends s().Scene{constructor(){super("GameOverScene")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("BTNMenu","imagenes/MenuCW.png"),this.load.image("BTNGanador","imagenes/GanadorCW.png"),this.load.image("P","imagenes/Pcw.png"),this.load.image("1","imagenes/1CW.png"),this.load.image("2","imagenes/2CW.png"),this.load.audio("sfx","audio/menusfx.mp3")}init(e){this.ganador=e?.ganador,this.color=e?.color}create(){this.add.image(400,300,"Fondo"),this.add.image(400,100,"BTNGanador").setOrigin(.5).setScale(.6),this.add.image(355,200,"P").setOrigin(.5).setScale(.5);const e=this.ganador;let t=null;e.includes("1")?t="1":e.includes("2")&&(t="2"),this.add.image(445,200,t).setOrigin(.5).setScale(.5),this.add.image(400,375,`Base${this.color}`).setOrigin(.5,.5).setScale(3),this.torre=this.add.image(400,375,`Torreta${this.color}`).setOrigin(.15,.5).setScale(3);const s=this.add.image(400,540,"BTNMenu").setOrigin(.5).setScale(.4).setInteractive({useHandCursor:!0}).on("pointerover",()=>s.setScale(.43)).on("pointerout",()=>s.setScale(.4)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("MenuScene")})}update(){this.torre.rotation+=Math.PI/180}}class C extends s().Scene{constructor(){super("OptionsScene")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("BTNMenu","imagenes/MenuCW.png"),this.load.audio("sfx","audio/menusfx.mp3")}create(){this.add.image(400,310,"Fondo"),this.add.text(400,90,"Opciones",{fontSize:"75px",color:"#000000ff",fontStyle:"bold"}).setOrigin(.5);const e=this.add.image(400,525,"BTNMenu").setOrigin(.5).setScale(.4).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setScale(.43)).on("pointerout",()=>e.setScale(.4)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("MenuScene")});this.sliderBar=this.add.rectangle(400,300,200,10,8947848);const t=this.sound.volume,i=300+200*t;this.sliderHandle=this.add.circle(i,300,12,16777215).setInteractive({draggable:!0}),this.input.setDraggable(this.sliderHandle),this.input.on("drag",(e,t,i)=>{t.x=s().Math.Clamp(i,300,500);const a=(t.x-300)/200;this.sound.volume=a})}}const B={type:s().AUTO,width:800,height:600,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{y:0},debug:!1}},scene:[a,o,y,m,S,f,b,v,C],backgroundColor:"#1a1a2e"};new(s().Game)(B)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FBRyxjQUFlLEtBQ2ZqRSxLQUFLdUQsTUFBTUksS0FBSyxNQUFPLENBQUVELE9BQVEsS0FDakMxRCxLQUFLa0UsTUFBTUMsTUFBTSxlQU96Qm5FLEtBQUs2VixVQUFZN1YsS0FBS3dELElBQUlzUyxVQUpoQixJQUNBLElBR2dDLElBQUssR0FBSSxTQUduRCxNQUFNQyxFQUFnQi9WLEtBQUt1RCxNQUFNRyxPQUszQnNTLEVBRk92USxJQUVVLElBQWdCc1EsRUFHdkMvVixLQUFLaVcsYUFBZWpXLEtBQUt3RCxJQUFJMFMsT0FBT0YsRUFkMUIsSUFjc0MsR0FBSSxVQUMvQ2pTLGVBQWUsQ0FBRW9TLFdBQVcsSUFFakNuVyxLQUFLeVIsTUFBTTJFLGFBQWFwVyxLQUFLaVcsY0FHN0JqVyxLQUFLeVIsTUFBTXhOLEdBQUcsT0FBUSxDQUFDb1MsRUFBU0MsRUFBWUMsS0FDeENELEVBQVc3USxFQUFJLFNBQVkrUSxNQUFNRCxFQVp4QjlRLElBQ0FBLEtBYVQsTUFBTWdSLEdBQVdILEVBQVc3USxFQWRuQkEsS0FjK0IsSUFHeEN6RixLQUFLdUQsTUFBTUcsT0FBUytTLEdBRXhCLEVDcERKLE1BQU12RCxFQUFTLENBQ1g1RixLQUFNLFNBQ05sSCxNQUFPLElBQ1BDLE9BQVEsSUFDUnFRLE9BQVEsaUJBQ1J4TyxRQUFTLENBQ0x5TyxRQUFTLFNBQ1RDLE9BQVEsQ0FDSkMsUUFBUyxDQUFFblIsRUFBRyxHQUNkb1IsT0FBTyxJQUdmNVMsTUFBTyxDQUFDbkIsRUFBV29DLEVBQWF3TCxFQUFXdUUsRUFBWUcsRUFBYUMsRUFBYUMsRUFBZUMsRUFBZUksR0FDL0dtQixnQkFBaUIsV0FHUixJQUFJLFVBQVk3RCxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy9leHRlcm5hbCB2YXIgXCJQaGFzZXJcIiIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvLi9zcmMvY2xpZW50L3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyLmpzIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy8uL3NyYy9jbGllbnQvc2NlbmVzL01lbnVTY2VuZS5qcyIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvLi9zcmMvY2xpZW50L3NjZW5lcy9TZWxlY3RDb2xvci5qcyIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvLi9zcmMvY2xpZW50L2VudGl0aWVzL0J1bGxldC5qcyIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvLi9zcmMvY2xpZW50L2VudGl0aWVzL1R1cnJldC5qcyIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvLi9zcmMvY2xpZW50L2VudGl0aWVzL1RhbmsuanMiLCJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzLy4vc3JjL2NsaWVudC9lbnRpdGllcy9Qb3dlclVwLmpzIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy8uL3NyYy9jbGllbnQvZW50aXRpZXMvUG93ZXJVcEdlbmVyYXRvci5qcyIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvLi9zcmMvY2xpZW50L2NvbW1hbmRzL0NvbW1hbmRQcm9jZXNzb3IuanMiLCJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzLy4vc3JjL2NsaWVudC9jb21tYW5kcy9Db21tYW5kLmpzIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy8uL3NyYy9jbGllbnQvY29tbWFuZHMvTW92ZVRhbmtDb21tYW5kLmpzIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy8uL3NyYy9jbGllbnQvY29tbWFuZHMvUHVhc2VHYW1lQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvLi9zcmMvY2xpZW50L3NjZW5lcy9HYW1lU2NlbmUuanMiLCJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzLy4vc3JjL2NsaWVudC9zY2VuZXMvUGF1c2VTY2VuZS5qcyIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvLi9zcmMvY2xpZW50L3NjZW5lcy9DcmVkaXRTY2VuZS5qcyIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvLi9zcmMvY2xpZW50L3NjZW5lcy9PbmxpbmVTY2VuZS5qcyIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvLi9zcmMvY2xpZW50L3NjZW5lcy9UdXRvcmlhbFNjZW5lLmpzIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy8uL3NyYy9jbGllbnQvc2NlbmVzL0dhbWVPdmVyU2NlbmUuanMiLCJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzLy4vc3JjL2NsaWVudC9zY2VuZXMvT3B0aW9uc1NjZW5lLmpzIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy8uL3NyYy9jbGllbnQvbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IFBoYXNlcjsiLCIvKipcclxuICogU2VydmljaW8gcGFyYSBnZXN0aW9uYXIgbGEgY29uZXhpw7NuIGNvbiBlbCBzZXJ2aWRvclxyXG4gKiBNYW5lamEgZWwgcG9sbGluZyBhbCBlbmRwb2ludCAvYXBpL2Nvbm5lY3RlZCB5IGRldGVjdGEgcMOpcmRpZGFzIGRlIGNvbmV4acOzblxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbm5lY3Rpb25NYW5hZ2VyIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuY29ubmVjdGVkQ291bnQgPSAwO1xyXG4gICAgdGhpcy5pc0Nvbm5lY3RlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5sYXN0Q2hlY2tUaW1lID0gMDtcclxuICAgIHRoaXMuY2hlY2tJbnRlcnZhbCA9IDIwMDA7IC8vIENvbXByb2JhciBjYWRhIDIgc2VndW5kb3NcclxuICAgIHRoaXMubGlzdGVuZXJzID0gW107XHJcbiAgICB0aGlzLnNlc3Npb25JZCA9IHRoaXMuZ2VuZXJhdGVTZXNzaW9uSWQoKTtcclxuICAgIHRoaXMuaW50ZXJ2YWxJZCA9IG51bGw7XHJcblxyXG4gICAgLy8gSW5pY2lhciBlbCBwb2xsaW5nIGF1dG9tw6F0aWNvXHJcbiAgICB0aGlzLnN0YXJ0UG9sbGluZygpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2VuZXJhciB1biBJRCDDum5pY28gZGUgc2VzacOzbiBwYXJhIGVzdGUgY2xpZW50ZVxyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICovXHJcbiAgZ2VuZXJhdGVTZXNzaW9uSWQoKSB7XHJcbiAgICByZXR1cm4gYHNlc3Npb25fJHtEYXRlLm5vdygpfV8ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29tcHJvYmFyIGNvbmV4acOzbiBjb24gZWwgc2Vydmlkb3JcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx7Y29ubmVjdGVkOiBudW1iZXIsIHN1Y2Nlc3M6IGJvb2xlYW59Pn1cclxuICAgKi9cclxuICBhc3luYyBjaGVja0Nvbm5lY3Rpb24oKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2Nvbm5lY3RlZCcsIHtcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkXHJcbiAgICAgICAgfSlcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIHRoaXMuY29ubmVjdGVkQ291bnQgPSBkYXRhLmNvbm5lY3RlZDtcclxuICAgICAgICB0aGlzLmlzQ29ubmVjdGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmxhc3RDaGVja1RpbWUgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgICAgICAvLyBOb3RpZmljYXIgYSBsb3MgbGlzdGVuZXJzXHJcbiAgICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoeyBjb25uZWN0ZWQ6IHRydWUsIGNvdW50OiB0aGlzLmNvbm5lY3RlZENvdW50IH0pO1xyXG5cclxuICAgICAgICByZXR1cm4geyBjb25uZWN0ZWQ6IHRoaXMuY29ubmVjdGVkQ291bnQsIHN1Y2Nlc3M6IHRydWUgfTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgICByZXR1cm4geyBjb25uZWN0ZWQ6IDAsIHN1Y2Nlc3M6IGZhbHNlIH07XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIGNvbm5lY3Rpb246JywgZXJyb3IpO1xyXG4gICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgcmV0dXJuIHsgY29ubmVjdGVkOiAwLCBzdWNjZXNzOiBmYWxzZSB9O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTWFuZWphciBkZXNjb25leGnDs25cclxuICAgKi9cclxuICBoYW5kbGVEaXNjb25uZWN0aW9uKCkge1xyXG4gICAgdGhpcy5pc0Nvbm5lY3RlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IDA7XHJcbiAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyh7IGNvbm5lY3RlZDogZmFsc2UsIGNvdW50OiAwIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVnaXN0cmFyIHVuIGxpc3RlbmVyIHBhcmEgY2FtYmlvcyBkZSBjb25leGnDs25cclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmNpw7NuIHF1ZSBzZSBsbGFtYXLDoSBjdWFuZG8gY2FtYmllIGVsIGVzdGFkb1xyXG4gICAqL1xyXG4gIGFkZExpc3RlbmVyKGNhbGxiYWNrKSB7XHJcbiAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEVsaW1pbmFyIHVuIGxpc3RlbmVyXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBGdW5jacOzbiBhIGVsaW1pbmFyXHJcbiAgICovXHJcbiAgcmVtb3ZlTGlzdGVuZXIoY2FsbGJhY2spIHtcclxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjayk7XHJcbiAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICB0aGlzLmxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTm90aWZpY2FyIGEgdG9kb3MgbG9zIGxpc3RlbmVyc1xyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0gRGF0b3MgZGVsIGVzdGFkbyBkZSBjb25leGnDs25cclxuICAgKi9cclxuICBub3RpZnlMaXN0ZW5lcnMoZGF0YSkge1xyXG4gICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiBsaXN0ZW5lcihkYXRhKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBPYnRlbmVyIGVsIGVzdGFkbyBhY3R1YWwgZGUgY29uZXhpw7NuXHJcbiAgICogQHJldHVybnMge09iamVjdH1cclxuICAgKi9cclxuICBnZXRTdGF0dXMoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpc0Nvbm5lY3RlZDogdGhpcy5pc0Nvbm5lY3RlZCxcclxuICAgICAgY29ubmVjdGVkQ291bnQ6IHRoaXMuY29ubmVjdGVkQ291bnQsXHJcbiAgICAgIGxhc3RDaGVja1RpbWU6IHRoaXMubGFzdENoZWNrVGltZVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluaWNpYXIgZWwgcG9sbGluZyBhdXRvbcOhdGljbyBkZSBjb25leGnDs25cclxuICAgKi9cclxuICBzdGFydFBvbGxpbmcoKSB7XHJcbiAgICBpZiAodGhpcy5pbnRlcnZhbElkKSB7XHJcbiAgICAgIHJldHVybjsgLy8gWWEgZXN0w6EgY29ycmllbmRvXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29tcHJvYmFyIGlubWVkaWF0YW1lbnRlXHJcbiAgICB0aGlzLmNoZWNrQ29ubmVjdGlvbigpO1xyXG5cclxuICAgIC8vIEx1ZWdvIGNvbXByb2JhciBjYWRhIFggc2VndW5kb3NcclxuICAgIHRoaXMuaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgdGhpcy5jaGVja0Nvbm5lY3Rpb24oKTtcclxuICAgIH0sIHRoaXMuY2hlY2tJbnRlcnZhbCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZXRlbmVyIGVsIHBvbGxpbmcgYXV0b23DoXRpY29cclxuICAgKi9cclxuICBzdG9wUG9sbGluZygpIHtcclxuICAgIGlmICh0aGlzLmludGVydmFsSWQpIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpO1xyXG4gICAgICB0aGlzLmludGVydmFsSWQgPSBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gQ3JlYXIgaW5zdGFuY2lhIHNpbmdsZXRvblxyXG5leHBvcnQgY29uc3QgY29ubmVjdGlvbk1hbmFnZXIgPSBuZXcgQ29ubmVjdGlvbk1hbmFnZXIoKTtcclxuIiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBjb25uZWN0aW9uTWFuYWdlciB9IGZyb20gJy4uL3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBNZW51U2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ01lbnVTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7Ly9jYXJnYSBkZSBhcmNoaXZvc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRm9uZG8nLCAnaW1hZ2VuZXMvRm9uZG8uanBnJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdMb2dvJywgJ2ltYWdlbmVzL0xvZ28ucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQlROUGxheWVyJywgJ2ltYWdlbmVzL0xvY2FsQnRuQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCVE5DcmVkaXQnLCAnaW1hZ2VuZXMvQ3JlZGl0b3NDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0JUTk9ubGluZScsICdpbWFnZW5lcy9PbmxpbmVCdG5DVy5wbmcnKTsgICBcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0JUTk1lbnUnLCAnaW1hZ2VuZXMvTWVudUNXLnBuZycpOyBcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0JUTlR1dG9yaWFsJywgJ2ltYWdlbmVzL1R1dG9yaWFsQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdtdXNpY2EnLCAnYXVkaW8vbXVzaWNhLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc2Z4JywgJ2F1ZGlvL21lbnVzZngubXAzJyk7ICAgXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICAvL211c2ljYVxyXG4gICAgICAgIGxldCBtdXNpY2EgPSB0aGlzLnNvdW5kLmdldCgnbXVzaWNhJyk7XHJcbiAgICAgICAgaWYgKCFtdXNpY2EpIHsgICAgICAgIFxyXG4gICAgICAgICAgICBtdXNpY2EgPSB0aGlzLnNvdW5kLmFkZCgnbXVzaWNhJywgeyBsb29wOiB0cnVlLCB2b2x1bWU6IDAuNH0pOyAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBtdXNpY2EucGxheSgpOyAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDMwMCwgJ0ZvbmRvJyk7XHJcbiAgICAgICAgLy9sb2dvXHJcbiAgICAgICAgY29uc3QgbG9nbz10aGlzLmFkZC5pbWFnZSg0MDAsIDE4MCwgJ0xvZ28nKVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBsb2dvLnNldFNjYWxlKDEuMSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgbG9jYWxCdG4gPSB0aGlzLmFkZC5pbWFnZSgyODAsIDQxMCwgXCJCVE5QbGF5ZXJcIilcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgICAgIGxvY2FsQnRuLnNldFNjYWxlKDAuMTkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL2xvY2FsQnRuLnNldFRpbnQoMHgwMGZmODgpOyAgIC8vIGFwbGljYSBjb2xvclxyXG4gICAgICAgICAgICAgICAgbG9jYWxCdG4uc2V0U2NhbGUoMC4yMCk7ICAgICAgIC8vIGF1bWVudGEgdGFtYcOxbyB1biAxMCVcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy9sb2NhbEJ0bi5zZXRUaW50KDB4MDBmZjAwKTsgICAvLyB2dWVsdmUgYWwgY29sb3Igb3JpZ2luYWxcclxuICAgICAgICAgICAgICAgIGxvY2FsQnRuLnNldFNjYWxlKDAuMTkpOyAgICAgICAgIC8vIHZ1ZWx2ZSBhbCB0YW1hw7FvIG9yaWdpbmFsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3NmeCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdTZWxlY3RDb2xvcicpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBvbmxpbmVCdG4gPSB0aGlzLmFkZC5pbWFnZSg1MjAsIDQxMCwgXCJCVE5PbmxpbmVcIilcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgICAgIG9ubGluZUJ0bi5zZXRTY2FsZSgwLjE5KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy9sb2NhbEJ0bi5zZXRUaW50KDB4MDBmZjg4KTsgICAvLyBhcGxpY2EgY29sb3JcclxuICAgICAgICAgICAgICAgIG9ubGluZUJ0bi5zZXRTY2FsZSgwLjIwKTsgICAgICAgLy8gYXVtZW50YSB0YW1hw7FvIHVuIDEwJVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL2xvY2FsQnRuLnNldFRpbnQoMHgwMGZmMDApOyAgIC8vIHZ1ZWx2ZSBhbCBjb2xvciBvcmlnaW5hbFxyXG4gICAgICAgICAgICAgICAgb25saW5lQnRuLnNldFNjYWxlKDAuMTkpOyAgICAgICAgIC8vIHZ1ZWx2ZSBhbCB0YW1hw7FvIG9yaWdpbmFsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3NmeCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdPbmxpbmVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCB0dXRvcmlhbEJ0biA9IHRoaXMuYWRkLmltYWdlKDI4MCw1MDcsJ0JUTlR1dG9yaWFsJykuc2V0T3JpZ2luKDAuNSkuc2V0U2NhbGUoMC4zKVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vbG9jYWxCdG4uc2V0VGludCgweDAwZmY4OCk7ICAgLy8gYXBsaWNhIGNvbG9yXHJcbiAgICAgICAgICAgICAgICB0dXRvcmlhbEJ0bi5zZXRTY2FsZSgwLjMzKTsgICAgICAgLy8gYXVtZW50YSB0YW1hw7FvIHVuIDEwJVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL2xvY2FsQnRuLnNldFRpbnQoMHgwMGZmMDApOyAgIC8vIHZ1ZWx2ZSBhbCBjb2xvciBvcmlnaW5hbFxyXG4gICAgICAgICAgICAgICAgdHV0b3JpYWxCdG4uc2V0U2NhbGUoMC4zKTsgICAgICAgICAvLyB2dWVsdmUgYWwgdGFtYcOxbyBvcmlnaW5hbFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdzZngnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnVHV0b3JpYWxTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBjcmVkaXRCdG4gPSB0aGlzLmFkZC5pbWFnZSg1MjAsIDUwMCwgXCJCVE5DcmVkaXRcIilcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vbG9jYWxCdG4uc2V0VGludCgweDAwZmY4OCk7ICAgLy8gYXBsaWNhIGNvbG9yXHJcbiAgICAgICAgICAgICAgICBjcmVkaXRCdG4uc2V0U2NhbGUoMS4xKTsgICAgICAgLy8gYXVtZW50YSB0YW1hw7FvIHVuIDEwJVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL2xvY2FsQnRuLnNldFRpbnQoMHgwMGZmMDApOyAgIC8vIHZ1ZWx2ZSBhbCBjb2xvciBvcmlnaW5hbFxyXG4gICAgICAgICAgICAgICAgY3JlZGl0QnRuLnNldFNjYWxlKDEpOyAgICAgICAgIC8vIHZ1ZWx2ZSBhbCB0YW1hw7FvIG9yaWdpbmFsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3NmeCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdDcmVkaXRTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBvcHRpb25zQnRuID0gdGhpcy5hZGQudGV4dCg2ODAsIDM1MCwgJ09wY2lvbmVzJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL2xvY2FsQnRuLnNldFRpbnQoMHgwMGZmODgpOyAgIC8vIGFwbGljYSBjb2xvclxyXG4gICAgICAgICAgICAgICAgb3B0aW9uc0J0bi5zZXRTY2FsZSgxLjEpOyAgICAgICAvLyBhdW1lbnRhIHRhbWHDsW8gdW4gMTAlXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vbG9jYWxCdG4uc2V0VGludCgweDAwZmYwMCk7ICAgLy8gdnVlbHZlIGFsIGNvbG9yIG9yaWdpbmFsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zQnRuLnNldFNjYWxlKDEpOyAgICAgICAgIC8vIHZ1ZWx2ZSBhbCB0YW1hw7FvIG9yaWdpbmFsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3NmeCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdPcHRpb25zU2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gSW5kaWNhZG9yIGRlIGNvbmV4acOzbiBhbCBzZXJ2aWRvclxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQgPSB0aGlzLmFkZC50ZXh0KDUyNSwgNTEwLCAnU2Vydmlkb3I6IENvbXByb2JhbmRvLi4uJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgLy8gTGlzdGVuZXIgcGFyYSBjYW1iaW9zIGRlIGNvbmV4acOzblxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVDb25uZWN0aW9uRGlzcGxheShkYXRhKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLmFkZExpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICBcclxuICAgIH1cclxuICAgIHVwZGF0ZUNvbm5lY3Rpb25EaXNwbGF5KGRhdGEpIHtcclxuICAgICAgICAvLyBTb2xvIGFjdHVhbGl6YXIgc2kgZWwgdGV4dG8gZXhpc3RlIChsYSBlc2NlbmEgZXN0w6EgY3JlYWRhKVxyXG4gICAgICAgIGlmICghdGhpcy5jb25uZWN0aW9uVGV4dCB8fCAhdGhpcy5zY2VuZSB8fCAhdGhpcy5zY2VuZS5pc0FjdGl2ZSgnTWVudVNjZW5lJykpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuY29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldFRleHQoYFNlcnZpZG9yOiAke2RhdGEuY291bnR9IHVzdWFyaW8ocykgY29uZWN0YWRvKHMpYCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldENvbG9yKCcjMDBmZjAwJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldFRleHQoJ1NlcnZpZG9yOiBEZXNjb25lY3RhZG8nKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tNZW51U2NlbmVdIEVycm9yIHVwZGF0aW5nIGNvbm5lY3Rpb24gZGlzcGxheTonLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2h1dGRvd24oKSB7XHJcbiAgICAgICAgLy8gUmVtb3ZlciBlbCBsaXN0ZW5lclxyXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcikge1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNlbGVjdENvbG9yIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdTZWxlY3RDb2xvcicpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdGb25kbycsICdpbWFnZW5lcy9Gb25kby5qcGcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCYXNlUmVkJywgJ2ltYWdlbmVzL1RhbnF1ZVJvam9DVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1RvcnJldGFSZWQnLCAnaW1hZ2VuZXMvQ2Fub25Sb2pvQ1cucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmFzZUdyZWVuJywgJ2ltYWdlbmVzL1RhbnF1ZVZlcmRlQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdUb3JyZXRhR3JlZW4nLCAnaW1hZ2VuZXMvQ2Fub25WZXJkZUNXLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0Jhc2VCbHVlJywgJ2ltYWdlbmVzL1RhbnF1ZUF6dWxDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1RvcnJldGFCbHVlJywgJ2ltYWdlbmVzL0Nhbm9uQXp1bENXLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0Jhc2VZZWxsb3cnLCAnaW1hZ2VuZXMvVGFucXVlQW1hcmlsbG9DVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1RvcnJldGFZZWxsb3cnLCAnaW1hZ2VuZXMvQ2Fub25BbWFyaWxsb0NXLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BsYXknLCAnaW1hZ2VuZXMvUExBWUNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQlROTWVudScsICdpbWFnZW5lcy9NZW51Q1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQJywgJ2ltYWdlbmVzL1Bjdy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJzEnLCAnaW1hZ2VuZXMvMUNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnMicsICdpbWFnZW5lcy8yQ1cucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQnViYmxlJywgJ2ltYWdlbmVzL0J1cmJ1amFDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0VsaWdlJywgJ2ltYWdlbmVzL0VsaWdlQ29sb3JDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3NmeCcsICdhdWRpby9tZW51c2Z4Lm1wMycpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gRm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDMwMCwgJ0ZvbmRvJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDAwLDUwLCdFbGlnZScpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDAuMyk7XHJcblxyXG4gICAgICAgIC8vIEFob3JhIGVtcGV6YW1vcyBTSU4gY29sb3IgZWxlZ2lkb1xyXG4gICAgICAgIHRoaXMuY29sb3JQbGF5ZXIxID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNvbG9yUGxheWVyMiA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vIC0tLSBUw610dWxvcyAtLS1cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSgxOTAsIDEyMCwgJ1AnKS5zZXRPcmlnaW4oMC41KS5zZXRTY2FsZSgwLjMpO1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDI0MCwgMTIyLCAnMScpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDAuMyk7ICBcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg1OTAsIDEyMCwgJ1AnKS5zZXRPcmlnaW4oMC41KS5zZXRTY2FsZSgwLjMpO1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDY0MCwgMTIwLCAnMicpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDAuMyk7XHJcblxyXG4gICAgICAgIHRoaXMucDFPcHRpb25zID0gW107XHJcbiAgICAgICAgdGhpcy5wMk9wdGlvbnMgPSBbXTtcclxuXHJcbiAgICAgICAgY29uc3QgY3JlYXRlVGFua09wdGlvbiA9ICh4LCB5LCBjb2xvcktleSwgb25DbGljaykgPT4ge1xyXG4gICAgICAgICAgICAvLyBSZWN0w6FuZ3VsbyBkZSBzZWxlY2Npw7NuIChpbnZpc2libGUgYWwgaW5pY2lvKVxyXG4gICAgICAgICAgICBcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGJhc2UgPSB0aGlzLmFkZC5pbWFnZSgwLCAwLCBgQmFzZSR7Y29sb3JLZXl9YCkuc2V0U2NhbGUoMS4yKS5zZXREZXB0aCgxMCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHR1cnJldCA9IHRoaXMuYWRkLmltYWdlKDAsIDAsIGBUb3JyZXRhJHtjb2xvcktleX1gKS5zZXRTY2FsZSgxLjIpLnNldE9yaWdpbigwLjIsMC41KS5zZXREZXB0aCgxNSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBoaWdobGlnaHQgPSB0aGlzLmFkZC5pbWFnZSgwLCAwLCBcIkJ1YmJsZVwiKS5zZXRTY2FsZSgxLjYpLnNldERlcHRoKDQwKTtcclxuICAgICAgICAgICAgaGlnaGxpZ2h0LnNldFZpc2libGUoZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5hZGQuY29udGFpbmVyKHgsIHksIFtiYXNlLCB0dXJyZXQsaGlnaGxpZ2h0XSk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zZXRTaXplKGJhc2Uud2lkdGggKiAxLjIsIGJhc2UuaGVpZ2h0ICogMS4yKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zZXREYXRhKCdjb2xvcktleScsIGNvbG9yS2V5KTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnNldERhdGEoJ3NlbGVjdGVkJywgZmFsc2UpO1xyXG4gICAgICAgICAgICBjb250YWluZXIuc2V0RGF0YSgnZGlzYWJsZWQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zZXREYXRhKCdoaWdobGlnaHQnLCBoaWdobGlnaHQpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL2xvY2FsQnRuLnNldFRpbnQoMHgwMGZmODgpOyAgIC8vIGFwbGljYSBjb2xvclxyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnNldFNjYWxlKDEuMyk7ICAgICAgIC8vIGF1bWVudGEgdGFtYcOxbyB1biAxMCVcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgY29udGFpbmVyLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy9sb2NhbEJ0bi5zZXRUaW50KDB4MDBmZjAwKTsgICAvLyB2dWVsdmUgYWwgY29sb3Igb3JpZ2luYWxcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZXRTY2FsZSgxLjApOyAgICAgICAgIC8vIHZ1ZWx2ZSBhbCB0YW1hw7FvIG9yaWdpbmFsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyBDbGljayBwYXJhIHNlbGVjY2lvbmFyXHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5vbigncG9pbnRlcnVwJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5nZXREYXRhKCdkaXNhYmxlZCcpKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrKGNvbG9yS2V5LCBjb250YWluZXIpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBDb29yZGVuYWRhc1xyXG4gICAgICAgIGNvbnN0IHAxWCA9IDIwMDtcclxuICAgICAgICBjb25zdCBwMlggPSA2MDA7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRZID0gMTgwO1xyXG4gICAgICAgIGNvbnN0IGdhcFkgPSAxMDA7XHJcbiAgICAgICAgY29uc3QgY29sb3JzID0gWydSZWQnLCAnQmx1ZScsICdHcmVlbicsICdZZWxsb3cnXTtcclxuXHJcbiAgICAgICAgLy8gUGxheWVyIDFcclxuICAgICAgICBjb2xvcnMuZm9yRWFjaCgoY29sb3IsIGkpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb3B0ID0gY3JlYXRlVGFua09wdGlvbihwMVgsIHN0YXJ0WSArIGkgKiBnYXBZLCBjb2xvciwgKGtleSwgb3B0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yUGxheWVyMSA9IGtleTtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFya1NlbGVjdGVkKHRoaXMucDFPcHRpb25zLCBvcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVEaXNhYmxlZFN0YXRlcygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5wMU9wdGlvbnMucHVzaChvcHQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBQbGF5ZXIgMlxyXG4gICAgICAgIGNvbG9ycy5mb3JFYWNoKChjb2xvciwgaSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvcHQgPSBjcmVhdGVUYW5rT3B0aW9uKHAyWCwgc3RhcnRZICsgaSAqIGdhcFksIGNvbG9yLCAoa2V5LCBvcHRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3JQbGF5ZXIyID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXJrU2VsZWN0ZWQodGhpcy5wMk9wdGlvbnMsIG9wdGlvbik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZURpc2FibGVkU3RhdGVzKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnAyT3B0aW9ucy5wdXNoKG9wdCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBQbGF5XHJcbiAgICAgICAgY29uc3QgcGxheUJ0biA9IHRoaXMuYWRkLmltYWdlKDQwMCwgMzAwLCBcIlBsYXlcIilcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgICAgIHBsYXlCdG4uc2V0U2NhbGUoMC4yNSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vbG9jYWxCdG4uc2V0VGludCgweDAwZmY4OCk7ICAgLy8gYXBsaWNhIGNvbG9yXHJcbiAgICAgICAgICAgICAgICBwbGF5QnRuLnNldFNjYWxlKDAuMjgpOyAgICAgICAvLyBhdW1lbnRhIHRhbWHDsW8gdW4gMTAlXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vbG9jYWxCdG4uc2V0VGludCgweDAwZmYwMCk7ICAgLy8gdnVlbHZlIGFsIGNvbG9yIG9yaWdpbmFsXHJcbiAgICAgICAgICAgICAgICBwbGF5QnRuLnNldFNjYWxlKDAuMjUpOyAgICAgICAgIC8vIHZ1ZWx2ZSBhbCB0YW1hw7FvIG9yaWdpbmFsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHBsYXlCdG4ub24oJ3BvaW50ZXJ1cCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmNvbG9yUGxheWVyMSB8fCAhdGhpcy5jb2xvclBsYXllcjIgfHwgdGhpcy5jb2xvclBsYXllcjEgPT09IHRoaXMuY29sb3JQbGF5ZXIyKSByZXR1cm47XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnc2Z4JywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnR2FtZVNjZW5lJywge1xyXG4gICAgICAgICAgICAgICAgY29sb3JQbGF5ZXIxOiB0aGlzLmNvbG9yUGxheWVyMSxcclxuICAgICAgICAgICAgICAgIGNvbG9yUGxheWVyMjogdGhpcy5jb2xvclBsYXllcjJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiB2b2x2ZXJcclxuICAgICAgICBjb25zdCBtZW51QnRuID0gdGhpcy5hZGQuaW1hZ2UoNDAwLDU1MCwnQlROTWVudScpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDAuMylcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoe3VzZUhhbmRDdXJzb3I6IHRydWV9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBtZW51QnRuLnNldFNjYWxlKDAuMzMpKVxyXG4gICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IG1lbnVCdG4uc2V0U2NhbGUoMC4zKSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3NmeCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE1hcmNhIHNlbGVjY2lvbmFkb1xyXG4gICAgbWFya1NlbGVjdGVkKG9wdGlvbkFycmF5LCBzZWxlY3RlZE9wdGlvbikge1xyXG4gICAgICAgIG9wdGlvbkFycmF5LmZvckVhY2gobyA9PiB7XHJcbiAgICAgICAgICAgIG8uc2V0RGF0YSgnc2VsZWN0ZWQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIG8uZ2V0RGF0YSgnaGlnaGxpZ2h0Jykuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc2VsZWN0ZWRPcHRpb24uc2V0RGF0YSgnc2VsZWN0ZWQnLCB0cnVlKTtcclxuICAgICAgICBzZWxlY3RlZE9wdGlvbi5nZXREYXRhKCdoaWdobGlnaHQnKS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFjdHVhbGl6YSBlc3RhZG9zXHJcbiAgICB1cGRhdGVEaXNhYmxlZFN0YXRlcygpIHtcclxuICAgICAgICB0aGlzLnAxT3B0aW9ucy5mb3JFYWNoKG8gPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBrZXkgPSBvLmdldERhdGEoJ2NvbG9yS2V5Jyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHNob3VsZERpc2FibGUgPSAodGhpcy5jb2xvclBsYXllcjIgJiYga2V5ID09PSB0aGlzLmNvbG9yUGxheWVyMik7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0T3B0aW9uRGlzYWJsZWQobywgc2hvdWxkRGlzYWJsZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucDJPcHRpb25zLmZvckVhY2gobyA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IG8uZ2V0RGF0YSgnY29sb3JLZXknKTtcclxuICAgICAgICAgICAgY29uc3Qgc2hvdWxkRGlzYWJsZSA9ICh0aGlzLmNvbG9yUGxheWVyMSAmJiBrZXkgPT09IHRoaXMuY29sb3JQbGF5ZXIxKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRPcHRpb25EaXNhYmxlZChvLCBzaG91bGREaXNhYmxlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRPcHRpb25EaXNhYmxlZChvcHRpb24sIGRpc2FibGVkKSB7XHJcbiAgICAgICAgb3B0aW9uLnNldERhdGEoJ2Rpc2FibGVkJywgZGlzYWJsZWQpO1xyXG5cclxuICAgICAgICBpZiAoZGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgb3B0aW9uLmRpc2FibGVJbnRlcmFjdGl2ZSgpO1xyXG4gICAgICAgICAgICBvcHRpb24uc2V0QWxwaGEoMC4zKTtcclxuICAgICAgICAgICAgb3B0aW9uLnNldERhdGEoJ3NlbGVjdGVkJywgZmFsc2UpO1xyXG4gICAgICAgICAgICBvcHRpb24uZ2V0RGF0YSgnaGlnaGxpZ2h0Jykuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgb3B0aW9uLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgb3B0aW9uLnNldEFscGhhKDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBUdXJyZXQgfSBmcm9tICcuL1R1cnJldCc7XHJcblxyXG5leHBvcnQgY2xhc3MgQnVsbGV0IHtcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCB4LCB5LCB0dXJyZXQsIGFuZ2xlLCBjb2xvcikge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgICAgIHRoaXMubXlUdXJyZXQgPSB0dXJyZXQ7XHJcbiAgICAgICAgdGhpcy5kaXIgPSBhbmdsZTtcclxuICAgICAgICB0aGlzLmJhc2VTcGVlZCA9IDIwMDtcclxuICAgICAgICB0aGlzLnNwZWVkTXVsdCA9IDE7XHJcbiAgICAgICAgdGhpcy5jYW5Db2xsaWRlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmJvdW5jZXMgPSAzO1xyXG4gICAgICAgIHRoaXMuY2FuRGFtYWdlID0gZmFsc2U7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IHRoaXMuY2FuRGFtYWdlID0gdHJ1ZTsgfSwgMjAwKTsgLy9Fc3RvIGVzIG5lY2VzYXJpbyBvIGxvcyB0YW5xdWVzIHNlIGRhw7FhcsOhbiBhbCBpbnN0YW50ZSBhbCBkaXNwYXJhciAvLyBOTyBUT0NBUlxyXG5cclxuICAgICAgICBpZiAodGhpcy5jb2xvciA9PT0gXCJSZWRcIikge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdCYWxhUmVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMuY29sb3I9PT1cIkdyZWVuXCIpe1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdCYWxhR3JlZW4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5jb2xvcj09PVwiQmx1ZVwiKXtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSh4LCB5LCAnQmFsYUJsdWUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5jb2xvcj09PVwiWWVsbG93XCIpe1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdCYWxhWWVsbG93Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3ByaXRlLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0Q29sbGlkZVdvcmxkQm91bmRzKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFNpemUoMjAsMTUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldEJvdW5jZSgwLjgpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnJvdGF0aW9uPXRoaXMuZGlyO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldERlcHRoKDUpO1xyXG4gICAgICAgIHRoaXMuc2V0RGlyKCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5ldmVudHMub24oJ3VwZGF0ZScsIHRoaXMudXBkYXRlLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZUNvbGxpc2lvbnMoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXREaXIoKSB7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHkoXHJcbiAgICAgICAgICAgIE1hdGguY29zKHRoaXMuZGlyKSAqIHRoaXMuYmFzZVNwZWVkICogdGhpcy5zcGVlZE11bHQsXHJcbiAgICAgICAgICAgIE1hdGguc2luKHRoaXMuZGlyKSAqIHRoaXMuYmFzZVNwZWVkICogdGhpcy5zcGVlZE11bHRcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgIC8vIFNvbG8gc2kgbGEgYmFsYSB0aWVuZSBjdWVycG8gZsOtc2ljb1xyXG4gICAgICAgIGlmICh0aGlzLnNwcml0ZS5ib2R5KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZ4ID0gdGhpcy5zcHJpdGUuYm9keS52ZWxvY2l0eS54O1xyXG4gICAgICAgICAgICBjb25zdCB2eSA9IHRoaXMuc3ByaXRlLmJvZHkudmVsb2NpdHkueTtcclxuXHJcbiAgICAgICAgICAgIC8vIGF0YW4yIGRldnVlbHZlIGVsIMOhbmd1bG8gZW4gcmFkaWFuZXMgc2Vnw7puIGxhIGRpcmVjY2nDs24gZGVsIHZlY3RvclxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5yb3RhdGlvbiA9IE1hdGguYXRhbjIodnksIHZ4KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLmJvdW5jZXMtPTE7XHJcbiAgICAgICAgaWYgKHRoaXMuYm91bmNlczwxKXtcclxuICAgICAgICB0aGlzLmRlc3Ryb3lCdWxsZXQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGVzdHJveUJ1bGxldCgpIHsgICAgICAgIFxyXG4gICAgICAgIHRoaXMuc2NlbmUuZXZlbnRzLm9mZigndXBkYXRlJywgdGhpcy51cGRhdGUsIHRoaXMpOyAgICAgICAgXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuZGVzdHJveSgpOyAgICBcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVDb2xsaXNpb25zKCkge1xyXG4gICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNjZW5lLmxlZnQsIHRoaXMuc3ByaXRlLCAoKSA9PiB7IHRoaXMuZGVzdHJveSgpOyB9KTtcclxuICAgIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zY2VuZS5yaWdodCwgdGhpcy5zcHJpdGUsICgpID0+IHsgdGhpcy5kZXN0cm95KCk7IH0pO1xyXG4gICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNjZW5lLnRvcCwgdGhpcy5zcHJpdGUsICgpID0+IHsgdGhpcy5kZXN0cm95KCk7IH0pO1xyXG4gICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNjZW5lLmJvdHRvbSwgdGhpcy5zcHJpdGUsICgpID0+IHsgdGhpcy5kZXN0cm95KCk7IH0pO1xyXG4gICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNjZW5lLmJsb2NrMSwgdGhpcy5zcHJpdGUsICgpID0+IHsgdGhpcy5kZXN0cm95KCk7IH0pO1xyXG4gICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNjZW5lLmJsb2NrMiwgdGhpcy5zcHJpdGUsICgpID0+IHsgdGhpcy5kZXN0cm95KCk7IH0pO1xyXG4gICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNjZW5lLmNlbnRybzEsIHRoaXMuc3ByaXRlLCAoKSA9PiB7IHRoaXMuZGVzdHJveSgpOyB9KTtcclxuICAgIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zY2VuZS5jZW50cm8yLCB0aGlzLnNwcml0ZSwgKCkgPT4geyB0aGlzLmRlc3Ryb3koKTsgfSk7XHJcbiAgICB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc2NlbmUuY2VudHJvMywgdGhpcy5zcHJpdGUsICgpID0+IHsgdGhpcy5kZXN0cm95KCk7IH0pOyBcclxuICAgIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zY2VuZS5wYWxvMSwgdGhpcy5zcHJpdGUsICgpID0+IHsgdGhpcy5kZXN0cm95KCk7IH0pOyBcclxuICAgIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zY2VuZS5wYWxvMiwgdGhpcy5zcHJpdGUsICgpID0+IHsgdGhpcy5kZXN0cm95KCk7IH0pOyBcclxuICAgIHRoaXMuc2NlbmUucGxheWVycy5mb3JFYWNoKHRhbmsgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc3ByaXRlLCB0YW5rLnNwcml0ZSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FuRGFtYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFuay5yZWNlaXZlRGFtYWdlKDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveUJ1bGxldCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEJ1bGxldCB9IGZyb20gJy4vQnVsbGV0JztcclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5leHBvcnQgY2xhc3MgVHVycmV0IHtcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCB0YW5rLCB4LCB5LCBjb2xvcikge1xyXG4gICAgICAgIHRoaXMubXlUYW5rID0gdGFuaztcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICB0aGlzLnkgPSB5O1xyXG4gICAgICAgIGlmKHg+NDAwKXtcclxuICAgICAgICAgICAgdGhpcy5hbmdsZSA9IE1hdGguUEk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuYW5nbGUgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3I7XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucm90YXRlU3BlZWQgPSBQaGFzZXIuTWF0aC5EZWdUb1JhZCgxKTtcclxuICAgICAgICB0aGlzLmNhblNob290ID0gZmFsc2U7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHggPiA0MDApIHtcclxuICAgICAgICAgICAgdGhpcy5wZXJmZWN0QW5nbGUgPSBNYXRoLlBJO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLnBlcmZlY3RBbmdsZSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubGVmdEFuZ2xlID0gNzU7XHJcbiAgICAgICAgdGhpcy5yaWdodEFuZ2xlID0gMTA1O1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jb2xvciA9PT0gXCJSZWRcIikge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdUb3JyZXRhUmVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmNvbG9yID09PSBcIkdyZWVuXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSh4LCB5LCAnVG9ycmV0YUdyZWVuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmNvbG9yID09PSBcIkJsdWVcIikge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdUb3JyZXRhQmx1ZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5jb2xvciA9PT0gXCJZZWxsb3dcIikge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdUb3JyZXRhWWVsbG93Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3ByaXRlLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0T3JpZ2luKDAuMTUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5TZXRQb3NpdGlvbiA9ICh4LCB5KSA9PiB7IHRoaXMuc3ByaXRlLnggPSB4OyB0aGlzLnNwcml0ZS55ID0geTsgfTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXREZXB0aCgxMCk7XHJcbiAgICAgICAgdGhpcy5wb3dlclVwQnVsbGV0ID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUucm90YXRpb24gPSB0aGlzLmFuZ2xlO1xyXG4gICAgICAgIHRoaXMuZmlyZUV2ZW50ID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICByb3RhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5haW0oKTtcclxuICAgICAgICB0aGlzLmFuZ2xlID0gdGhpcy5wZXJmZWN0QW5nbGU7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUucm90YXRpb24gPSB0aGlzLmFuZ2xlO1xyXG4gICAgfVxyXG5cclxuICAgIGZpcmUoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm15VGFuay5jYW5TaG9vdCkgcmV0dXJuOyAvLyBQb3dlci11cCBubyBwdWVkZSBkaXNwYXJhclxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0aGlzLnBvd2VyVXBCdWxsZXQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY2FuU2hvb3QpIHtcclxuICAgICAgICAgICAgICAgIG5ldyBCdWxsZXQoXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZSxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm15VGFuay5HZXRYKCksXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5teVRhbmsuR2V0WSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcHJpdGUucm90YXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xvclxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaG9vdChhKSB7XHJcbiAgICAgICAgdGhpcy5jYW5TaG9vdCA9IGE7XHJcbiAgICAgICAgdGhpcy5zdGFydEF1dG9GaXJlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VGFyZ2V0KHRhcikge1xyXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyO1xyXG4gICAgfVxyXG5cclxuICAgIGFpbSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMudGFyZ2V0KSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IGR4ID0gdGhpcy50YXJnZXQuR2V0WCgpIC0gdGhpcy5zcHJpdGUueDtcclxuICAgICAgICBjb25zdCBkeSA9IHRoaXMudGFyZ2V0LkdldFkoKSAtIHRoaXMuc3ByaXRlLnk7XHJcblxyXG4gICAgICAgIHRoaXMucGVyZmVjdEFuZ2xlID0gTWF0aC5hdGFuMihkeSwgZHgpO1xyXG4gICAgICAgIHRoaXMubGVmdEFuZ2xlID0gdGhpcy5wZXJmZWN0QW5nbGUgKyBQaGFzZXIuTWF0aC5EZWdUb1JhZCgzMCk7XHJcbiAgICAgICAgdGhpcy5yaWdodEFuZ2xlID0gdGhpcy5wZXJmZWN0QW5nbGUgLSBQaGFzZXIuTWF0aC5EZWdUb1JhZCgzMCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g8J+UuSBpbmljaWFyIGRpc3Bhcm8gYXV0b23DoXRpY28gKHNvbG8gdW5hIHZleilcclxuICAgIHN0YXJ0QXV0b0ZpcmUoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmZpcmVFdmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLmZpcmVFdmVudCA9IHRoaXMuc2NlbmUudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgICAgICBkZWxheTogMTAwMCwgICAgICAgICAgLy8gY2FkYSBzZWd1bmRvXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4gdGhpcy5maXJlKCksXHJcbiAgICAgICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95KCkgeyAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMuZmlyZUV2ZW50KSB7ICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMuZmlyZUV2ZW50LnJlbW92ZShmYWxzZSk7ICAgICAgICBcclxuICAgICAgICB9ICAgICAgICBcclxuICAgIHRoaXMuc3ByaXRlLmRlc3Ryb3koKTsgICAgICAgICBcclxuICAgIHRoaXMudGFyZ2V0ID0gbnVsbDsgICAgICAgIFxyXG4gICAgdGhpcy5teVRhbmsgPSBudWxsOyAgICBcclxuICAgIH1cclxuXHJcbiAgICBzZXRhbHBoYShhbCl7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0QWxwaGEoYWwpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgVHVycmV0IH0gZnJvbSAnLi9UdXJyZXQnO1xyXG5leHBvcnQgY2xhc3MgVGFuayB7XHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgaWQsIHgsIHksY29sb3IpIHtcclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuZGlyWCA9IDA7XHJcbiAgICAgICAgdGhpcy5kaXJZID0gMDtcclxuICAgICAgICB0aGlzLmJhc2VTcGVlZCA9IDEyMDtcclxuICAgICAgICB0aGlzLnNwZWVkTXVsdGlwbGllciA9IDE7XHJcbiAgICAgICAgdGhpcy54PXg7XHJcbiAgICAgICAgdGhpcy55PXk7XHJcbiAgICAgICAgdGhpcy5jb2xvcj1jb2xvcjtcclxuICAgICAgICB0aGlzLnRhcmdldD1udWxsOy8vZG9uZGUgYXB1bnRhXHJcbiAgICAgICAgdGhpcy52aWRhcyA9IDU7XHJcbiAgICAgICAgdGhpcy5pbnZ1bG5lcmFibGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNhblNob290ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm5vU2hvb3RVbnRpbCA9IDA7XHJcbiAgICAgICAgaWYodGhpcy5jb2xvcj09PVwiUmVkXCIpe1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdCYXNlUmVkJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFNpemUoNDAsMzUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0aGlzLmNvbG9yPT09XCJHcmVlblwiKXtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSh4LCB5LCAnQmFzZUdyZWVuJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFNpemUoNDIsMzUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0aGlzLmNvbG9yPT09XCJCbHVlXCIpe1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdCYXNlQmx1ZScpO1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRTaXplKDQ1LDM1KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5jb2xvcj09PVwiWWVsbG93XCIpe1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdCYXNlWWVsbG93Jyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFNpemUoNDUsMzUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRDb2xsaWRlV29ybGRCb3VuZHModHJ1ZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXREZXB0aCg4KTtcclxuICAgICAgICB0aGlzLnR1cnJldCA9IG5ldyBUdXJyZXQoc2NlbmUsdGhpcyx4ICx5LHRoaXMuY29sb3IgKTtcclxuXHJcbiAgICAgICAgdGhpcy5HZXRYID0gKCk9PntyZXR1cm4gdGhpcy5zcHJpdGUueDt9O1xyXG4gICAgICAgIHRoaXMuR2V0WSA9ICgpPT57cmV0dXJuIHRoaXMuc3ByaXRlLnk7fTtcclxuICAgIH1cclxuXHJcbiAgICBTZXRUYXJnZXQodGFyKXtcclxuICAgICAgICB0aGlzLnRhcmdldD10YXI7XHJcbiAgICAgICAgdGhpcy50dXJyZXQuc2V0VGFyZ2V0KHRoaXMudGFyZ2V0KTtcclxuICAgIH1cclxuICAgIFxyXG5yZWNlaXZlRGFtYWdlKGFtb3VudCkgeyAgICAgICBcclxuICAgIGlmICh0aGlzLmludnVsbmVyYWJsZSkgcmV0dXJuOyAgICAgICBcclxuICAgICAgICB0aGlzLnZpZGFzIC09IGFtb3VudDsgICAgICBcclxuICAgICAgICB0aGlzLnNjZW5lLmFjdHVhbGl6YXJWaWRhcyh0aGlzLmlkLCB0aGlzLnZpZGFzKTsgICBcclxuICAgICAgICBpZiAodGhpcy52aWRhcyA8PSAwKSB7ICAgICAgICAgIFxyXG4gICAgICAgIHRoaXMuZGVzdHJveSgpOyAgICAgICAgXHJcbiAgICB9IFxyXG5lbHNlIHsgICAgICAgICAgICBcclxuICAgIHRoaXMubWFrZUludnVsbmVyYWJsZSgpOyAgICAgICAgXHJcbn0gICAgXHJcbn1cclxuICAgIFxyXG5tYWtlSW52dWxuZXJhYmxlKCkge1xyXG4gICAgdGhpcy5pbnZ1bG5lcmFibGUgPSB0cnVlO1xyXG4gICAgbGV0IGJsaW5rQ291bnQgPSAwO1xyXG4gICAgdGhpcy5zY2VuZS50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICBkZWxheTogMjAwLFxyXG4gICAgICAgIHJlcGVhdDogNSxcclxuICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRBbHBoYSh0aGlzLnNwcml0ZS5hbHBoYSA9PT0gMSA/IDAuMyA6IDEpO1xyXG4gICAgICAgICAgICB0aGlzLnR1cnJldC5zZXRhbHBoYSh0aGlzLnR1cnJldC5zcHJpdGUuYWxwaGEgPT09IDEgPyAwLjMgOiAxKTtcclxuICAgICAgICAgICAgYmxpbmtDb3VudCsrO1xyXG4gICAgICAgICAgICBpZiAoYmxpbmtDb3VudCA+PSA1KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRBbHBoYSgxKTsgXHJcbiAgICAgICAgICAgICAgICB0aGlzLnR1cnJldC5zZXRhbHBoYSgxKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW52dWxuZXJhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuYXBwbHlOb1Nob290KG1zKSB7XHJcbiAgICBjb25zdCBub3cgPSB0aGlzLnNjZW5lLnRpbWUubm93O1xyXG4gICAgdGhpcy5ub1Nob290VW50aWwgPSBNYXRoLm1heCh0aGlzLm5vU2hvb3RVbnRpbCwgbm93ICsgbXMpO1xyXG4gICAgdGhpcy5jYW5TaG9vdCA9IGZhbHNlO1xyXG5cclxuICAgIHRoaXMuc2NlbmUudGltZS5kZWxheWVkQ2FsbChtcywgKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnNjZW5lLnRpbWUubm93ID49IHRoaXMubm9TaG9vdFVudGlsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FuU2hvb3QgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5kZXN0cm95KCkge1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLnR1cnJldC5kZXN0cm95KCk7XHJcbn1cclxufSIsIlxyXG5cclxuZXhwb3J0IGNsYXNzIFBvd2VyVXAge1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIHgsIHksIHR5cGUsIGdlbmVyYXRvcikge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmdlbmVyYXRvciA9IGdlbmVyYXRvcjtcclxuICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTsgXHJcbiAgICAgICAgaWYgKHR5cGU9PT0nSGVhbCcpXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlID0gdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoeCwgeSwgJ1ZpZGEnKS5zZXRTY2FsZSgwLjA1KTsvL2NhbWJpYXIgY3VhbmRvIHNlIHRlbmdhblxyXG4gICAgICAgIGlmICh0eXBlPT09J1NwZWVkJylcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSh4LCB5LCAnQnViYmxlJyk7Ly9jYW1iaWFyIGN1YW5kbyBzZSB0ZW5nYW5cclxuICAgICAgICBpZiAodHlwZT09PSdTaGllbGQnKVxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdCYXNlQmx1ZScpOy8vY2FtYmlhciBjdWFuZG8gc2UgdGVuZ2FuXHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICdOb1Nob290JylcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSh4LCB5LCAnQnViYmxlJyk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0RGVwdGgoMSk7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVDb2xsaXN0aW9ucygpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUucG93ZXJVcHNHcm91cC5hZGQodGhpcy5zcHJpdGUpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICAgICAgJ0Rpc3BsYXk6JywgdGhpcy5zcHJpdGUuZGlzcGxheVdpZHRoLCB0aGlzLnNwcml0ZS5kaXNwbGF5SGVpZ2h0LFxyXG4gICAgICAgICAgICAnQm9keTonLCB0aGlzLnNwcml0ZS5ib2R5LndpZHRoLCB0aGlzLnNwcml0ZS5ib2R5LmhlaWdodFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBhcGx5UG93ZXJVcCh0YW5rLCB0eXBlKXtcclxuICAgICAgICBzd2l0Y2godHlwZSl7XHJcbiAgICAgICAgICAgIGNhc2UgJ0hlYWwnOlxyXG4gICAgICAgICAgICAgICAgaWYgKHRhbmsudmlkYXM8NSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFuay52aWRhcys9MTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmFjdHVhbGl6YXJWaWRhcyh0YW5rLmlkLCB0YW5rLnZpZGFzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdTcGVlZCc6XHJcbiAgICAgICAgICAgICAgICB0YW5rLnNwZWVkTXVsdGlwbGllcj0xLjU7ICAgIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS50aW1lLmRlbGF5ZWRDYWxsKDUwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0YW5rLnNwZWVkTXVsdGlwbGllcj0xO1xyXG4gICAgICAgICAgICAgICAgfSwgW10sIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7ICBcclxuICAgICAgICAgICAgY2FzZSAnU2hpZWxkJzpcclxuICAgICAgICAgICAgICAgIHRhbmsuaW52dWxuZXJhYmxlID0gdHJ1ZTsgICAgXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnRpbWUuZGVsYXllZENhbGwoNTAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhbmsuaW52dWxuZXJhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9LCBbXSwgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICBicmVhazsgIFxyXG4gICAgICAgICAgICBjYXNlICdOb1Nob290JzpcclxuICAgICAgICAgICAgICAgIHRhbmsuYXBwbHlOb1Nob290KDUwMDApOyAvLyA1IHNlZ3VuZG9zIHNpbiBkaXNwYXJhclxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVDb2xsaXN0aW9ucygpIHtcclxuICAgIHRoaXMuc2NlbmUucGxheWVycy5mb3JFYWNoKHRhbmtDb2xsZWN0b3IgPT4ge1xyXG4gICAgICAgIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zcHJpdGUsIHRhbmtDb2xsZWN0b3Iuc3ByaXRlLCAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAvLyBCdXNjYXIgcml2YWxcclxuICAgICAgICAgICAgbGV0IGVuZW15VGFuayA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGxheWVycy5mb3JFYWNoKHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHQgIT09IHRhbmtDb2xsZWN0b3IpIGVuZW15VGFuayA9IHQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gU29sbyBuZWdhdGl2b3MgYWwgcml2YWxcclxuICAgICAgICAgICAgY29uc3QgbmVnYXRpdmVUeXBlcyA9IG5ldyBTZXQoWydOb1Nob290J10pO1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXRUYW5rID0gbmVnYXRpdmVUeXBlcy5oYXModGhpcy50eXBlKVxyXG4gICAgICAgICAgICAgICAgPyAoZW5lbXlUYW5rID8/IHRhbmtDb2xsZWN0b3IpXHJcbiAgICAgICAgICAgICAgICA6IHRhbmtDb2xsZWN0b3I7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFwbHlQb3dlclVwKHRhcmdldFRhbmssIHRoaXMudHlwZSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdG9yLm1heFBvd2VyVXBzIC09IDE7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxufSBcclxuICAgIiwiXHJcbmltcG9ydCB7IFBvd2VyVXAgfSBmcm9tICcuL1Bvd2VyVXAuanMnO1xyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgUG93ZXJVcEdlbmVyYXRvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSxpbnRlcnZhbCkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmludGVydmFsPWludGVydmFsOyBcclxuICAgICAgICB0aGlzLnR5cGVzID0gWydIZWFsJywgJ1NwZWVkJywgJ1NoaWVsZCcsICdOb1Nob290J107XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbnNYID0gWzEwMCw3MDAsNzAwLDEwMCw0MDBdO1xyXG4gICAgICAgIHRoaXMucG9zaXRpb25zWSA9IFsxNTAsNTAwLDE1MCw1MDAsMzAwXTtcclxuICAgICAgICB0aGlzLm1heFBvd2VyVXBzID0gMDtcclxuICAgICAgICB0aGlzLnN0YXJ0R2VuZXJhdGluZygpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0R2VuZXJhdGluZygpIHtcclxuICAgICAgICB0aGlzLnNjZW5lLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICAgICAgICBkZWxheTogdGhpcy5pbnRlcnZhbCxcclxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHRoaXMuZ2VuZXJhdGVQb3dlclVwKCksXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaXNTcGF3blZhbGlkKHgsIHkpIHtcclxuICAgICAgICAvLyBab25hIGludmlzaWJsZSBkZWwgdGFtYcOxbyBhcHJveGltYWRvIGRlbCBwb3dlci11cFxyXG4gICAgICAgIGNvbnN0IHpvbmUgPSB0aGlzLnNjZW5lLmFkZC56b25lKHgsIHksIDQwLCA0MCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5leGlzdGluZyh6b25lKTtcclxuICAgICAgICB6b25lLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIFNpIHRvY2EgY3VhbHF1aWVyIG11cm8vb2JzdMOhY3VsbyA9PiBubyB2YWxlXHJcbiAgICAgICAgY29uc3QgaGl0V2FsbCA9IHRoaXMuc2NlbmUucGh5c2ljcy5vdmVybGFwKHpvbmUsIHRoaXMuc2NlbmUub2JzdGFjbGVzKTtcclxuXHJcbiAgICAgICAgY29uc3QgaGl0UG93ZXJVcCA9IHRoaXMuc2NlbmUucG93ZXJVcHNHcm91cFxyXG4gICAgICAgICAgICA/IHRoaXMuc2NlbmUucGh5c2ljcy5vdmVybGFwKHpvbmUsIHRoaXMuc2NlbmUucG93ZXJVcHNHcm91cClcclxuICAgICAgICAgICAgOiBmYWxzZTtcclxuXHJcbiAgICAgICAgem9uZS5kZXN0cm95KCk7XHJcbiAgICAgICAgcmV0dXJuICFoaXRXYWxsICYmICFoaXRQb3dlclVwO1xyXG4gICAgfVxyXG5cclxuICAgIGdlbmVyYXRlUG93ZXJVcCgpIHtcclxuICAgIGlmICh0aGlzLm1heFBvd2VyVXBzID49IDMpIHJldHVybjtcclxuXHJcbiAgICAvLyBQcm9iYXIgcHVudG9zIGVuIG9yZGVuIGFsZWF0b3JpbyBzaW4gcmVwZXRpclxyXG4gICAgY29uc3QgaW5kaWNlcyA9IFBoYXNlci5VdGlscy5BcnJheS5TaHVmZmxlKFxyXG4gICAgICAgIFsuLi5BcnJheSh0aGlzLnBvc2l0aW9uc1gubGVuZ3RoKS5rZXlzKCldXHJcbiAgICApO1xyXG5cclxuICAgIGZvciAoY29uc3QgaSBvZiBpbmRpY2VzKSB7XHJcbiAgICAgICAgY29uc3QgeCA9IHRoaXMucG9zaXRpb25zWFtpXTtcclxuICAgICAgICBjb25zdCB5ID0gdGhpcy5wb3NpdGlvbnNZW2ldO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5pc1NwYXduVmFsaWQoeCwgeSkpIHtcclxuICAgICAgICAgICAgY29uc3QgdHlwZSA9IFBoYXNlci5VdGlscy5BcnJheS5HZXRSYW5kb20odGhpcy50eXBlcyk7XHJcbiAgICAgICAgICAgIG5ldyBQb3dlclVwKHRoaXMuc2NlbmUsIHgsIHksIHR5cGUsIHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLm1heFBvd2VyVXBzICs9IDE7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBDb21tYW5kUHJvY2Vzc29yIHtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lID0gbnVsbDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgc2V0UGxheWVycyhwbGF5ZXJzKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gcGxheWVycztcclxuICAgIH1cclxuXHJcbiAgICBzZXRHYW1lU2NlbmUoZ2FtZVNjZW5lKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUgPSBnYW1lU2NlbmU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvY2Vzcyhjb21tYW5kKSB7XHJcbiAgICAgICAgY29tbWFuZC5leGVjdXRlKCk7XHJcbiAgICAgICAgLy8gU2VudCBvdmVyIHRoZSB3ZWJzb2NrZXRcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBDb21tYW5kIHtcclxuXHJcbiAgICBleGVjdXRlKCkge31cclxuXHJcbiAgICBzZXJpYWxpemUoKSB7fVxyXG5cclxuICAgIGdldFBsYXllcigpIHt9XHJcbn0iLCJpbXBvcnQgeyBDb21tYW5kIH0gZnJvbSBcIi4vQ29tbWFuZFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1vdmVUYW5rQ29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHRhbmssIGRpcmVjdGlvbikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy50YW5rID0gdGFuaztcclxuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjsgXHJcbiAgICBcclxuICAgIH1cclxuICAgIFxyXG4gICAgZXhlY3V0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5kaXJlY3Rpb24gPT09ICd1cCcpIHtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnNwcml0ZS5zZXRWZWxvY2l0eVkoLXRoaXMudGFuay5iYXNlU3BlZWQqdGhpcy50YW5rLnNwZWVkTXVsdGlwbGllcik7XHJcbiAgICAgICAgICAgIHRoaXMudGFuay50dXJyZXQucm90YXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMudGFuay50dXJyZXQuc2hvb3QoZmFsc2UpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5kaXJlY3Rpb24gPT09ICdkb3duJykge1xyXG4gICAgICAgICAgICB0aGlzLnRhbmsuc3ByaXRlLnNldFZlbG9jaXR5WSgrdGhpcy50YW5rLmJhc2VTcGVlZCp0aGlzLnRhbmsuc3BlZWRNdWx0aXBsaWVyKTtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnR1cnJldC5yb3RhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnR1cnJldC5zaG9vdChmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9ZWxzZSBpZiAodGhpcy5kaXJlY3Rpb24gPT09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnNwcml0ZS5zZXRWZWxvY2l0eVgodGhpcy50YW5rLmJhc2VTcGVlZCp0aGlzLnRhbmsuc3BlZWRNdWx0aXBsaWVyKTtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnR1cnJldC5yb3RhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnR1cnJldC5zaG9vdChmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9ZWxzZSBpZiAodGhpcy5kaXJlY3Rpb24gPT09ICdsZWZ0Jykge1xyXG4gICAgICAgICAgICB0aGlzLnRhbmsuc3ByaXRlLnNldFZlbG9jaXR5WCgtdGhpcy50YW5rLmJhc2VTcGVlZCp0aGlzLnRhbmsuc3BlZWRNdWx0aXBsaWVyKTtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnR1cnJldC5yb3RhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnR1cnJldC5zaG9vdChmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnRhbmsuc3ByaXRlLnNldFZlbG9jaXR5WSgwKTtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgICAgICAgICAgIHRoaXMudGFuay50dXJyZXQuc3ByaXRlLnNldFZlbG9jaXR5WSgwKTtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnR1cnJldC5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgICAgICB0aGlzLnRhbmsudHVycmV0LnNob290KHRydWUpOyAvL2hheSBxaWUgbGltaXRhcmxvXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudGFuay50dXJyZXQuU2V0UG9zaXRpb24odGhpcy50YW5rLkdldFgoKSx0aGlzLnRhbmsuR2V0WSgpKTtcclxuICAgICAgICB0aGlzLnRhbmsudHVycmV0LmFpbSgpO1xyXG4gICAgICAgIGlmICh0aGlzLnRhbmsuc3ByaXRlLmJvZHkpIHtcclxuICAgICAgICAgICAgY29uc3QgdnggPSB0aGlzLnRhbmsuc3ByaXRlLmJvZHkudmVsb2NpdHkueDtcclxuICAgICAgICAgICAgY29uc3QgdnkgPSB0aGlzLnRhbmsuc3ByaXRlLmJvZHkudmVsb2NpdHkueTtcclxuXHJcbiAgICAgICAgICAgIC8vIGF0YW4yIGRldnVlbHZlIGVsIMOhbmd1bG8gZW4gcmFkaWFuZXMgc2Vnw7puIGxhIGRpcmVjY2nDs24gZGVsIHZlY3RvclxyXG4gICAgICAgICAgICB0aGlzLnRhbmsuc3ByaXRlLnJvdGF0aW9uID0gTWF0aC5hdGFuMih2eSwgdngpKyhNYXRoLlBJLzIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG59IiwiaW1wb3J0IHsgQ29tbWFuZCB9IGZyb20gXCIuL0NvbW1hbmRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQYXVzZUdhbWVDb21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZ2FtZVNjZW5lLCBpc1BhdXNlZCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUgPSBnYW1lU2NlbmU7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGlzUGF1c2VkXHJcbiAgICB9XHJcblxyXG4gICAgZXhlY3V0ZSgpIHtcclxuICAgICAgICB0aGlzLmdhbWVTY2VuZS5zZXRQYXVzZVN0YXRlKHRoaXMuaXNQYXVzZWQpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBUYW5rIH0gZnJvbSAnLi4vZW50aXRpZXMvVGFuayc7XHJcbmltcG9ydCB7IFBvd2VyVXBHZW5lcmF0b3IgfSBmcm9tICcuLi9lbnRpdGllcy9Qb3dlclVwR2VuZXJhdG9yLmpzJztcclxuaW1wb3J0IHsgQ29tbWFuZFByb2Nlc3NvciB9IGZyb20gJy4uL2NvbW1hbmRzL0NvbW1hbmRQcm9jZXNzb3InO1xyXG5pbXBvcnQgeyBNb3ZlVGFua0NvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kcy9Nb3ZlVGFua0NvbW1hbmQnO1xyXG5pbXBvcnQgeyBQYXVzZUdhbWVDb21tYW5kIH0gZnJvbSAnLi4vY29tbWFuZHMvUHVhc2VHYW1lQ29tbWFuZCc7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignR2FtZVNjZW5lJyk7XHJcbiAgICB9XHJcbiAgICBwcmVsb2FkKCkgey8vY2FyZ2EgZGUgYXJjaGl2b3NcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0ZvbmRvJywgJ2ltYWdlbmVzL0ZvbmRvLmpwZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnVmlkYScsICdpbWFnZW5lcy9WaWRhQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCdWJibGUnLCAnaW1hZ2VuZXMvQnVyYnVqYUNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTWVkaW9NYXBhJywgJ2ltYWdlbmVzL01lZGlvT2JzdGFjdWxvQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQYWxvJywgJ2ltYWdlbmVzL1BhbG9PYnN0YWN1bG9DVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0Jsb3F1ZVNpbXBsZScsICdpbWFnZW5lcy9UaWxlTXVyby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0JvdHRvbVRvcFdhbGwnLCAnaW1hZ2VuZXMvQm90dG9tVG9wQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdMZWZ0UmlnaHRXYWxsJywgJ2ltYWdlbmVzL0xlZnRSaWdodENXLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0Jhc2VSZWQnLCAnaW1hZ2VuZXMvVGFucXVlUm9qb0NXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnVG9ycmV0YVJlZCcsICdpbWFnZW5lcy9DYW5vblJvam9DVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0JhbGFSZWQnLCAnaW1hZ2VuZXMvQmFsYU5Sb2pvQ3cucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmFzZUdyZWVuJywgJ2ltYWdlbmVzL1RhbnF1ZVZlcmRlQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdUb3JyZXRhR3JlZW4nLCAnaW1hZ2VuZXMvQ2Fub25WZXJkZUNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmFsYUdyZWVuJywgJ2ltYWdlbmVzL0JhbGFOVmVyZGVDVy5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCYXNlQmx1ZScsICdpbWFnZW5lcy9UYW5xdWVBenVsQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdUb3JyZXRhQmx1ZScsICdpbWFnZW5lcy9DYW5vbkF6dWxDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0JhbGFCbHVlJywgJ2ltYWdlbmVzL0JhbGFOQXp1bENXLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0Jhc2VZZWxsb3cnLCAnaW1hZ2VuZXMvVGFucXVlQW1hcmlsbG9DVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1RvcnJldGFZZWxsb3cnLCAnaW1hZ2VuZXMvQ2Fub25BbWFyaWxsb0NXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmFsYVllbGxvdycsICdpbWFnZW5lcy9CYWxhTkFtYXJpbGxvQ1cucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTXVyb0Jsb3F1ZTYnLCAnaW1hZ2VuZXMvTWVkaW9PYnN0YWN1bG9DVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0Jsb3F1ZScsICdpbWFnZW5lcy9UaWxlTXVyby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BhbG8nLCAnaW1hZ2VuZXMvUGFsb09ic3RhY3Vsb0NXLnBuZycpO1xyXG4gICAgICAgXHJcbiAgICB9XHJcbiAgICBpbml0KGRhdGEpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzID0gW107XHJcbiAgICAgICAgdGhpcy5iYWxsID0gbnVsbDtcclxuICAgICAgICB0aGlzLnBvd2VyVXBHZW5lcmF0b3IgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVzY1dhc0Rvd24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnByb2Nlc3NvciA9IG5ldyBDb21tYW5kUHJvY2Vzc29yKCk7XHJcbiAgICAgICAgdGhpcy5pc0dhbWVPdmVyID0gZmFsc2U7XHJcbiAgICAgICAgLy8gQ29sb3JlcyBxdWUgdmllbmVuIGRlIFNlbGVjdENvbG9yXHJcbiAgICAgICAgdGhpcy5jb2xvclBsYXllcjEgPSBkYXRhPy5jb2xvclBsYXllcjE7XHJcbiAgICAgICAgdGhpcy5jb2xvclBsYXllcjIgPSBkYXRhPy5jb2xvclBsYXllcjI7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5wb3dlclVwc0dyb3VwID0gdGhpcy5waHlzaWNzLmFkZC5ncm91cCgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDMwMCwgJ0ZvbmRvJyk7ICAgICAgIFxyXG4gICAgICAgIHRoaXMuY3JlYXRlQm91bmRzKCk7XHJcbiAgICAgICAgLy90aGlzLmNyZWF0ZUJhbGwoKTtcclxuICAgICAgICAvL3RoaXMubGF1bmNoQmFsbCgpO1xyXG5cclxuICAgICAgICAvLyBPYnN0w6FjdWxvc1xyXG4gICAgICAgIHRoaXMub2JzdGFjbGVzID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNHcm91cChcclxuICAgICAgICB0aGlzLnRvcCwgdGhpcy5ib3R0b20sIHRoaXMubGVmdCwgdGhpcy5yaWdodCxcclxuICAgICAgICB0aGlzLmJsb2NrMSwgdGhpcy5ibG9jazIsXHJcbiAgICAgICAgdGhpcy5jZW50cm8xLCB0aGlzLmNlbnRybzIsIHRoaXMuY2VudHJvMyxcclxuICAgICAgICB0aGlzLnBhbG8xLCB0aGlzLnBhbG8yXHJcbiAgICAgICAgKTtcclxuICAgIFxyXG5cclxuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLmJhbGwsIHRoaXMubGVmdEdvYWwsIHRoaXMuc2NvcmVSaWdodEdvYWwsIG51bGwsIHRoaXMpO1xyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMuYmFsbCwgdGhpcy5yaWdodEdvYWwsIHRoaXMuc2NvcmVMZWZ0R29hbCwgbnVsbCwgdGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0VXBQbGF5ZXJzKCk7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVDb2xsaXNpb25zKCk7XHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIHRoaXMudmlkYXNKdWdhZG9yZXMoKTtcclxuICAgICAgICB0aGlzLnBvd2VyVXBHZW5lcmF0b3IgPSBuZXcgUG93ZXJVcEdlbmVyYXRvcih0aGlzLCAxMDAwMCk7IC8vIEdlbmVyYSB1biBwb3dlci11cCBjYWRhIDEwIHNlZ3VuZG9zXHJcbiAgICAgICAgdGhpcy5lc2NLZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuRVNDKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgdmlkYXNKdWdhZG9yZXMoKSB7XHJcbiAgICAgICAgdGhpcy52aWRhUGxheWVyMSA9IFtdO1xyXG4gICAgICAgIHRoaXMudmlkYVBsYXllcjIgPSBbXTtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSgxMCwgMjAsIGBCYXNlJHt0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuY29sb3J9YCkuc2V0T3JpZ2luKDAsIDApO1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDc0MCwgMjAsIGBCYXNlJHt0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuY29sb3J9YCkuc2V0T3JpZ2luKDAsIDApO1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDM1LCA0MCwgYFRvcnJldGEke3RoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5jb2xvcn1gKS5zZXRPcmlnaW4oMC4xNSwgMC41KTtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3NjUsIDQwLCBgVG9ycmV0YSR7dGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLmNvbG9yfWApLnNldE9yaWdpbigwLjE1LCAwLjUpLnNldFJvdGF0aW9uKE1hdGguUEkpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZpZGExID0gdGhpcy5hZGQuaW1hZ2UoOTAgKyBpICogMzAsIDM1LCAnVmlkYScpLnNldFNjYWxlKDAuMDUpO1xyXG4gICAgICAgICAgICB0aGlzLnZpZGFQbGF5ZXIxLnB1c2godmlkYTEpO1xyXG4gICAgICAgICAgICBjb25zdCB2aWRhMiA9IHRoaXMuYWRkLmltYWdlKDcxMCAtIGkgKiAzMCwgMzUsICdWaWRhJykuc2V0U2NhbGUoMC4wNSk7XHJcbiAgICAgICAgICAgIHRoaXMudmlkYVBsYXllcjIucHVzaCh2aWRhMik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gXHJcbiAgICBhY3R1YWxpemFyVmlkYXMocGxheWVySWQsIHZpZGFzUmVzdGFudGVzKSB7XHJcbiAgICAgICAgY29uc3QgdmlkYUFycmF5ID0gcGxheWVySWQgPT09ICdwbGF5ZXIxJyA/IHRoaXMudmlkYVBsYXllcjEgOiB0aGlzLnZpZGFQbGF5ZXIyO1xyXG4gICAgICAgIGlmICh2aWRhQXJyYXkubGVuZ3RoID4gdmlkYXNSZXN0YW50ZXMpIHtcclxuICAgICAgICAgICAgY29uc3QgdmlkYVNwcml0ZSA9IHZpZGFBcnJheS5wb3AoKTtcclxuICAgICAgICAgICAgdmlkYVNwcml0ZS5kZXN0cm95KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh2aWRhQXJyYXkubGVuZ3RoIDwgdmlkYXNSZXN0YW50ZXMpIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllcklkID09PSAncGxheWVyMScpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG51ZXZhVmlkYSA9IHRoaXMuYWRkLmltYWdlKDkwICsgdmlkYUFycmF5Lmxlbmd0aCAqIDMwLCAzNSwgJ1ZpZGEnKS5zZXRTY2FsZSgwLjA1KTtcclxuICAgICAgICAgICAgICAgIHZpZGFBcnJheS5wdXNoKG51ZXZhVmlkYSk7XHJcbiAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXJJZCA9PT0gJ3BsYXllcjInKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBudWV2YVZpZGEgPSB0aGlzLmFkZC5pbWFnZSg3MTAgLSB2aWRhQXJyYXkubGVuZ3RoICogMzAsIDM1LCAnVmlkYScpLnNldFNjYWxlKDAuMDUpO1xyXG4gICAgICAgICAgICAgICAgdmlkYUFycmF5LnB1c2gobnVldmFWaWRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodmlkYXNSZXN0YW50ZXMgPD0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmlzR2FtZU92ZXIgPSB0cnVlOyBcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnR2FtZU92ZXJTY2VuZScse1xyXG4gICAgICAgICAgICAgICAgZ2FuYWRvcjogcGxheWVySWQ9PT0ncGxheWVyMScgPyAncGxheWVyMicgOiAncGxheWVyMScsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogdGhpcy5wbGF5ZXJzLmdldChwbGF5ZXJJZD09PSdwbGF5ZXIxJyA/ICdwbGF5ZXIyJyA6ICdwbGF5ZXIxJykuY29sb3JcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldFVwUGxheWVycygpIHtcclxuICAgICAgICBjb25zdCB0YW5rMSA9IG5ldyBUYW5rKHRoaXMsICdwbGF5ZXIxJywgOTAsIDMwMCx0aGlzLmNvbG9yUGxheWVyMSk7XHJcbiAgICAgICAgY29uc3QgdGFuazIgPSBuZXcgVGFuayh0aGlzLCAncGxheWVyMicsIDcxMCwgMzAwLHRoaXMuY29sb3JQbGF5ZXIyKTsgXHJcblxyXG4gICAgICAgIHRhbmsxLlNldFRhcmdldCh0YW5rMik7XHJcbiAgICAgICAgdGFuazIuU2V0VGFyZ2V0KHRhbmsxKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIxJywgdGFuazEpO1xyXG4gICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjInLCB0YW5rMik7XHJcblxyXG4gICAgICAgIGNvbnN0IElucHV0Q29uZmlnID0gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogJ3BsYXllcjEnLFxyXG4gICAgICAgICAgICAgICAgdXBLZXkgOiAnVycsXHJcbiAgICAgICAgICAgICAgICBkb3duS2V5IDogJ1MnLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXkgOiAnRCcsXHJcbiAgICAgICAgICAgICAgICBsZWZ0S2V5IDogJ0EnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiAncGxheWVyMicsXHJcbiAgICAgICAgICAgICAgICB1cEtleSA6ICdVUCcsXHJcbiAgICAgICAgICAgICAgICBkb3duS2V5IDogJ0RPV04nLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXkgOiAnUklHSFQnLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleSA6ICdMRUZUJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXVxyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncyA9IElucHV0Q29uZmlnLm1hcChjb25maWcgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQgOiBjb25maWcucGxheWVySWQsXHJcbiAgICAgICAgICAgICAgICB1cEtleU9iaiA6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcudXBLZXldKSxcclxuICAgICAgICAgICAgICAgIGRvd25LZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcuZG93bktleV0pLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcucmlnaHRLZXldKSxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcubGVmdEtleV0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzY29yZUxlZnRHb2FsKCkge1xyXG4gICAgICAgIGNvbnN0IHBsYXllcjEgPSB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJyk7XHJcbiAgICAgICAgcGxheWVyMS5zY29yZSAtPSAxO1xyXG4gICAgICAgIC8vdGhpcy5zY29yZUxlZnQuc2V0VGV4dChwbGF5ZXIxLnNjb3JlLnRvU3RyaW5nKCkpO1xyXG5cclxuICAgICAgICBpZiAocGxheWVyMS5zY29yZSA+PSAyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW5kR2FtZSgncGxheWVyMScpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzZXRCYWxsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNjb3JlUmlnaHRHb2FsKCkge1xyXG4gICAgICAgIGNvbnN0IHBsYXllcjIgPSB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJyk7XHJcbiAgICAgICAgcGxheWVyMi5zY29yZSArPSAxO1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcwMCArIDMwICogKHBsYXllcjIuc2NvcmUgLSAxKSwgMTAwLCAnVmlkYScpLnNldFNjYWxlKDAuNSk7XHJcbiAgICAgICAgLy90aGlzLnJpZ2h0U2NvcmUuc2V0VGV4dChwbGF5ZXIyLnNjb3JlLnRvU3RyaW5nKCkpO1xyXG5cclxuICAgICAgICBpZiAocGxheWVyMi5zY29yZSA+PSAyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW5kR2FtZSgncGxheWVyMicpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzZXRCYWxsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGVuZEdhbWUod2lubmVySWQpIHtcclxuICAgICAgICB0aGlzLmJhbGwuc2V0VmVsb2NpdHkoMCwgMCk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2godGFuayA9PiB7XHJcbiAgICAgICAgICAgIHRhbmsuc3ByaXRlLnNldFZlbG9jaXR5KDAsIDApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5wYXVzZSgpO1xyXG5cclxuICAgICAgICBjb25zdCB3aW5uZXJUZXh0ID0gd2lubmVySWQgPT09ICdwbGF5ZXIxJyA/ICdQbGF5ZXIgMSBXaW5zIScgOiAnUGxheWVyIDIgV2lucyEnO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAyNTAsIHdpbm5lclRleHQsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc2NHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDBmZjAwJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCBtZW51QnRuID0gdGhpcy5hZGQudGV4dCg0MDAsIDM1MCwgJ1JldHVybiB0byBNYWluIE1lbnUnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IG1lbnVCdG4uc2V0Q29sb3IoJyNjY2NjY2MnKSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBtZW51QnRuLnNldENvbG9yKCcjZmZmZmZmJykpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzZXRCYWxsKCkge1xyXG4gICAgICAgIHRoaXMuYmFsbC5zZXRWZWxvY2l0eSgwLCAwKTtcclxuICAgICAgICB0aGlzLmJhbGwuc2V0UG9zaXRpb24oNDAwLCAzMDApO1xyXG4gICAgXHJcbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDEwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sYXVuY2hCYWxsKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgbGF1bmNoQmFsbCgpIHtcclxuICAgICAgICBjb25zdCBhbmdsZSA9IFBoYXNlci5NYXRoLkJldHdlZW4oLTMwLCAzMCk7XHJcbiAgICAgICAgY29uc3Qgc3BlZWQgPSAzMDA7XHJcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gTWF0aC5yYW5kb20oKSA8IDAuNSA/IDEgOiAtMTtcclxuXHJcbiAgICAgICAgdGhpcy5iYWxsLnNldFZlbG9jaXR5KFxyXG4gICAgICAgICAgICBNYXRoLmNvcyhQaGFzZXIuTWF0aC5EZWdUb1JhZChhbmdsZSkpICogc3BlZWQgKiBkaXJlY3Rpb24sXHJcbiAgICAgICAgICAgIE1hdGguc2luKFBoYXNlci5NYXRoLkRlZ1RvUmFkKGFuZ2xlKSkgKiBzcGVlZFxyXG4gICAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVCYWxsKCkge1xyXG4gICAgICAgIGNvbnN0IGdyYXBoaWNzID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcclxuICAgICAgICBncmFwaGljcy5maWxsU3R5bGUoMHhmZmZmZmYpO1xyXG4gICAgICAgIGdyYXBoaWNzLmZpbGxDaXJjbGUoOCwgOCwgOCk7XHJcbiAgICAgICAgZ3JhcGhpY3MuZ2VuZXJhdGVUZXh0dXJlKCdiYWxsJywgMTYsIDE2KTtcclxuICAgICAgICBncmFwaGljcy5kZXN0cm95KCk7XHJcblxyXG4gICAgICAgIHRoaXMuYmFsbCA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDQwMCwgMzAwLCAnYmFsbCcpO1xyXG4gICAgICAgIHRoaXMuYmFsbC5zZXRDb2xsaWRlV29ybGRCb3VuZHModHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5iYWxsLnNldEJvdW5jZSgxKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVCb3VuZHMoKSB7XHJcblxyXG4gICAgICAgIC8vTXVyb3MgYXJyaWJhIHkgYWJham9cclxuICAgICAgICB0aGlzLnRvcCA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDQwMCwgODMsICdCb3R0b21Ub3BXYWxsJyk7XHJcbiAgICAgICAgdGhpcy50b3Auc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMudG9wLmJvZHkuc2V0U2l6ZSg3NjUsNDUpO1xyXG5cclxuICAgICAgICB0aGlzLmJvdHRvbSA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDQwMCwgNTc3LCAnQm90dG9tVG9wV2FsbCcpO1xyXG4gICAgICAgIHRoaXMuYm90dG9tLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmJvdHRvbS5ib2R5LnNldFNpemUoNzY1LDQ1KTtcclxuXHJcbiAgICAgICAgLy9NdXJvcyBpenF1aWVyZGEgeSBkZXJlY2hhXHJcbiAgICAgICAgdGhpcy5sZWZ0ID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoNDAsIDMzMCwgJ0xlZnRSaWdodFdhbGwnKTtcclxuICAgICAgICB0aGlzLmxlZnQuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMubGVmdC5ib2R5LnNldFNpemUoNDUsNDUwKTtcclxuICAgICAgICBcclxuXHJcbiAgICAgICAgdGhpcy5yaWdodCA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDc2MCwgMzMwLCAnTGVmdFJpZ2h0V2FsbCcpO1xyXG4gICAgICAgIHRoaXMucmlnaHQuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucmlnaHQuYm9keS5zZXRTaXplKDQ1LDQ1MCk7XHJcblxyXG4gICAgICAgIC8vYmxvcXVlcyBkZSA2XHJcbiAgICAgICAgdGhpcy5ibG9jazE9dGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoNDAwLDE5OCxcIk11cm9CbG9xdWU2XCIpO1xyXG4gICAgICAgIHRoaXMuYmxvY2sxLnNldEltbW92YWJsZSh0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5ibG9jazI9dGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoNDAwLDQ2MixcIk11cm9CbG9xdWU2XCIpO1xyXG4gICAgICAgIHRoaXMuYmxvY2syLnNldEltbW92YWJsZSh0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5jZW50cm8xPXRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDQwMCw0NjItMTEwLFwiQmxvcXVlXCIpO1xyXG4gICAgICAgIHRoaXMuY2VudHJvMS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5jZW50cm8yPXRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDQwMC00NSw0NjItMTU1LFwiQmxvcXVlXCIpO1xyXG4gICAgICAgIHRoaXMuY2VudHJvMi5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5jZW50cm8zPXRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDQwMCs0NSw0NjItMTU1LFwiQmxvcXVlXCIpO1xyXG4gICAgICAgIHRoaXMuY2VudHJvMy5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMucGFsbzE9dGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoNjQ4LDQzOSxcIlBhbG9cIik7XHJcbiAgICAgICAgdGhpcy5wYWxvMS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wYWxvMj10aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSgxNTIsMjE4LFwiUGFsb1wiKTtcclxuICAgICAgICB0aGlzLnBhbG8yLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVDb2xsaXNpb25zKCl7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2godGFuayA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5sZWZ0LCB0YW5rLnNwcml0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5yaWdodCwgdGFuay5zcHJpdGUpO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMudG9wLCB0YW5rLnNwcml0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5ib3R0b20sIHRhbmsuc3ByaXRlKTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLmJsb2NrMSwgdGFuay5zcHJpdGUpO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuYmxvY2syLCB0YW5rLnNwcml0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5jZW50cm8xLCB0YW5rLnNwcml0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5jZW50cm8yLCB0YW5rLnNwcml0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5jZW50cm8zLCB0YW5rLnNwcml0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5wYWxvMSwgdGFuay5zcHJpdGUpO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMucGFsbzIsIHRhbmsuc3ByaXRlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRQYXVzZVN0YXRlKGlzUGF1c2VkKSB7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGlzUGF1c2VkO1xyXG4gICAgICAgIGlmIChpc1BhdXNlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnUGF1c2VTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogJ0dhbWVTY2VuZScgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICB9IFxyXG4gICAgfVxyXG5cclxuICAgIHJlc3VtZSgpIHtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlUGF1c2UoKSB7XHJcbiAgICAgICAgY29uc3QgbmV3UGF1c2VTdGF0ZSA9ICF0aGlzLmlzUGF1c2VkO1xyXG4gICAgICAgIHRoaXMucHJvY2Vzc29yLnByb2Nlc3MoXHJcbiAgICAgICAgICAgIG5ldyBQYXVzZUdhbWVDb21tYW5kKHRoaXMsIG5ld1BhdXNlU3RhdGUpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNHYW1lT3ZlcikgcmV0dXJuO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0aGlzLmVzY0tleS5pc0Rvd24gJiYgIXRoaXMuZXNjV2FzRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmlucHV0TWFwcGluZ3MuZm9yRWFjaChtYXBwaW5nID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdGFuayA9IHRoaXMucGxheWVycy5nZXQobWFwcGluZy5wbGF5ZXJJZCk7XHJcbiAgICAgICAgICAgIGxldCBkaXJlY3Rpb24gPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAobWFwcGluZy51cEtleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICd1cCc7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWFwcGluZy5kb3duS2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ2Rvd24nO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1hcHBpbmcubGVmdEtleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdsZWZ0JztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChtYXBwaW5nLnJpZ2h0S2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ3JpZ2h0JztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdzdG9wJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgbW92ZUNvbW1hbmQgPSBuZXcgTW92ZVRhbmtDb21tYW5kKHRhbmssIGRpcmVjdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc29yLnByb2Nlc3MobW92ZUNvbW1hbmQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhdXNlU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdQYXVzZVNjZW5lJyk7XHJcbiAgICB9XHJcbiAgIFxyXG5wcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRm9uZG8nLCAnaW1hZ2VuZXMvRm9uZG8uanBnJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCVE5QYXVzZScsICdpbWFnZW5lcy9QYXVzYUNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQlROTWVudScsICdpbWFnZW5lcy9NZW51Q1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCVE5Db250aW51ZScsICdpbWFnZW5lcy9Db250aW51YXJDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3NmeCcsICdhdWRpby9tZW51c2Z4Lm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZShkYXRhKSB7XHJcbiAgICAgICAgLy9mb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQwMCwgMzAwLCAnRm9uZG8nKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDAwLDIwMCwnQlROUGF1c2UnKS5zZXRPcmlnaW4oMC41KS5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHJlc3VtZUJ0biA9IHRoaXMuYWRkLmltYWdlKDQwMCwzMTAsJ0JUTkNvbnRpbnVlJykuc2V0T3JpZ2luKDAuNSkuc2V0U2NhbGUoMC4yNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoe3VzZUhhbmRDdXJzb3I6IHRydWV9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiByZXN1bWVCdG4uc2V0U2NhbGUoMC4yOCkpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gcmVzdW1lQnRuLnNldFNjYWxlKDAuMjUpKVxyXG4gICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnc2Z4JywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKGRhdGEub3JpZ2luYWxTY2VuZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuZ2V0KGRhdGEub3JpZ2luYWxTY2VuZSkucmVzdW1lKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG1lbnVCdG4gPSB0aGlzLmFkZC5pbWFnZSg0MDAsNDAwLCdCVE5NZW51Jykuc2V0T3JpZ2luKDAuNSkuc2V0U2NhbGUoMC40KVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7dXNlSGFuZEN1cnNvcjogdHJ1ZX0pXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IG1lbnVCdG4uc2V0U2NhbGUoMC40MykpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbWVudUJ0bi5zZXRTY2FsZSgwLjQpKVxyXG4gICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnc2Z4JywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCdHYW1lU2NlbmUnKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgQ3JlZGl0U2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0NyZWRpdFNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHsvL2NhcmdhIGRlIGFyY2hpdm9zXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdGb25kbycsICdpbWFnZW5lcy9Gb25kby5qcGcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0JUTkNyZWRpdCcsICdpbWFnZW5lcy9DcmVkaXRvc0NXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQXV0b3JlcycsJ2ltYWdlbmVzL0F1dG9yZXNDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3NmeCcsICdhdWRpby9tZW51c2Z4Lm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuXHJcbiAgICAgICAgLy9mb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQwMCwgMzEwLCAnRm9uZG8nKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBjcmVkaXRCdG4gPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDkwLCBcIkJUTkNyZWRpdFwiKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgICAgICAgICBjcmVkaXRCdG4uc2V0U2NhbGUoMS41KTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgMTgwLCAnQ3JlYWRvIHBvcjonLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDAwLDMwMCwnQXV0b3JlcycpLnNldFNjYWxlKDAuMyk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCA0NDUsICdNw7pzaWNhIGRlIFRpbnkgVGFua3MnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzZweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBtZW51QnRuID0gdGhpcy5hZGQuaW1hZ2UoNDAwLDUyNSwnQlROTWVudScpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDAuNClcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoe3VzZUhhbmRDdXJzb3I6IHRydWV9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBtZW51QnRuLnNldFNjYWxlKDAuNDMpKVxyXG4gICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IG1lbnVCdG4uc2V0U2NhbGUoMC40KSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3NmeCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIE9ubGluZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdPbmxpbmVTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7Ly9jYXJnYSBkZSBhcmNoaXZvc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRm9uZG8nLCAnaW1hZ2VuZXMvRm9uZG8uanBnJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzZngnLCAnYXVkaW8vbWVudXNmeC5tcDMnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcblxyXG4gICAgICAgIC8vZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDMxMCwgJ0ZvbmRvJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3Qgb25saW5lQnRuID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCA5MCwgXCJCVE5PbmxpbmVcIilcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgICAgICBvbmxpbmVCdG4uc2V0U2NhbGUoMC4zMyk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAzMTAsICdMYSBmdW5jaW9uYWxpZGFkIG9ubGluZSBubyBlc3TDoSBkaXNwb25pYmxlIGVuIGVzdGEgdmVyc2nDs24nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBtZW51QnRuID0gdGhpcy5hZGQuaW1hZ2UoNDAwLDUyNSwnQlROTWVudScpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDAuNClcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoe3VzZUhhbmRDdXJzb3I6IHRydWV9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBtZW51QnRuLnNldFNjYWxlKDAuNDMpKVxyXG4gICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IG1lbnVCdG4uc2V0U2NhbGUoMC40KSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3NmeCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgVHV0b3JpYWxTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignVHV0b3JpYWxTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7Ly9jYXJnYSBkZSBhcmNoaXZvc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRm9uZG8nLCAnaW1hZ2VuZXMvRm9uZG8uanBnJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdUdXRvcmlhbCcsICdpbWFnZW5lcy9UdXRvcmlhbENXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc2Z4JywgJ2F1ZGlvL21lbnVzZngubXAzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG5cclxuICAgICAgICAvL2ZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDAwLCAzMTAsICdGb25kbycpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQwMCw4MCwnVHV0b3JpYWwnKS5zZXRPcmlnaW4oMC41KS5zZXRTY2FsZSgwLjQpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgMTUwLCAnQ29udHJvbGVzOicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNXB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgMTgwLCAnUGxheWVyIDE6IHdhc2QnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjVweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDIxMCwgJ1BsYXllciAyOiBmbGVjaGFzIGRpcmVjY2lvbmFsZXMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjVweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgMjYwLCAnT2JqZXRpdm86Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI1cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAyOTAsICdRdWl0YXJsZSBsYXMgY2luY28gdmlkYXMgYWwgb3BvbmVudGUnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjVweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDM0MCwgJ01lY8OhbmljYXM6Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI1cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAzNzAsICdEaXNwYXJhcyBhdXRvbcOhdGljYW1lbnRlIHkgc29sbyBjdWFuZG8gZXN0YXMgcXVpZXRvJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI1cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDQwMCwgJ1R1IGNhw7HDs24gc2llbXByZSBhcHVudGEgYWwgb3RybyBqdWdhZG9yJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI1cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDQzMCwgJ0xhcyBiYWxhcyByZWJvdGFuIDMgdmVjZXMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjVweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDQ2MCwgJ1R1cyBwcm9waWFzIGJhbGFzIHB1ZWRlbiBkYXJ0ZScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNXB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCBtZW51QnRuID0gdGhpcy5hZGQuaW1hZ2UoNDAwLDUyNSwnQlROTWVudScpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDAuNClcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoe3VzZUhhbmRDdXJzb3I6IHRydWV9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBtZW51QnRuLnNldFNjYWxlKDAuNDMpKVxyXG4gICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IG1lbnVCdG4uc2V0U2NhbGUoMC40KSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3NmeCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVPdmVyU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0dhbWVPdmVyU2NlbmUnKTtcclxuICAgIH1cclxuICAgIHByZWxvYWQoKXtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0ZvbmRvJywgJ2ltYWdlbmVzL0ZvbmRvLmpwZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQlROTWVudScsICdpbWFnZW5lcy9NZW51Q1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCVE5HYW5hZG9yJywgJ2ltYWdlbmVzL0dhbmFkb3JDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1AnLCAnaW1hZ2VuZXMvUGN3LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnMScsICdpbWFnZW5lcy8xQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCcyJywgJ2ltYWdlbmVzLzJDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3NmeCcsICdhdWRpby9tZW51c2Z4Lm1wMycpO1xyXG4gICAgfVxyXG4gICAgaW5pdChkYXRhKXtcclxuICAgICAgICB0aGlzLmdhbmFkb3I9ZGF0YT8uZ2FuYWRvcjtcclxuICAgICAgICB0aGlzLmNvbG9yPWRhdGE/LmNvbG9yO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDMwMCwgJ0ZvbmRvJyk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQwMCwgMTAwLCAnQlROR2FuYWRvcicpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDAuNik7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDM1NSwgMjAwLCAnUCcpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDAuNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGdhbmFkb3IgPSB0aGlzLmdhbmFkb3I7XHJcbiAgICAgICAgbGV0IGdhbmFkb3JLZXkgPSBudWxsO1xyXG4gICAgICAgIGlmIChnYW5hZG9yLmluY2x1ZGVzKCcxJykpIGdhbmFkb3JLZXkgPSAnMSc7XHJcbiAgICAgICAgZWxzZSBpZiAoZ2FuYWRvci5pbmNsdWRlcygnMicpKSBnYW5hZG9yS2V5ID0gJzInO1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQ0NSwgMjAwLCBnYW5hZG9yS2V5KS5zZXRPcmlnaW4oMC41KS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQwMCwgMzc1LCBgQmFzZSR7dGhpcy5jb2xvcn1gKS5zZXRPcmlnaW4oMC41LCAwLjUpLnNldFNjYWxlKDMpO1xyXG4gICAgICAgIHRoaXMudG9ycmU9dGhpcy5hZGQuaW1hZ2UoNDAwLCAzNzUsIGBUb3JyZXRhJHt0aGlzLmNvbG9yfWApLnNldE9yaWdpbigwLjE1LCAwLjUpLnNldFNjYWxlKDMpO1xyXG5cclxuICAgICAgICBjb25zdCBtZW51QnRuID0gdGhpcy5hZGQuaW1hZ2UoNDAwLDU0MCwnQlROTWVudScpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDAuNClcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoe3VzZUhhbmRDdXJzb3I6IHRydWV9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBtZW51QnRuLnNldFNjYWxlKDAuNDMpKVxyXG4gICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IG1lbnVCdG4uc2V0U2NhbGUoMC40KSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3NmeCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpe1xyXG4gICAgICAgIHRoaXMudG9ycmUucm90YXRpb24rPU1hdGguUEkvMTgwO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBPcHRpb25zU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ09wdGlvbnNTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7Ly9jYXJnYSBkZSBhcmNoaXZvc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRm9uZG8nLCAnaW1hZ2VuZXMvRm9uZG8uanBnJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCVE5NZW51JywgJ2ltYWdlbmVzL01lbnVDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3NmeCcsICdhdWRpby9tZW51c2Z4Lm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBcclxuICAgICAgICAvL2ZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDAwLCAzMTAsICdGb25kbycpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCA5MCwgJ09wY2lvbmVzJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzc1cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgbWVudUJ0biA9IHRoaXMuYWRkLmltYWdlKDQwMCw1MjUsJ0JUTk1lbnUnKS5zZXRPcmlnaW4oMC41KS5zZXRTY2FsZSgwLjQpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHt1c2VIYW5kQ3Vyc29yOiB0cnVlfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbWVudUJ0bi5zZXRTY2FsZSgwLjQzKSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBtZW51QnRuLnNldFNjYWxlKDAuNCkpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdzZngnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBjb25zdCB4ID0gNDAwO1xyXG4gICAgY29uc3QgeSA9IDMwMDtcclxuXHJcbiAgICAvLyBCYXJyYSBkZWwgc2xpZGVyXHJcbiAgICB0aGlzLnNsaWRlckJhciA9IHRoaXMuYWRkLnJlY3RhbmdsZSh4LCB5LCAyMDAsIDEwLCAweDg4ODg4OCk7XHJcblxyXG4gICAgLy8gT2J0ZW5lciB2b2x1bWVuIGdsb2JhbCBhY3R1YWwgKDAgYSAxKVxyXG4gICAgY29uc3QgY3VycmVudFZvbHVtZSA9IHRoaXMuc291bmQudm9sdW1lO1xyXG5cclxuICAgIC8vIENvbnZlcnRpciB2b2x1bWVuIGEgcG9zaWNpw7NuIGRlbCBoYW5kbGVcclxuICAgIGNvbnN0IG1pblggPSB4IC0gMTAwO1xyXG4gICAgY29uc3QgbWF4WCA9IHggKyAxMDA7XHJcbiAgICBjb25zdCBoYW5kbGVYID0gbWluWCArIChtYXhYIC0gbWluWCkgKiBjdXJyZW50Vm9sdW1lO1xyXG5cclxuICAgIC8vIENyZWFyIGhhbmRsZSBlbiBsYSBwb3NpY2nDs24gY29ycmVjdGFcclxuICAgIHRoaXMuc2xpZGVySGFuZGxlID0gdGhpcy5hZGQuY2lyY2xlKGhhbmRsZVgsIHksIDEyLCAweGZmZmZmZilcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyBkcmFnZ2FibGU6IHRydWUgfSk7XHJcblxyXG4gICAgdGhpcy5pbnB1dC5zZXREcmFnZ2FibGUodGhpcy5zbGlkZXJIYW5kbGUpO1xyXG5cclxuICAgIC8vIEV2ZW50byBkZSBhcnJhc3RyZVxyXG4gICAgdGhpcy5pbnB1dC5vbignZHJhZycsIChwb2ludGVyLCBnYW1lT2JqZWN0LCBkcmFnWCkgPT4ge1xyXG4gICAgICAgIGdhbWVPYmplY3QueCA9IFBoYXNlci5NYXRoLkNsYW1wKGRyYWdYLCBtaW5YLCBtYXhYKTtcclxuXHJcbiAgICAgICAgY29uc3QgcGVyY2VudCA9IChnYW1lT2JqZWN0LnggLSBtaW5YKSAvIChtYXhYIC0gbWluWCk7XHJcblxyXG4gICAgICAgIC8vIEFqdXN0YXIgdm9sdW1lblxyXG4gICAgICAgIHRoaXMuc291bmQudm9sdW1lID0gcGVyY2VudDtcclxuICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBNZW51U2NlbmUgfSBmcm9tICcuL3NjZW5lcy9NZW51U2NlbmUuanMnO1xyXG5pbXBvcnQgeyBTZWxlY3RDb2xvciB9IGZyb20gJy4vc2NlbmVzL1NlbGVjdENvbG9yLmpzJztcclxuaW1wb3J0IHsgR2FtZVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvR2FtZVNjZW5lLmpzJztcclxuaW1wb3J0IHsgUGF1c2VTY2VuZSB9IGZyb20gJy4vc2NlbmVzL1BhdXNlU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBDcmVkaXRTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0NyZWRpdFNjZW5lLmpzJztcclxuaW1wb3J0IHsgT25saW5lU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9PbmxpbmVTY2VuZS5qcyc7XHJcbmltcG9ydCB7IFR1dG9yaWFsU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9UdXRvcmlhbFNjZW5lLmpzJztcclxuaW1wb3J0IHsgR2FtZU92ZXJTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0dhbWVPdmVyU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBPcHRpb25zU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9PcHRpb25zU2NlbmUuanMnO1xyXG5cclxuY29uc3QgY29uZmlnID0ge1xyXG4gICAgdHlwZTogUGhhc2VyLkFVVE8sXHJcbiAgICB3aWR0aDogODAwLFxyXG4gICAgaGVpZ2h0OiA2MDAsXHJcbiAgICBwYXJlbnQ6ICdnYW1lLWNvbnRhaW5lcicsXHJcbiAgICBwaHlzaWNzOiB7XHJcbiAgICAgICAgZGVmYXVsdDogJ2FyY2FkZScsXHJcbiAgICAgICAgYXJjYWRlOiB7XHJcbiAgICAgICAgICAgIGdyYXZpdHk6IHsgeTogMCB9LFxyXG4gICAgICAgICAgICBkZWJ1ZzogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2NlbmU6IFtNZW51U2NlbmUsIFNlbGVjdENvbG9yLCBHYW1lU2NlbmUsIFBhdXNlU2NlbmUsIENyZWRpdFNjZW5lLCBPbmxpbmVTY2VuZSwgVHV0b3JpYWxTY2VuZSwgR2FtZU92ZXJTY2VuZSwgT3B0aW9uc1NjZW5lXSxcclxuICAgIGJhY2tncm91bmRDb2xvcjogJyMxYTFhMmUnLFxyXG59XHJcblxyXG5jb25zdCBnYW1lID0gbmV3IFBoYXNlci5HYW1lKGNvbmZpZyk7XHJcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlBoYXNlciIsImNvbm5lY3Rpb25NYW5hZ2VyIiwiY29uc3RydWN0b3IiLCJ0aGlzIiwiY29ubmVjdGVkQ291bnQiLCJpc0Nvbm5lY3RlZCIsImxhc3RDaGVja1RpbWUiLCJjaGVja0ludGVydmFsIiwibGlzdGVuZXJzIiwic2Vzc2lvbklkIiwiZ2VuZXJhdGVTZXNzaW9uSWQiLCJpbnRlcnZhbElkIiwic3RhcnRQb2xsaW5nIiwiRGF0ZSIsIm5vdyIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsImNoZWNrQ29ubmVjdGlvbiIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsImRhdGEiLCJqc29uIiwiY29ubmVjdGVkIiwibm90aWZ5TGlzdGVuZXJzIiwiY291bnQiLCJzdWNjZXNzIiwiaGFuZGxlRGlzY29ubmVjdGlvbiIsImVycm9yIiwiY29uc29sZSIsImFkZExpc3RlbmVyIiwiY2FsbGJhY2siLCJwdXNoIiwicmVtb3ZlTGlzdGVuZXIiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJmb3JFYWNoIiwibGlzdGVuZXIiLCJnZXRTdGF0dXMiLCJzZXRJbnRlcnZhbCIsInN0b3BQb2xsaW5nIiwiY2xlYXJJbnRlcnZhbCIsIk1lbnVTY2VuZSIsInN1cGVyIiwicHJlbG9hZCIsImxvYWQiLCJpbWFnZSIsImF1ZGlvIiwiY3JlYXRlIiwibXVzaWNhIiwic291bmQiLCJhZGQiLCJsb29wIiwidm9sdW1lIiwicGxheSIsInNldE9yaWdpbiIsInNldFNjYWxlIiwibG9jYWxCdG4iLCJzZXRJbnRlcmFjdGl2ZSIsInVzZUhhbmRDdXJzb3IiLCJvbiIsInNjZW5lIiwic3RhcnQiLCJvbmxpbmVCdG4iLCJ0dXRvcmlhbEJ0biIsImNyZWRpdEJ0biIsIm9wdGlvbnNCdG4iLCJ0ZXh0IiwiZm9udFNpemUiLCJjb2xvciIsImZvbnRTdHlsZSIsImNvbm5lY3Rpb25UZXh0IiwiY29ubmVjdGlvbkxpc3RlbmVyIiwidXBkYXRlQ29ubmVjdGlvbkRpc3BsYXkiLCJpc0FjdGl2ZSIsInNldFRleHQiLCJzZXRDb2xvciIsInNodXRkb3duIiwiU2VsZWN0Q29sb3IiLCJjb2xvclBsYXllcjEiLCJjb2xvclBsYXllcjIiLCJwMU9wdGlvbnMiLCJwMk9wdGlvbnMiLCJjcmVhdGVUYW5rT3B0aW9uIiwieCIsInkiLCJjb2xvcktleSIsIm9uQ2xpY2siLCJiYXNlIiwic2V0RGVwdGgiLCJ0dXJyZXQiLCJoaWdobGlnaHQiLCJzZXRWaXNpYmxlIiwiY29udGFpbmVyIiwic2V0U2l6ZSIsIndpZHRoIiwiaGVpZ2h0Iiwic2V0RGF0YSIsImdldERhdGEiLCJjb2xvcnMiLCJpIiwib3B0Iiwib3B0aW9uIiwibWFya1NlbGVjdGVkIiwidXBkYXRlRGlzYWJsZWRTdGF0ZXMiLCJwbGF5QnRuIiwibWVudUJ0biIsIm9wdGlvbkFycmF5Iiwic2VsZWN0ZWRPcHRpb24iLCJzaG91bGREaXNhYmxlIiwic2V0T3B0aW9uRGlzYWJsZWQiLCJkaXNhYmxlZCIsImRpc2FibGVJbnRlcmFjdGl2ZSIsInNldEFscGhhIiwiQnVsbGV0IiwiYW5nbGUiLCJteVR1cnJldCIsImRpciIsImJhc2VTcGVlZCIsInNwZWVkTXVsdCIsImNhbkNvbGxpZGUiLCJib3VuY2VzIiwiY2FuRGFtYWdlIiwic2V0VGltZW91dCIsInNwcml0ZSIsInBoeXNpY3MiLCJhbGxvd0dyYXZpdHkiLCJzZXRDb2xsaWRlV29ybGRCb3VuZHMiLCJzZXRCb3VuY2UiLCJyb3RhdGlvbiIsInNldERpciIsImV2ZW50cyIsInVwZGF0ZSIsImNyZWF0ZUNvbGxpc2lvbnMiLCJzZXRWZWxvY2l0eSIsImNvcyIsInNpbiIsInZ4IiwidmVsb2NpdHkiLCJ2eSIsImF0YW4yIiwiZGVzdHJveSIsImRlc3Ryb3lCdWxsZXQiLCJvZmYiLCJjb2xsaWRlciIsImxlZnQiLCJyaWdodCIsInRvcCIsImJvdHRvbSIsImJsb2NrMSIsImJsb2NrMiIsImNlbnRybzEiLCJjZW50cm8yIiwiY2VudHJvMyIsInBhbG8xIiwicGFsbzIiLCJwbGF5ZXJzIiwidGFuayIsInJlY2VpdmVEYW1hZ2UiLCJUdXJyZXQiLCJteVRhbmsiLCJQSSIsInRhcmdldCIsInJvdGF0ZVNwZWVkIiwiRGVnVG9SYWQiLCJjYW5TaG9vdCIsInBlcmZlY3RBbmdsZSIsImxlZnRBbmdsZSIsInJpZ2h0QW5nbGUiLCJTZXRQb3NpdGlvbiIsInBvd2VyVXBCdWxsZXQiLCJmaXJlRXZlbnQiLCJyb3RhdGUiLCJhaW0iLCJmaXJlIiwiR2V0WCIsIkdldFkiLCJzaG9vdCIsInN0YXJ0QXV0b0ZpcmUiLCJzZXRUYXJnZXQiLCJ0YXIiLCJkeCIsImR5IiwidGltZSIsImFkZEV2ZW50IiwiZGVsYXkiLCJyZW1vdmUiLCJzZXRhbHBoYSIsImFsIiwiVGFuayIsImlkIiwiZGlyWCIsImRpclkiLCJzcGVlZE11bHRpcGxpZXIiLCJ2aWRhcyIsImludnVsbmVyYWJsZSIsIm5vU2hvb3RVbnRpbCIsIlNldFRhcmdldCIsImFtb3VudCIsImFjdHVhbGl6YXJWaWRhcyIsIm1ha2VJbnZ1bG5lcmFibGUiLCJibGlua0NvdW50IiwicmVwZWF0IiwiYWxwaGEiLCJhcHBseU5vU2hvb3QiLCJtcyIsIm1heCIsImRlbGF5ZWRDYWxsIiwiUG93ZXJVcCIsInR5cGUiLCJnZW5lcmF0b3IiLCJjcmVhdGVDb2xsaXN0aW9ucyIsInBvd2VyVXBzR3JvdXAiLCJsb2ciLCJkaXNwbGF5V2lkdGgiLCJkaXNwbGF5SGVpZ2h0IiwiYXBseVBvd2VyVXAiLCJ0YW5rQ29sbGVjdG9yIiwiZW5lbXlUYW5rIiwidCIsInRhcmdldFRhbmsiLCJTZXQiLCJoYXMiLCJtYXhQb3dlclVwcyIsIlBvd2VyVXBHZW5lcmF0b3IiLCJpbnRlcnZhbCIsInR5cGVzIiwicG9zaXRpb25zWCIsInBvc2l0aW9uc1kiLCJzdGFydEdlbmVyYXRpbmciLCJnZW5lcmF0ZVBvd2VyVXAiLCJpc1NwYXduVmFsaWQiLCJ6b25lIiwiZXhpc3RpbmciLCJoaXRXYWxsIiwib3ZlcmxhcCIsIm9ic3RhY2xlcyIsImhpdFBvd2VyVXAiLCJpbmRpY2VzIiwiQXJyYXkiLCJTaHVmZmxlIiwibGVuZ3RoIiwia2V5cyIsIkdldFJhbmRvbSIsIkNvbW1hbmRQcm9jZXNzb3IiLCJNYXAiLCJnYW1lU2NlbmUiLCJzZXRQbGF5ZXJzIiwic2V0R2FtZVNjZW5lIiwicHJvY2VzcyIsImNvbW1hbmQiLCJleGVjdXRlIiwiQ29tbWFuZCIsInNlcmlhbGl6ZSIsImdldFBsYXllciIsIk1vdmVUYW5rQ29tbWFuZCIsImRpcmVjdGlvbiIsInNldFZlbG9jaXR5WSIsInNldFZlbG9jaXR5WCIsIlBhdXNlR2FtZUNvbW1hbmQiLCJpc1BhdXNlZCIsInNldFBhdXNlU3RhdGUiLCJHYW1lU2NlbmUiLCJpbml0IiwiaW5wdXRNYXBwaW5ncyIsImJhbGwiLCJwb3dlclVwR2VuZXJhdG9yIiwiZXNjV2FzRG93biIsInByb2Nlc3NvciIsImlzR2FtZU92ZXIiLCJncm91cCIsImNyZWF0ZUJvdW5kcyIsInN0YXRpY0dyb3VwIiwic2V0VXBQbGF5ZXJzIiwidmlkYXNKdWdhZG9yZXMiLCJlc2NLZXkiLCJpbnB1dCIsImtleWJvYXJkIiwiYWRkS2V5IiwiS2V5Ym9hcmQiLCJLZXlDb2RlcyIsIkVTQyIsInZpZGFQbGF5ZXIxIiwidmlkYVBsYXllcjIiLCJzZXRSb3RhdGlvbiIsInZpZGExIiwidmlkYTIiLCJwbGF5ZXJJZCIsInZpZGFzUmVzdGFudGVzIiwidmlkYUFycmF5IiwicG9wIiwibnVldmFWaWRhIiwiZ2FuYWRvciIsInRhbmsxIiwidGFuazIiLCJzZXQiLCJ1cEtleSIsImRvd25LZXkiLCJyaWdodEtleSIsImxlZnRLZXkiLCJtYXAiLCJjb25maWciLCJ1cEtleU9iaiIsImRvd25LZXlPYmoiLCJyaWdodEtleU9iaiIsImxlZnRLZXlPYmoiLCJzY29yZUxlZnRHb2FsIiwicGxheWVyMSIsInNjb3JlIiwiZW5kR2FtZSIsInJlc2V0QmFsbCIsInNjb3JlUmlnaHRHb2FsIiwicGxheWVyMiIsIndpbm5lcklkIiwicGF1c2UiLCJ3aW5uZXJUZXh0Iiwic2V0UG9zaXRpb24iLCJsYXVuY2hCYWxsIiwiQmV0d2VlbiIsImNyZWF0ZUJhbGwiLCJncmFwaGljcyIsImZpbGxTdHlsZSIsImZpbGxDaXJjbGUiLCJnZW5lcmF0ZVRleHR1cmUiLCJzZXRJbW1vdmFibGUiLCJsYXVuY2giLCJvcmlnaW5hbFNjZW5lIiwicmVzdW1lIiwidG9nZ2xlUGF1c2UiLCJuZXdQYXVzZVN0YXRlIiwiaXNEb3duIiwibWFwcGluZyIsIm1vdmVDb21tYW5kIiwiUGF1c2VTY2VuZSIsInJlc3VtZUJ0biIsInN0b3AiLCJDcmVkaXRTY2VuZSIsIk9ubGluZVNjZW5lIiwiVHV0b3JpYWxTY2VuZSIsIkdhbWVPdmVyU2NlbmUiLCJnYW5hZG9yS2V5IiwiaW5jbHVkZXMiLCJ0b3JyZSIsIk9wdGlvbnNTY2VuZSIsInNsaWRlckJhciIsInJlY3RhbmdsZSIsImN1cnJlbnRWb2x1bWUiLCJoYW5kbGVYIiwic2xpZGVySGFuZGxlIiwiY2lyY2xlIiwiZHJhZ2dhYmxlIiwic2V0RHJhZ2dhYmxlIiwicG9pbnRlciIsImdhbWVPYmplY3QiLCJkcmFnWCIsIkNsYW1wIiwicGVyY2VudCIsInBhcmVudCIsImRlZmF1bHQiLCJhcmNhZGUiLCJncmF2aXR5IiwiZGVidWciLCJiYWNrZ3JvdW5kQ29sb3IiXSwic291cmNlUm9vdCI6IiJ9
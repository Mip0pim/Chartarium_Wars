(()=>{"use strict";var e={n:t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return e.d(s,{a:s}),s},d:(t,s)=>{for(var i in s)e.o(s,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:s[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=Phaser;var s=e.n(t);class i extends s().Scene{constructor(){super("MenuScene")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("Logo","imagenes/Logo.png"),this.load.image("ConexionPerdida","imagenes/ConexionPerdidaCW.png"),this.load.image("BTNPlayer","imagenes/LocalBtnCW.png"),this.load.image("BTNCredit","imagenes/CreditosCW.png"),this.load.image("BTNOnline","imagenes/OnlineBtnCW.png"),this.load.image("BTNMenu","imagenes/MenuCW.png"),this.load.image("BTNTutorial","imagenes/TutorialCW.png"),this.load.image("BTNOpciones","imagenes/OpcionesCW.png"),this.load.audio("musica","audio/musica.mp3"),this.load.audio("sfx","audio/menusfx.mp3"),this.load.image("Velocidad","imagenes/VelocidadCW.png"),this.load.image("Escudo","imagenes/EscudoCW.png"),this.load.image("NoFuegoAmigo","imagenes/NoFuegoAmigoCW.png")}create(){let e=this.sound.get("musica");e||(e=this.sound.add("musica",{loop:!0,volume:.4}),e.play()),this.add.image(400,300,"Fondo"),this.add.image(400,180,"Logo").setOrigin(.5).setScale(1.1);const t=this.add.image(160,400,"BTNPlayer").setOrigin(.5).setInteractive({useHandCursor:!0});t.setScale(.19).on("pointerover",()=>{t.setScale(.2)}).on("pointerout",()=>{t.setScale(.19)}).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("SelectColor")});const s=this.add.image(620,400,"BTNOnline").setOrigin(.5).setInteractive({useHandCursor:!0});s.setScale(.19).on("pointerover",()=>{s.setScale(.2)}).on("pointerout",()=>{s.setScale(.19)}).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("OnlineScene")});const i=this.add.image(160,517,"BTNTutorial").setOrigin(.5).setScale(.3).setInteractive({useHandCursor:!0}).on("pointerover",()=>{i.setScale(.33)}).on("pointerout",()=>{i.setScale(.3)}).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("TutorialScene")}),a=this.add.image(620,510,"BTNCredit").setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{a.setScale(1.1)}).on("pointerout",()=>{a.setScale(1)}).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("CreditScene")}),o=this.add.image(400,460,"BTNOpciones").setOrigin(.5).setInteractive({useHandCursor:!0});o.setScale(.19).on("pointerover",()=>{o.setScale(.2)}).on("pointerout",()=>{o.setScale(.19)}).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("OptionsScene")})}}class a extends s().Scene{constructor(){super("SelectColor")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("BaseRed","imagenes/TanqueRojoCW.png"),this.load.image("TorretaRed","imagenes/CanonRojoCW.png"),this.load.image("BaseGreen","imagenes/TanqueVerdeCW.png"),this.load.image("TorretaGreen","imagenes/CanonVerdeCW.png"),this.load.image("BaseBlue","imagenes/TanqueAzulCW.png"),this.load.image("TorretaBlue","imagenes/CanonAzulCW.png"),this.load.image("BaseYellow","imagenes/TanqueAmarilloCW.png"),this.load.image("TorretaYellow","imagenes/CanonAmarilloCW.png"),this.load.image("Play","imagenes/PLAYCW.png"),this.load.image("BTNMenu","imagenes/MenuCW.png"),this.load.image("P","imagenes/Pcw.png"),this.load.image("1","imagenes/1CW.png"),this.load.image("2","imagenes/2CW.png"),this.load.image("Bubble","imagenes/BurbujaCW.png"),this.load.image("Elige","imagenes/EligeColorCW.png"),this.load.audio("sfx","audio/menusfx.mp3")}create(){this.add.image(400,300,"Fondo"),this.add.image(400,50,"Elige").setOrigin(.5).setScale(.4),this.colorPlayer1=null,this.colorPlayer2=null,this.add.image(190,120,"P").setOrigin(.5).setScale(.25),this.add.image(240,122,"1").setOrigin(.5).setScale(.25),this.add.image(590,120,"P").setOrigin(.5).setScale(.25),this.add.image(640,120,"2").setOrigin(.5).setScale(.25),this.p1Options=[],this.p2Options=[];const e=(e,t,s,i)=>{const a=this.add.image(0,0,`Base${s}`).setScale(1.2).setDepth(10),o=this.add.image(0,0,`Torreta${s}`).setScale(1.2).setOrigin(.2,.5).setDepth(15),n=this.add.image(0,0,"Bubble").setScale(1.6).setDepth(40);n.setVisible(!1);const r=this.add.container(e,t,[a,o,n]);return r.setSize(1.2*a.width,1.2*a.height),r.setInteractive({useHandCursor:!0}),r.setData("colorKey",s),r.setData("selected",!1),r.setData("disabled",!1),r.setData("highlight",n),r.on("pointerover",()=>{r.setScale(1.3)}),r.on("pointerout",()=>{r.setScale(1)}),r.on("pointerup",()=>{r.getData("disabled")||i(s,r)}),r},t=["Red","Blue","Green","Yellow"];t.forEach((t,s)=>{const i=e(200,180+100*s,t,(e,t)=>{this.colorPlayer1=e,this.markSelected(this.p1Options,t),this.updateDisabledStates()});this.p1Options.push(i)}),t.forEach((t,s)=>{const i=e(600,180+100*s,t,(e,t)=>{this.colorPlayer2=e,this.markSelected(this.p2Options,t),this.updateDisabledStates()});this.p2Options.push(i)});const s=this.add.image(400,320,"Play").setOrigin(.5).setInteractive({useHandCursor:!0});s.setScale(.3).on("pointerover",()=>{s.setScale(.33)}).on("pointerout",()=>{s.setScale(.3)}),s.on("pointerup",()=>{this.colorPlayer1&&this.colorPlayer2&&this.colorPlayer1!==this.colorPlayer2&&(this.sound.play("sfx",{volume:.5}),this.scene.start("GameScene",{colorPlayer1:this.colorPlayer1,colorPlayer2:this.colorPlayer2}))});const i=this.add.image(400,525,"BTNMenu").setOrigin(.5).setScale(.3).setInteractive({useHandCursor:!0}).on("pointerover",()=>i.setScale(.35)).on("pointerout",()=>i.setScale(.3)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("MenuScene")})}markSelected(e,t){e.forEach(e=>{e.setData("selected",!1),e.getData("highlight").setVisible(!1)}),t.setData("selected",!0),t.getData("highlight").setVisible(!0)}updateDisabledStates(){this.p1Options.forEach(e=>{const t=e.getData("colorKey"),s=this.colorPlayer2&&t===this.colorPlayer2;this.setOptionDisabled(e,s)}),this.p2Options.forEach(e=>{const t=e.getData("colorKey"),s=this.colorPlayer1&&t===this.colorPlayer1;this.setOptionDisabled(e,s)})}setOptionDisabled(e,t){e.setData("disabled",t),t?(e.disableInteractive(),e.setAlpha(.3),e.setData("selected",!1),e.getData("highlight").setVisible(!1)):(e.setInteractive({useHandCursor:!0}),e.setAlpha(1))}}class o{constructor(e,t,s,i,a,o){this.scene=e,this.x=t,this.y=s,this.color=o,this.myTurret=i,this.dir=a,this.baseSpeed=200,this.speedMult=1,this.canCollide=!0,this.bounces=3,this.canDamage=!1,setTimeout(()=>{this.canDamage=!0},200),"Red"===this.color&&(this.sprite=this.scene.physics.add.sprite(t,s,"BalaRed")),"Green"===this.color&&(this.sprite=this.scene.physics.add.sprite(t,s,"BalaGreen")),"Blue"===this.color&&(this.sprite=this.scene.physics.add.sprite(t,s,"BalaBlue")),"Yellow"===this.color&&(this.sprite=this.scene.physics.add.sprite(t,s,"BalaYellow")),this.sprite.body.allowGravity=!1,this.sprite.setCollideWorldBounds(!0),this.sprite.setSize(20,15),this.sprite.setBounce(.8),this.sprite.rotation=this.dir,this.sprite.setDepth(5),this.setDir(),this.scene.events.on("update",this.update,this),this.createCollisions()}setDir(){this.sprite.setVelocity(Math.cos(this.dir)*this.baseSpeed*this.speedMult,Math.sin(this.dir)*this.baseSpeed*this.speedMult)}update(){if(this.sprite.body){const e=this.sprite.body.velocity.x,t=this.sprite.body.velocity.y;this.sprite.rotation=Math.atan2(t,e)}}destroy(){this.bounces-=1,this.bounces<1&&this.destroyBullet()}destroyBullet(){this.scene.events.off("update",this.update,this),this.sprite.destroy()}createCollisions(){this.scene.physics.add.collider(this.scene.left,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.right,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.top,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.bottom,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.block1,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.block2,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.centro1,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.centro2,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.centro3,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.palo1,this.sprite,()=>{this.destroy()}),this.scene.physics.add.collider(this.scene.palo2,this.sprite,()=>{this.destroy()}),this.scene.players.forEach(e=>{this.scene.physics.add.collider(this.sprite,e.sprite,()=>{this.canDamage&&(e.receiveDamage(1),this.destroyBullet())})})}}class n{constructor(e,t,i,a,o){this.myTank=t,this.scene=e,this.x=i,this.y=a,this.angle=i>400?Math.PI:0,this.color=o,this.target=null,this.rotateSpeed=s().Math.DegToRad(1),this.canShoot=!1,this.perfectAngle=i>400?Math.PI:0,this.leftAngle=75,this.rightAngle=105,"Red"===this.color&&(this.sprite=this.scene.physics.add.sprite(i,a,"TorretaRed")),"Green"===this.color&&(this.sprite=this.scene.physics.add.sprite(i,a,"TorretaGreen")),"Blue"===this.color&&(this.sprite=this.scene.physics.add.sprite(i,a,"TorretaBlue")),"Yellow"===this.color&&(this.sprite=this.scene.physics.add.sprite(i,a,"TorretaYellow")),this.sprite.body.allowGravity=!1,this.sprite.setOrigin(.15,.5),this.SetPosition=(e,t)=>{this.sprite.x=e,this.sprite.y=t},this.sprite.setDepth(10),this.powerUpBullet=null,this.sprite.rotation=this.angle,this.fireEvent=null}rotate(){this.aim(),this.angle=this.perfectAngle,this.sprite.rotation=this.angle}fire(){this.myTank.canShoot&&null===this.powerUpBullet&&this.canShoot&&new o(this.scene,this.myTank.GetX(),this.myTank.GetY(),this,this.sprite.rotation,this.color)}shoot(e){this.canShoot=e,this.startAutoFire()}setTarget(e){this.target=e}aim(){if(!this.target)return;const e=this.target.GetX()-this.sprite.x,t=this.target.GetY()-this.sprite.y;this.perfectAngle=Math.atan2(t,e),this.leftAngle=this.perfectAngle+s().Math.DegToRad(30),this.rightAngle=this.perfectAngle-s().Math.DegToRad(30)}startAutoFire(){this.fireEvent||(this.fireEvent=this.scene.time.addEvent({delay:1e3,callback:()=>this.fire(),loop:!0}))}destroy(){this.fireEvent&&this.fireEvent.remove(!1),this.sprite.destroy(),this.target=null,this.myTank=null}setalpha(e){this.sprite.setAlpha(e)}}class r{constructor(e,t,s,i,a){this.id=t,this.scene=e,this.dirX=0,this.dirY=0,this.baseSpeed=120,this.speedMultiplier=1,this.x=s,this.y=i,this.color=a,this.target=null,this.vidas=5,this.invulnerable=!1,this.canShoot=!0,this.noShootUntil=0,"Red"===this.color&&(this.sprite=this.scene.physics.add.sprite(s,i,"BaseRed"),this.sprite.setSize(40,35)),"Green"===this.color&&(this.sprite=this.scene.physics.add.sprite(s,i,"BaseGreen"),this.sprite.setSize(42,35)),"Blue"===this.color&&(this.sprite=this.scene.physics.add.sprite(s,i,"BaseBlue"),this.sprite.setSize(45,35)),"Yellow"===this.color&&(this.sprite=this.scene.physics.add.sprite(s,i,"BaseYellow"),this.sprite.setSize(45,35)),this.sprite.setCollideWorldBounds(!0),this.sprite.body.allowGravity=!1,this.sprite.setDepth(8),this.turret=new n(e,this,s,i,this.color),this.GetX=()=>this.sprite.x,this.GetY=()=>this.sprite.y}SetTarget(e){this.target=e,this.turret.setTarget(this.target)}receiveDamage(e){this.invulnerable||(this.vidas-=e,this.scene.actualizarVidas(this.id,this.vidas),this.vidas<=0?this.destroy():this.makeInvulnerable())}makeInvulnerable(){this.invulnerable=!0;let e=0;this.scene.time.addEvent({delay:200,repeat:5,callback:()=>{this.sprite.setAlpha(1===this.sprite.alpha?.3:1),this.turret.setalpha(1===this.turret.sprite.alpha?.3:1),e++,e>=5&&(this.sprite.setAlpha(1),this.turret.setalpha(1),this.invulnerable=!1)}})}applyNoShoot(e){const t=this.scene.time.now;this.noShootUntil=Math.max(this.noShootUntil,t+e),this.canShoot=!1,this.scene.time.delayedCall(e,()=>{this.scene.time.now>=this.noShootUntil&&(this.canShoot=!0)})}destroy(){this.sprite.destroy(),this.turret.destroy()}}class l{constructor(e,t,s,i,a){this.scene=e,this.generator=a,this.x=t,this.y=s,this.type=i,"Heal"===i&&(this.sprite=this.scene.physics.add.sprite(t,s,"Vida").setScale(.05)),"Speed"===i&&(this.sprite=this.scene.physics.add.sprite(t,s,"Velocidad").setScale(1.1)),"Shield"===i&&(this.sprite=this.scene.physics.add.sprite(t,s,"Escudo").setScale(1.1)),"NoShoot"===i&&(this.sprite=this.scene.physics.add.sprite(t,s,"NoFuegoAmigo").setScale(1.1)),this.sprite.setDepth(1),this.createCollistions(),this.scene.powerUpsGroup.add(this.sprite)}aplyPowerUp(e,t){switch(this.scene.usePowerUps=!0,t){case"Heal":e.vidas<5&&(e.vidas+=1,this.scene.actualizarVidas(e.id,e.vidas));break;case"Speed":e.speedMultiplier=1.5,this.scene.time.delayedCall(5e3,()=>{e.speedMultiplier=1},[],this);break;case"Shield":e.invulnerable=!0,this.scene.time.delayedCall(5e3,()=>{e.invulnerable=!1},[],this);break;case"NoShoot":e.applyNoShoot(5e3)}}createCollistions(){this.scene.players.forEach(e=>{this.scene.physics.add.collider(this.sprite,e.sprite,()=>{let t=null;this.scene.players.forEach(s=>{s!==e&&(t=s)});const s=new Set(["NoShoot"]).has(this.type)?t??e:e;this.aplyPowerUp(s,this.type),this.sprite.destroy(),this.generator.maxPowerUps-=1})})}}class h{constructor(e,t,s){this.scene=e,this.interval=t,this.online=s,this.types=["Heal","Speed","Shield","NoShoot"],this.positionsX=[100,700,700,100,400],this.positionsY=[150,500,150,500,300],this.maxPowerUps=0,this.online||this.startGenerating()}startGenerating(){this.scene.time.addEvent({delay:this.interval,callback:()=>this.generatePowerUp(),loop:!0})}isSpawnValid(e,t){const s=this.scene.add.zone(e,t,40,40);this.scene.physics.add.existing(s),s.body.allowGravity=!1;const i=this.scene.physics.overlap(s,this.scene.obstacles),a=!!this.scene.powerUpsGroup&&this.scene.physics.overlap(s,this.scene.powerUpsGroup);return s.destroy(),!i&&!a}generatePowerUp(){if(this.maxPowerUps>=3)return;const e=s().Utils.Array.Shuffle([...Array(this.positionsX.length).keys()]);for(const t of e){const e=this.positionsX[t],i=this.positionsY[t];if(this.isSpawnValid(e,i)){const t=s().Utils.Array.GetRandom(this.types);return new l(this.scene,e,i,t,this),void(this.maxPowerUps+=1)}}}}class c{constructor(){this.players=new Map,this.gameScene=null}setPlayers(e){this.players=e}setGameScene(e){this.gameScene=e}process(e){e.execute()}}class d{execute(){}serialize(){}getPlayer(){}}class p extends d{constructor(e,t){super(),this.tank=e,this.direction=t}execute(){if("up"===this.direction?(this.tank.sprite.setVelocityY(-this.tank.baseSpeed*this.tank.speedMultiplier),this.tank.turret.rotate(),this.tank.turret.shoot(!1)):"down"===this.direction?(this.tank.sprite.setVelocityY(+this.tank.baseSpeed*this.tank.speedMultiplier),this.tank.turret.rotate(),this.tank.turret.shoot(!1)):"right"===this.direction?(this.tank.sprite.setVelocityX(this.tank.baseSpeed*this.tank.speedMultiplier),this.tank.turret.rotate(),this.tank.turret.shoot(!1)):"left"===this.direction?(this.tank.sprite.setVelocityX(-this.tank.baseSpeed*this.tank.speedMultiplier),this.tank.turret.rotate(),this.tank.turret.shoot(!1)):(this.tank.sprite.setVelocityY(0),this.tank.sprite.setVelocityX(0),this.tank.turret.sprite.setVelocityY(0),this.tank.turret.sprite.setVelocityX(0),this.tank.turret.shoot(!0)),this.tank.turret.SetPosition(this.tank.GetX(),this.tank.GetY()),this.tank.turret.aim(),this.tank.sprite.body){const e=this.tank.sprite.body.velocity.x,t=this.tank.sprite.body.velocity.y;this.tank.sprite.rotation=Math.atan2(t,e)+Math.PI/2}}}class g extends d{constructor(e,t){super(),this.gameScene=e,this.isPaused=t}execute(){this.gameScene.setPauseState(this.isPaused)}}const u=new class{constructor(){this.connectedCount=0,this.isConnected=!1,this.lastCheckTime=0,this.checkInterval=2e3,this.listeners=[],this.sessionId=this.generateSessionId(),this.intervalId=null,this.startPolling()}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async checkConnection(){try{const e=await fetch("/api/connected",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.sessionId})});if(e.ok){const t=await e.json();return this.connectedCount=t.connected,this.isConnected=!0,this.lastCheckTime=Date.now(),this.notifyListeners({connected:!0,count:this.connectedCount}),{connected:this.connectedCount,success:!0}}return this.handleDisconnection(),{connected:0,success:!1}}catch(e){return console.error("Error checking connection:",e),this.handleDisconnection(),{connected:0,success:!1}}}handleDisconnection(){this.isConnected=!1,this.connectedCount=0,this.notifyListeners({connected:!1,count:0})}addListener(e){this.listeners.push(e)}removeListener(e){const t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}notifyListeners(e){this.listeners.forEach(t=>t(e))}getStatus(){return{isConnected:this.isConnected,connectedCount:this.connectedCount,lastCheckTime:this.lastCheckTime}}startPolling(){this.intervalId||(this.checkConnection(),this.intervalId=setInterval(()=>{this.checkConnection()},this.checkInterval))}stopPolling(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}};class m extends s().Scene{constructor(){super("GameScene")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("Vida","imagenes/VidaCW.png"),this.load.image("Bubble","imagenes/BurbujaCW.png"),this.load.image("Escudo","imagenes/EscudoCW.png"),this.load.image("NoFuegoAmigo","imagenes/NoFuegoAmigoCW.png"),this.load.image("MedioMapa","imagenes/MedioObstaculoCW.png"),this.load.image("Palo","imagenes/PaloObstaculoCW.png"),this.load.image("BloqueSimple","imagenes/TileMuro.png"),this.load.image("BottomTopWall","imagenes/BottomTopCW.png"),this.load.image("LeftRightWall","imagenes/LeftRightCW.png"),this.load.image("BaseRed","imagenes/TanqueRojoCW.png"),this.load.image("TorretaRed","imagenes/CanonRojoCW.png"),this.load.image("BalaRed","imagenes/BalaNRojoCw.png"),this.load.image("BaseGreen","imagenes/TanqueVerdeCW.png"),this.load.image("TorretaGreen","imagenes/CanonVerdeCW.png"),this.load.image("BalaGreen","imagenes/BalaNVerdeCW.png"),this.load.image("BaseBlue","imagenes/TanqueAzulCW.png"),this.load.image("TorretaBlue","imagenes/CanonAzulCW.png"),this.load.image("BalaBlue","imagenes/BalaNAzulCW.png"),this.load.image("BaseYellow","imagenes/TanqueAmarilloCW.png"),this.load.image("TorretaYellow","imagenes/CanonAmarilloCW.png"),this.load.image("BalaYellow","imagenes/BalaNAmarilloCW.png"),this.load.image("MuroBloque6","imagenes/MedioObstaculoCW.png"),this.load.image("Bloque","imagenes/TileMuro.png"),this.load.image("Palo","imagenes/PaloObstaculoCW.png")}init(e){this.players=new Map,this.inputMappings=[],this.ball=null,this.powerUpGenerator=null,this.isPaused=!1,this.escWasDown=!1,this.processor=new c,this.isGameOver=!1,this.colorPlayer1=e?.colorPlayer1,this.colorPlayer2=e?.colorPlayer2}create(){this.powerUpsGroup=this.physics.add.group(),this.add.image(400,300,"Fondo"),this.createBounds(),this.obstacles=this.physics.add.staticGroup(this.top,this.bottom,this.left,this.right,this.block1,this.block2,this.centro1,this.centro2,this.centro3,this.palo1,this.palo2),this.setUpPlayers(),this.createCollisions(),this.vidasJugadores(),this.powerUpGenerator=new h(this,1e4,!1),this.escKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.ESC),this.connectionListener=e=>{!e.connected&&this.scene.isActive()&&this.onConnectionLost()},u.addListener(this.connectionListener),this.events.on("shutdown",this.onShutdown,this),this.events.on("destroy",this.onShutdown,this),this.removeKeys=this.input.keyboard.removeCapture(["ESC","W","A","S","D","UP","DOWN","LEFT","RIGHT"])}onConnectionLost(){this.scene.launch("ConnectionLostScene",{previousScene:"GameScene"}),this.scene.pause(),this.scene.bringToTop("ConnectionLostScene")}vidasJugadores(){this.vidaPlayer1=[],this.vidaPlayer2=[],this.add.image(10,20,`Base${this.players.get("player1").color}`).setOrigin(0,0),this.add.image(740,20,`Base${this.players.get("player2").color}`).setOrigin(0,0),this.add.image(35,40,`Torreta${this.players.get("player1").color}`).setOrigin(.15,.5),this.add.image(765,40,`Torreta${this.players.get("player2").color}`).setOrigin(.15,.5).setRotation(Math.PI);for(let e=0;e<5;e++){const t=this.add.image(90+30*e,35,"Vida").setScale(.05);this.vidaPlayer1.push(t);const s=this.add.image(710-30*e,35,"Vida").setScale(.05);this.vidaPlayer2.push(s)}}actualizarVidas(e,t){const s="player1"===e?this.vidaPlayer1:this.vidaPlayer2;if(s.length>t&&s.pop().destroy(),s.length<t){if("player1"===e){const e=this.add.image(90+30*s.length,35,"Vida").setScale(.05);s.push(e)}if("player2"===e){const e=this.add.image(710-30*s.length,35,"Vida").setScale(.05);s.push(e)}}t<=0&&(this.isGameOver=!0,this.scene.start("GameOverScene",{ganador:"player1"===e?"player2":"player1",color:this.players.get("player1"===e?"player2":"player1").color}))}setUpPlayers(){const e=new r(this,"player1",90,300,this.colorPlayer1),t=new r(this,"player2",710,300,this.colorPlayer2);e.SetTarget(t),t.SetTarget(e),this.players.set("player1",e),this.players.set("player2",t),this.inputMappings=[{playerId:"player1",upKey:"W",downKey:"S",rightKey:"D",leftKey:"A"},{playerId:"player2",upKey:"UP",downKey:"DOWN",rightKey:"RIGHT",leftKey:"LEFT"}].map(e=>({playerId:e.playerId,upKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.upKey]),downKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.downKey]),rightKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.rightKey]),leftKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.leftKey])}))}scoreLeftGoal(){const e=this.players.get("player1");e.score-=1,e.score>=2?this.endGame("player1"):this.resetBall()}scoreRightGoal(){const e=this.players.get("player2");e.score+=1,this.add.image(700+30*(e.score-1),100,"Vida").setScale(.5),e.score>=2?this.endGame("player2"):this.resetBall()}endGame(e){this.ball.setVelocity(0,0),this.players.forEach(e=>{e.sprite.setVelocity(0,0)}),this.physics.pause();const t="player1"===e?"Player 1 Wins!":"Player 2 Wins!";this.add.text(400,250,t,{fontSize:"64px",color:"#00ff00"}).setOrigin(.5);const s=this.add.text(400,350,"Return to Main Menu",{fontSize:"32px",color:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>s.setColor("#cccccc")).on("pointerout",()=>s.setColor("#ffffff")).on("pointerdown",()=>{this.scene.start("MenuScene")})}resetBall(){this.ball.setVelocity(0,0),this.ball.setPosition(400,300),this.time.delayedCall(1e3,()=>{this.launchBall()})}launchBall(){const e=s().Math.Between(-30,30),t=Math.random()<.5?1:-1;this.ball.setVelocity(300*Math.cos(s().Math.DegToRad(e))*t,300*Math.sin(s().Math.DegToRad(e)))}createBall(){const e=this.add.graphics();e.fillStyle(16777215),e.fillCircle(8,8,8),e.generateTexture("ball",16,16),e.destroy(),this.ball=this.physics.add.sprite(400,300,"ball"),this.ball.setCollideWorldBounds(!0),this.ball.setBounce(1)}createBounds(){this.top=this.physics.add.sprite(400,83,"BottomTopWall"),this.top.setImmovable(!0),this.top.body.setSize(765,45),this.bottom=this.physics.add.sprite(400,577,"BottomTopWall"),this.bottom.setImmovable(!0),this.bottom.body.setSize(765,45),this.left=this.physics.add.sprite(40,330,"LeftRightWall"),this.left.setImmovable(!0),this.left.body.setSize(45,450),this.right=this.physics.add.sprite(760,330,"LeftRightWall"),this.right.setImmovable(!0),this.right.body.setSize(45,450),this.block1=this.physics.add.sprite(400,198,"MuroBloque6"),this.block1.setImmovable(!0),this.block2=this.physics.add.sprite(400,462,"MuroBloque6"),this.block2.setImmovable(!0),this.centro1=this.physics.add.sprite(400,352,"Bloque"),this.centro1.setImmovable(!0),this.centro2=this.physics.add.sprite(355,307,"Bloque"),this.centro2.setImmovable(!0),this.centro3=this.physics.add.sprite(445,307,"Bloque"),this.centro3.setImmovable(!0),this.palo1=this.physics.add.sprite(648,439,"Palo"),this.palo1.setImmovable(!0),this.palo2=this.physics.add.sprite(152,218,"Palo"),this.palo2.setImmovable(!0)}createCollisions(){this.players.forEach(e=>{this.physics.add.collider(this.left,e.sprite),this.physics.add.collider(this.right,e.sprite),this.physics.add.collider(this.top,e.sprite),this.physics.add.collider(this.bottom,e.sprite),this.physics.add.collider(this.block1,e.sprite),this.physics.add.collider(this.block2,e.sprite),this.physics.add.collider(this.centro1,e.sprite),this.physics.add.collider(this.centro2,e.sprite),this.physics.add.collider(this.centro3,e.sprite),this.physics.add.collider(this.palo1,e.sprite),this.physics.add.collider(this.palo2,e.sprite)})}setPauseState(e){this.isPaused=e,e&&(this.scene.launch("PauseScene",{originalScene:"GameScene"}),this.scene.pause())}resume(){this.isPaused=!1}togglePause(){const e=!this.isPaused;this.processor.process(new g(this,e))}update(){this.isGameOver||(this.escKey.isDown&&!this.escWasDown&&this.togglePause(),this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);let s=null;s=e.upKeyObj.isDown?"up":e.downKeyObj.isDown?"down":e.leftKeyObj.isDown?"left":e.rightKeyObj.isDown?"right":"stop";let i=new p(t,s);this.processor.process(i)}))}onShutdown(){this.connectionListener&&(u.removeListener(this.connectionListener),this.connectionListener=null),this.removeKeys}}class y extends s().Scene{constructor(){super("PauseScene")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("BTNPause","imagenes/PausaCW.png"),this.load.image("BTNMenu","imagenes/MenuCW.png"),this.load.image("BTNContinue","imagenes/ContinuarCW.png"),this.load.audio("sfx","audio/menusfx.mp3"),this.scene.bringToTop("PauseScene")}create(e){this.add.image(400,300,"Fondo"),this.add.image(400,100,"BTNPause").setOrigin(.5).setScale(.7);const t=this.add.image(400,270,"BTNContinue").setOrigin(.5).setScale(.2).setInteractive({useHandCursor:!0}).on("pointerover",()=>t.setScale(.24)).on("pointerout",()=>t.setScale(.2)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.stop(),this.scene.resume(e.originalScene),this.scene.get(e.originalScene).resume()}),i=this.add.image(400,525,"BTNMenu").setOrigin(.5).setScale(.3).setInteractive({useHandCursor:!0}).on("pointerover",()=>i.setScale(.35)).on("pointerout",()=>i.setScale(.3)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.stop("GameScene"),this.scene.stop(),this.scene.start("MenuScene")}),a=300+200*s().Math.Clamp(this.sound.volume??1,0,1);this.add.rectangle(400,370,200,10,8947848);const o=this.add.circle(a,370,12,16777215).setInteractive({draggable:!0});this.input.setDraggable(o),this.input.on("drag",(e,t,i)=>{t===o&&(t.x=s().Math.Clamp(i,300,500),this.sound.mute=!1,this.sound.volume=(t.x-300)/200)}),this.add.text(400,410,"Mute",{fontSize:"24px",color:"#ffffff",backgroundColor:"#333333",padding:{left:20,right:20,top:10,bottom:10}}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.sound.mute=!this.sound.mute})}}class S extends s().Scene{constructor(){super("CreditScene")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("BTNCredit","imagenes/CreditosCW.png"),this.load.image("Autores","imagenes/AutoresCW.png"),this.load.audio("sfx","audio/menusfx.mp3")}create(){this.add.image(400,310,"Fondo"),this.add.image(400,90,"BTNCredit").setOrigin(.5).setScale(1.5),this.add.text(400,180,"Creado por:",{fontSize:"40px",color:"#000000ff",fontStyle:"bold"}).setOrigin(.5),this.add.image(400,300,"Autores").setScale(.3),this.add.text(400,445,"Música de Tiny Tanks",{fontSize:"36px",color:"#000000ff",fontStyle:"bold"}).setOrigin(.5);const e=this.add.image(400,525,"BTNMenu").setOrigin(.5).setScale(.3).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setScale(.35)).on("pointerout",()=>e.setScale(.3)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("MenuScene")})}}class v extends s().Scene{constructor(){super("OnlineScene")}preload(){this.load.image("BaseRed","imagenes/TanqueRojoCW.png"),this.load.image("TorretaRed","imagenes/CanonRojoCW.png"),this.load.image("BaseGreen","imagenes/TanqueVerdeCW.png"),this.load.image("TorretaGreen","imagenes/CanonVerdeCW.png"),this.load.image("BaseBlue","imagenes/TanqueAzulCW.png"),this.load.image("TorretaBlue","imagenes/CanonAzulCW.png"),this.load.image("BaseYellow","imagenes/TanqueAmarilloCW.png"),this.load.image("TorretaYellow","imagenes/CanonAmarilloCW.png"),this.load.image("Play","imagenes/PLAYCW.png"),this.load.image("BTNMenu","imagenes/MenuCW.png"),this.load.image("Bubble","imagenes/BurbujaCW.png"),this.load.image("Elige","imagenes/EligeColorCW.png"),this.load.audio("sfx","audio/menusfx.mp3"),this.load.image("Escudo","imagenes/EscudoCW.png"),this.load.image("NoFuegoAmigo","imagenes/NoFuegoAmigoCW.png")}create(){this.matter,this.add.image(400,310,"Fondo"),this.add.image(400,90,"BTNOnline").setOrigin(.5).setScale(.33);const e=this.add.image(400,525,"BTNMenu").setOrigin(.5).setScale(.3).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setScale(.35)).on("pointerout",()=>e.setScale(.3)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("MenuScene")});this.colorPlayer1=null,this.play=this.add.image(400,400,"Play").setOrigin(.5).setScale(.3).setInteractive({useHandCursor:!0}).on("pointerover",()=>{this.play.setScale(.35)}).on("pointerout",()=>{this.play.setScale(.3)}).on("pointerdown",()=>{this.handleLogin()});const t=this.game.canvas.getBoundingClientRect();this.inputName=document.createElement("input"),this.inputName.type="text",this.inputName.placeholder="Tu apodo...",this.inputName.style.position="absolute",this.inputName.style.top=t.top+300+"px",this.inputName.style.left=t.left+270+"px",this.inputName.style.fontSize="20px",document.body.appendChild(this.inputName),this.connectionText2=this.add.text(425,470,"Servidor: Comprobando...",{fontSize:"18px",color:"#8d8d3bff"}).setOrigin(.5),this.connectionListener=e=>{this.updateConnectionDisplay(e)},u.addListener(this.connectionListener),this.events.on("shutdown",this.onShutdown,this),this.events.on("destroy",this.onShutdown,this),this.p1Options=[];const s=(e,t,s,i)=>{const a=this.add.image(0,0,`Base${s}`).setScale(1.2).setDepth(10),o=this.add.image(0,0,`Torreta${s}`).setScale(1.2).setOrigin(.2,.5).setDepth(15),n=this.add.image(0,0,"Bubble").setScale(1.6).setDepth(40);n.setVisible(!1);const r=this.add.container(e,t,[a,o,n]);return r.setSize(1.2*a.width,1.2*a.height),r.setInteractive({useHandCursor:!0}),r.setData("colorKey",s),r.setData("selected",!1),r.setData("disabled",!1),r.setData("highlight",n),r.on("pointerover",()=>{r.setScale(1.3)}),r.on("pointerout",()=>{r.setScale(1)}),r.on("pointerup",()=>{r.getData("disabled")||i(s,r)}),r};["Red","Blue","Green","Yellow"].forEach((e,t)=>{const i=s(240+100*t,240,e,(e,t)=>{this.colorPlayer1=e,this.markSelected(this.p1Options,t)});this.p1Options.push(i)})}async handleLogin(){const e=this.inputName.value.trim();if(console.log("Nombre ingresado:",e),console.log("Avatar seleccionado:",this.colorPlayer1),0===e.length)return this.sound.play("sfx",{volume:.5}),void console.log("Por favor, ingresa un nombre válido.");let t=await this.getPlayerByName(e);if(Array.isArray(t)&&0===t.length?t=null:Array.isArray(t)&&(t=t[0]),t)null!==this.colorPlayer1?(console.log("Actualizando avatar del usuario existente."),t=await this.updatePlayer(t.id,{avatar:this.colorPlayer1})):(console.log("Usando avatar existente del usuario."),this.colorPlayer1=t.avatar);else{if(null===this.colorPlayer1)return void console.log("Por favor, selecciona un avatar.");console.log("Creando usuario nuevo..."),t=await this.createPlayer({name:e,avatar:this.colorPlayer1,wins:0}),console.log("Usuario creado:",t)}this.sound.play("sfx",{volume:.5}),this.scene.start("LobbyScene",{playerName:t.name,avatar:t.avatar})}updateConnectionDisplay(e){if(this.connectionText2&&this.scene&&this.scene.isActive("OnlineScene"))try{e.connected?(this.connectionText2.setText(`Servidor: ${e.count} usuario(s) conectado(s)`),this.connectionText2.setColor("#5e925eff")):(this.connectionText2.setText("Servidor: Desconectado"),this.connectionText2.setColor("#a16666ff"))}catch(e){console.error("[OnlineScene] Error updating connection display:",e)}}markSelected(e,t){e.forEach(e=>{e.setData("selected",!1),e.getData("highlight").setVisible(!1)}),t.setData("selected",!0),t.getData("highlight").setVisible(!0)}setOptionDisabled(e,t){e.setData("disabled",t),t?(e.disableInteractive(),e.setAlpha(.3),e.setData("selected",!1),e.getData("highlight").setVisible(!1)):(e.setInteractive({useHandCursor:!0}),e.setAlpha(1))}async getPlayerByName(e){try{const t=await fetch(`http://localhost:3000/api/users?name=${e}`);if(!t.ok)throw new Error("HTTP error "+t.status);const s=await t.json();return Array.isArray(s)&&s.length>0&&s.find(t=>t.name===e)||null}catch(e){return console.error("Error:",e),null}}async createPlayer(e){const t=await fetch("http://localhost:3000/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await t.json()}async updatePlayer(e,t){const s=await fetch(`http://localhost:3000/api/users/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return await s.json()}onShutdown(){this.connectionListener&&(u.removeListener(this.connectionListener),this.connectionListener=null),this.inputName&&(document.body.removeChild(this.inputName),this.inputName=null)}}class f extends s().Scene{constructor(){super("TutorialScene")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("Tutorial","imagenes/TutorialCW.png"),this.load.audio("sfx","audio/menusfx.mp3")}create(){this.add.image(400,310,"Fondo"),this.add.image(400,80,"Tutorial").setOrigin(.5).setScale(.45),this.add.text(400,150,"Controles:",{fontSize:"25px",color:"#000000ff",fontStyle:"bold"}).setOrigin(.5),this.add.text(400,180,"Player 1: wasd",{fontSize:"25px",color:"#000000ff"}).setOrigin(.5),this.add.text(400,210,"Player 2: flechas direccionales",{fontSize:"25px",color:"#000000ff"}).setOrigin(.5),this.add.text(400,260,"Objetivo:",{fontSize:"25px",color:"#000000ff",fontStyle:"bold"}).setOrigin(.5),this.add.text(400,290,"Quitarle las cinco vidas al oponente",{fontSize:"25px",color:"#000000ff"}).setOrigin(.5),this.add.text(400,340,"Mecánicas:",{fontSize:"25px",color:"#000000ff",fontStyle:"bold"}).setOrigin(.5),this.add.text(400,370,"Disparas automáticamente y solo cuando estas quieto",{fontSize:"25px",color:"#000000ff"}).setOrigin(.5),this.add.text(400,400,"Tu cañón siempre apunta al otro jugador",{fontSize:"25px",color:"#000000ff"}).setOrigin(.5),this.add.text(400,430,"Las balas rebotan 3 veces",{fontSize:"25px",color:"#000000ff"}).setOrigin(.5),this.add.text(400,460,"Tus propias balas pueden darte",{fontSize:"25px",color:"#000000ff"}).setOrigin(.5);const e=this.add.image(400,525,"BTNMenu").setOrigin(.5).setScale(.3).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setScale(.35)).on("pointerout",()=>e.setScale(.3)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("MenuScene")})}}class C extends s().Scene{constructor(){super("GameOverScene")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("BTNMenu","imagenes/MenuCW.png"),this.load.image("BTNGanador","imagenes/GanadorCW.png"),this.load.image("P","imagenes/Pcw.png"),this.load.image("1","imagenes/1CW.png"),this.load.image("2","imagenes/2CW.png"),this.load.audio("sfx","audio/menusfx.mp3")}init(e){this.ganador=e?.ganador,this.color=e?.color}create(){this.add.image(400,300,"Fondo"),this.add.image(400,100,"BTNGanador").setOrigin(.5).setScale(.6),this.add.image(355,200,"P").setOrigin(.5).setScale(.5);const e=this.ganador;let t=null;e.includes("1")?t="1":e.includes("2")&&(t="2"),this.add.image(445,200,t).setOrigin(.5).setScale(.5),this.add.image(400,375,`Base${this.color}`).setOrigin(.5,.5).setScale(3),this.torre=this.add.image(400,375,`Torreta${this.color}`).setOrigin(.15,.5).setScale(3);const s=this.add.image(400,540,"BTNMenu").setOrigin(.5).setScale(.4).setInteractive({useHandCursor:!0}).on("pointerover",()=>s.setScale(.43)).on("pointerout",()=>s.setScale(.4)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("MenuScene")})}update(){this.torre.rotation+=Math.PI/180}}class b extends s().Scene{constructor(){super("OptionsScene")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("BTNMenu","imagenes/MenuCW.png"),this.load.image("Opciones","imagenes/OpcionesCW.png"),this.load.image("Barra","imagenes/BarraMusicaCW.png"),this.load.image("Deslizador","imagenes/DeslizadorMusicaCW.png"),this.load.audio("sfx","audio/menusfx.mp3")}create(){this.add.image(400,300,"Fondo"),this.add.image(400,90,"Opciones").setScale(.5).setOrigin(.5);const e=this.add.image(400,525,"BTNMenu").setOrigin(.5).setScale(.4).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setScale(.43)).on("pointerout",()=>e.setScale(.4)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.start("MenuScene")});this.sliderBar=this.add.image(400,300,"Barra").setDisplaySize(200,68).setOrigin(.5);const t=s().Math.Clamp(this.sound.volume??1,0,1),i=320+160*t;this.sliderHandle=this.add.image(i,300,"Deslizador").setScale(.5).setOrigin(.5).setInteractive({draggable:!0}),this.input.setDraggable(this.sliderHandle),this.input.on("drag",(e,t,i)=>{t===this.sliderHandle&&(t.x=s().Math.Clamp(i,320,480),this.sound.mute=!1,this.sound.volume=(t.x-320)/160)}),this.add.text(400,340,"Mute",{fontSize:"24px",color:"#ffffff",backgroundColor:"#333333",padding:{left:20,right:20,top:10,bottom:10}}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.sound.mute=!this.sound.mute})}}class T extends s().Scene{constructor(){super("ConnectionLostScene"),this.reconnectCheckInterval=null}preload(){this.load.image("ConexionPerdida","imagenes/ConexionPerdidaCW.png"),this.load.image("Fondo","imagenes/Fondo.jpg")}init(e){this.previousScene=e.previousScene}create(){this.add.image(400,300,"Fondo"),this.add.image(400,100,"ConexionPerdida").setScale(.4).setOrigin(.5),this.statusText=this.add.text(400,300,"Intentando reconectar...",{fontSize:"24px",color:"#ff0000"}).setOrigin(.5);const e=this.add.image(400,525,"BTNMenu").setOrigin(.5).setScale(.3).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setScale(.35)).on("pointerout",()=>e.setScale(.3)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.scene.stop(this.previousScene),this.scene.stop(),this.scene.start("MenuScene")});this.attemptCount=0,this.attemptText=this.add.text(400,350,"Intentos: 0",{fontSize:"18px",color:"#000000"}).setOrigin(.5),this.dotCount=0,this.time.addEvent({delay:2e3,callback:()=>{this.dotCount=(this.dotCount+1)%4;const e=".".repeat(this.dotCount);this.statusText.setText(`Intentando reconectar${e}`)},loop:!0}),this.connectionListener=e=>{e.connected&&this.onReconnected()},u.addListener(this.connectionListener),this.reconnectCheckInterval=setInterval(()=>{this.attemptReconnect()},2e3),this.attemptReconnect()}async attemptReconnect(){this.attemptCount++,this.attemptText.setText(`Intentos: ${this.attemptCount}`),await u.checkConnection()}onReconnected(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),u.removeListener(this.connectionListener),this.statusText.setText("¡Conexión restablecida!"),this.statusText.setColor("#00ff00"),this.time.delayedCall(1e3,()=>{this.scene.stop(),this.previousScene&&this.scene.resume(this.previousScene)})}shutdown(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),this.connectionListener&&u.removeListener(this.connectionListener)}}class w extends s().Scene{constructor(){super("OnlineGameScene")}preload(){this.load.image("Fondo","imagenes/Fondo.jpg"),this.load.image("Vida","imagenes/VidaCW.png"),this.load.image("Bubble","imagenes/BurbujaCW.png"),this.load.image("MedioMapa","imagenes/MedioObstaculoCW.png"),this.load.image("Palo","imagenes/PaloObstaculoCW.png"),this.load.image("BloqueSimple","imagenes/TileMuro.png"),this.load.image("BottomTopWall","imagenes/BottomTopCW.png"),this.load.image("LeftRightWall","imagenes/LeftRightCW.png"),this.load.image("BaseRed","imagenes/TanqueRojoCW.png"),this.load.image("TorretaRed","imagenes/CanonRojoCW.png"),this.load.image("BalaRed","imagenes/BalaNRojoCw.png"),this.load.image("BaseGreen","imagenes/TanqueVerdeCW.png"),this.load.image("TorretaGreen","imagenes/CanonVerdeCW.png"),this.load.image("BalaGreen","imagenes/BalaNVerdeCW.png"),this.load.image("BaseBlue","imagenes/TanqueAzulCW.png"),this.load.image("TorretaBlue","imagenes/CanonAzulCW.png"),this.load.image("BalaBlue","imagenes/BalaNAzulCW.png"),this.load.image("BaseYellow","imagenes/TanqueAmarilloCW.png"),this.load.image("TorretaYellow","imagenes/CanonAmarilloCW.png"),this.load.image("BalaYellow","imagenes/BalaNAmarilloCW.png"),this.load.image("MuroBloque6","imagenes/MedioObstaculoCW.png"),this.load.image("Bloque","imagenes/TileMuro.png"),this.load.image("Palo","imagenes/PaloObstaculoCW.png")}init(e){if(this.ws=e.ws,this.playerRole=e.playerRole,this.roomId=e.roomId,this.localTank=null,this.remoteTank=null,this.processor=new c,this.players=new Map,this.isGameOver=!1,this.colorPlayer1=e.avatar1,this.colorPlayer2=e.avatar2,this.name1=e.name1,this.name2=e.name2,this.colorPlayer2===this.colorPlayer1){let e=["Red","Blue","Green","Yellow"].filter(e=>e!==this.colorPlayer1),t=s().Utils.Array.GetRandom(e);"player1"===this.playerRole?this.colorPlayer2=t:this.colorPlayer1=t}this.usePowerUps=!1}create(){this.powerUpsGroup=this.physics.add.group(),this.add.image(400,300,"Fondo"),this.createBounds(),this.obstacles=this.physics.add.staticGroup(this.top,this.bottom,this.left,this.right,this.block1,this.block2,this.centro1,this.centro2,this.centro3,this.palo1,this.palo2),this.cursors=this.input.keyboard.createCursorKeys(),this.setUpPlayers(),this.createCollisions(),this.setupWebSocketListeners(),this.vidasJugadores(),this.connectionListener=e=>{!e.connected&&this.scene.isActive()&&this.onConnectionLost()},u.addListener(this.connectionListener),this.events.on("shutdown",this.onShutdown,this),this.events.on("destroy",this.onShutdown,this),this.poweUpGenerator=new h(this,1e4,!0)}onConnectionLost(){}setupWebSocketListeners(){this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.gameEnded||this.handleDisconnection()},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.gameEnded||this.handleDisconnection()}}handleServerMessage(e){switch(e.type){case"tankUpdate":let t=new p(this.remoteTank,e.action);this.processor.process(t),this.actualizarVidas("player1"===this.playerRole?"player2":"player1",e.lives);break;case"spawnPowerUp":const i=e.data;new l(this,i.x,i.y,i.tipo,this.poweUpGenerator);break;case"collectPowerUp":console.log("Power-up collected");break;case"tankColor":if(e.role!==this.playerRole){if(this.remoteTank.destroy(),e.color!==this.remoteTank.color)this.remoteTank=new r(this,e.role,"player1"===e.role?90:710,300,e.color);else{let t=["Red","Blue","Green","Yellow"].filter(t=>t!==e.color),i=s().Utils.Array.GetRandom(t);this.remoteTank=new r(this,e.role,"player1"===e.role?90:710,300,i)}this.players.set(e.role,this.remoteTank),this.remoteTank.SetTarget(this.localTank),this.createCollisions()}break;case"gameOver":this.endGame(e.winner);break;case"playerDisconnected":this.handleDisconnection();break;default:console.log("Unknown message type:",e.type)}}handleDisconnection(){this.gameEnded=!0,this.localTank.sprite.setVelocity(0,0),this.remoteTank.sprite.setVelocity(0,0),this.physics.pause(),this.add.image(400,130,"ConexionPerdida").setScale(.4).setOrigin(.5),this.createMenuButton()}createMenuButton(){const e=this.add.image(400,400,"BTNMenu").setOrigin(.5).setScale(.4).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setScale(.43)).on("pointerout",()=>e.setScale(.4)).on("pointerdown",()=>{this.sound.play("sfx",{volume:.5}),this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close(),this.scene.start("MenuScene")})}vidasJugadores(){this.vidaPlayer1=[],this.vidaPlayer2=[],this.add.image(10,20,`Base${this.players.get("player1").color}`).setOrigin(0,0),this.add.image(740,20,`Base${this.players.get("player2").color}`).setOrigin(0,0),this.add.image(35,40,`Torreta${this.players.get("player1").color}`).setOrigin(.15,.5),this.add.image(765,40,`Torreta${this.players.get("player2").color}`).setOrigin(.15,.5).setRotation(Math.PI);for(let e=0;e<5;e++){const t=this.add.image(90+30*e,35,"Vida").setScale(.05);this.vidaPlayer1.push(t);const s=this.add.image(710-30*e,35,"Vida").setScale(.05);this.vidaPlayer2.push(s)}}actualizarVidas(e,t){const s="player1"===e?this.vidaPlayer1:this.vidaPlayer2;if(s.length>t&&s.pop().destroy(),s.length<t){if("player1"===e){const e=this.add.image(90+30*s.length,35,"Vida").setScale(.05);s.push(e)}if("player2"===e){const e=this.add.image(710-30*s.length,35,"Vida").setScale(.05);s.push(e)}}t<=0&&(this.sendMessage({type:"gameOver",winner:e}),this.endGame(e))}setUpPlayers(){"player1"===this.playerRole?(this.localTank=new r(this,"player1",90,300,this.colorPlayer1),this.remoteTank=new r(this,"player2",710,300,this.colorPlayer2),this.players.set("player1",this.localTank),this.players.set("player2",this.remoteTank)):(this.localTank=new r(this,"player2",710,300,this.colorPlayer2),this.remoteTank=new r(this,"player1",90,300,this.colorPlayer1),this.players.set("player2",this.localTank),this.players.set("player1",this.remoteTank)),this.localTank.SetTarget(this.remoteTank),this.remoteTank.SetTarget(this.localTank)}endGame(e){this.players.forEach(e=>{e.sprite.setVelocityY(0),e.sprite.setVelocityX(0),e.turret.sprite.setVelocityY(0),e.turret.sprite.setVelocityX(0),e.turret.shoot(!0)}),this.physics.pause(),this.isGameOver=!0,this.scene.start("GameOverScene",{ganador:"player1"===e?"player2":"player1",color:this.players.get("player1"===e?"player2":"player1").color})}createBounds(){this.top=this.physics.add.sprite(400,83,"BottomTopWall"),this.top.setImmovable(!0),this.top.body.setSize(765,45),this.bottom=this.physics.add.sprite(400,577,"BottomTopWall"),this.bottom.setImmovable(!0),this.bottom.body.setSize(765,45),this.left=this.physics.add.sprite(40,330,"LeftRightWall"),this.left.setImmovable(!0),this.left.body.setSize(45,450),this.right=this.physics.add.sprite(760,330,"LeftRightWall"),this.right.setImmovable(!0),this.right.body.setSize(45,450),this.block1=this.physics.add.sprite(400,198,"MuroBloque6"),this.block1.setImmovable(!0),this.block2=this.physics.add.sprite(400,462,"MuroBloque6"),this.block2.setImmovable(!0),this.centro1=this.physics.add.sprite(400,352,"Bloque"),this.centro1.setImmovable(!0),this.centro2=this.physics.add.sprite(355,307,"Bloque"),this.centro2.setImmovable(!0),this.centro3=this.physics.add.sprite(445,307,"Bloque"),this.centro3.setImmovable(!0),this.palo1=this.physics.add.sprite(648,439,"Palo"),this.palo1.setImmovable(!0),this.palo2=this.physics.add.sprite(152,218,"Palo"),this.palo2.setImmovable(!0)}createCollisions(){this.players.forEach(e=>{this.physics.add.collider(this.left,e.sprite),this.physics.add.collider(this.right,e.sprite),this.physics.add.collider(this.top,e.sprite),this.physics.add.collider(this.bottom,e.sprite),this.physics.add.collider(this.block1,e.sprite),this.physics.add.collider(this.block2,e.sprite),this.physics.add.collider(this.centro1,e.sprite),this.physics.add.collider(this.centro2,e.sprite),this.physics.add.collider(this.centro3,e.sprite),this.physics.add.collider(this.palo1,e.sprite),this.physics.add.collider(this.palo2,e.sprite)})}sendMessage(e){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify(e))}update(){if(this.isGameOver)return;this.usePowerUps&&(this.sendMessage({type:"collectPowerUp"}),this.usePowerUps=!1);let e=null;e=this.cursors.up.isDown?"up":this.cursors.down.isDown?"down":this.cursors.left.isDown?"left":this.cursors.right.isDown?"right":"stop";let t=new p(this.localTank,e);this.processor.process(t),this.sendMessage({type:"tankMove",action:e,lives:this.localTank.vidas})}onShutdown(){this.connectionListener&&(u.removeListener(this.connectionListener),this.connectionListener=null),this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close()}}class B extends Phaser.Scene{constructor(){super({key:"LobbyScene"}),this.ws=null}init(e){this.playerName=e.playerName,this.avatar=e.avatar}create(){const e=this.cameras.main.width,t=this.cameras.main.height;this.add.image(400,310,"Fondo"),this.add.image(400,90,"BTNOnline").setOrigin(.5).setScale(.33),this.statusText=this.add.text(e/2,t/2-50,"Connecting to server...",{fontSize:"24px",color:"#939342ff"}).setOrigin(.5),this.playerCountText=this.add.text(e/2,t/2+20,"",{fontSize:"20px",color:"#4b954bff"}).setOrigin(.5),this.add.image(400,350,`Base${this.avatar}`).setScale(1.3).setDepth(10),this.add.image(400,350,`Torreta${this.avatar}`).setScale(1.3).setOrigin(.2,.5).setDepth(15),this.add.text(400,400,this.playerName,{fontSize:"32px",color:"#2b2b27ff",backgroundColor:"#bbb7b7ff"}).setOrigin(.5);const s=this.add.text(e/2,t-100,"Cancel",{fontSize:"24px",color:"#9b4545ff",backgroundColor:"#333333",padding:{x:20,y:10}}).setOrigin(.5).setInteractive();s.on("pointerover",()=>{s.setColor("#ff0000")}),s.on("pointerout",()=>{s.setColor("#ff6666")}),s.on("pointerdown",()=>{this.leaveQueue(),this.scene.start("OnlineScene")}),this.connectToServer()}connectToServer(){try{const e=`ws://${window.location.host}`;this.ws=new WebSocket(e),this.ws.onopen=()=>{console.log("Connected to WebSocket server"),this.statusText.setText("Waiting for opponent..."),this.ws.send(JSON.stringify({type:"joinQueue",color:this.avatar,name:this.playerName}))},this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.statusText.setText("Connection error!"),this.statusText.setColor("#ff0000")},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.scene.isActive("LobbyScene")&&(this.statusText.setText("Connection lost!"),this.statusText.setColor("#8a4848ff"))}}catch(e){console.error("Error connecting to server:",e),this.statusText.setText("Failed to connect!"),this.statusText.setColor("#a94848ff")}}handleServerMessage(e){switch(e.type){case"queueStatus":this.playerCountText.setText(`Players in queue: ${e.position}/2`);break;case"gameStart":console.log("Game starting!",e),this.scene.start("OnlineGameScene",{ws:this.ws,playerRole:e.role,roomId:e.roomId,avatar1:e.colorp1,avatar2:e.colorp2,name1:e.namep1,name2:e.namep2});break;default:console.log("Unknown message type:",e.type)}}leaveQueue(){this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"leaveQueue"})),this.ws.close())}shutdown(){this.leaveQueue()}}const x={type:s().AUTO,width:800,height:600,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{y:0},debug:!1}},scene:[i,a,m,y,S,v,f,C,b,B,T,w],backgroundColor:"#1a1a2e"};new(s().Game)(x)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S0FBS3hOLEtBQUtDLFVBQVUsQ0FBRXhFLEtBQU0sZ0JBQ3BDakssS0FBSzBaLEdBQUdtQyxRQUVaLENBRUEsUUFBQXJDLEdBQ0V4WixLQUFLeWMsWUFDUCxFQ3BJRixNQUFNMUosRUFBUyxDQUNYOUksS0FBTSxTQUNOekgsTUFBTyxJQUNQQyxPQUFRLElBQ1IyYSxPQUFRLGlCQUNSM1ksUUFBUyxDQUNMNFksUUFBUyxTQUNUQyxPQUFRLENBQ0pDLFFBQVMsQ0FBRXpiLEVBQUcsR0FDZDBiLE9BQU8sSUFHZnZjLE1BQU8sQ0FBQ3JCLEVBQVcyQixFQUFhdU8sRUFBV2tGLEVBQVlnQixFQUFhRSxFQUFhb0MsRUFBZUMsRUFBZUksRUFBY3dELEVBQVlwRCxFQUFxQlUsR0FDOUozRCxnQkFBaUIsV0FHUixJQUFJLFVBQVkvQyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy9leHRlcm5hbCB2YXIgXCJQaGFzZXJcIiIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvLi9zcmMvY2xpZW50L3NjZW5lcy9NZW51U2NlbmUuanMiLCJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzLy4vc3JjL2NsaWVudC9zY2VuZXMvU2VsZWN0Q29sb3IuanMiLCJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzLy4vc3JjL2NsaWVudC9lbnRpdGllcy9CdWxsZXQuanMiLCJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzLy4vc3JjL2NsaWVudC9lbnRpdGllcy9UdXJyZXQuanMiLCJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzLy4vc3JjL2NsaWVudC9lbnRpdGllcy9UYW5rLmpzIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy8uL3NyYy9jbGllbnQvZW50aXRpZXMvUG93ZXJVcC5qcyIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvLi9zcmMvY2xpZW50L2VudGl0aWVzL1Bvd2VyVXBHZW5lcmF0b3IuanMiLCJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzLy4vc3JjL2NsaWVudC9jb21tYW5kcy9Db21tYW5kUHJvY2Vzc29yLmpzIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy8uL3NyYy9jbGllbnQvY29tbWFuZHMvQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvLi9zcmMvY2xpZW50L2NvbW1hbmRzL01vdmVUYW5rQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvLi9zcmMvY2xpZW50L2NvbW1hbmRzL1B1YXNlR2FtZUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzLy4vc3JjL2NsaWVudC9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvLi9zcmMvY2xpZW50L3NjZW5lcy9HYW1lU2NlbmUuanMiLCJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzLy4vc3JjL2NsaWVudC9zY2VuZXMvUGF1c2VTY2VuZS5qcyIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvLi9zcmMvY2xpZW50L3NjZW5lcy9DcmVkaXRTY2VuZS5qcyIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvLi9zcmMvY2xpZW50L3NjZW5lcy9PbmxpbmVTY2VuZS5qcyIsIndlYnBhY2s6Ly9jaGFydGFyaXVtLXdhcnMvLi9zcmMvY2xpZW50L3NjZW5lcy9UdXRvcmlhbFNjZW5lLmpzIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy8uL3NyYy9jbGllbnQvc2NlbmVzL0dhbWVPdmVyU2NlbmUuanMiLCJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzLy4vc3JjL2NsaWVudC9zY2VuZXMvT3B0aW9uc1NjZW5lLmpzIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy8uL3NyYy9jbGllbnQvc2NlbmVzL0NvbmVjdGlvbkxvc3QuanMiLCJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzLy4vc3JjL2NsaWVudC9zY2VuZXMvT25saW5lR2FtZVNjZW5lLmpzIiwid2VicGFjazovL2NoYXJ0YXJpdW0td2Fycy8uL3NyYy9jbGllbnQvc2NlbmVzL0xvYmJ5U2NlbmUuanMiLCJ3ZWJwYWNrOi8vY2hhcnRhcml1bS13YXJzLy4vc3JjL2NsaWVudC9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gUGhhc2VyOyIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgTWVudVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdNZW51U2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkgey8vY2FyZ2EgZGUgYXJjaGl2b3NcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0ZvbmRvJywgJ2ltYWdlbmVzL0ZvbmRvLmpwZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTG9nbycsICdpbWFnZW5lcy9Mb2dvLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0NvbmV4aW9uUGVyZGlkYScsICdpbWFnZW5lcy9Db25leGlvblBlcmRpZGFDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0JUTlBsYXllcicsICdpbWFnZW5lcy9Mb2NhbEJ0bkNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQlROQ3JlZGl0JywgJ2ltYWdlbmVzL0NyZWRpdG9zQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCVE5PbmxpbmUnLCAnaW1hZ2VuZXMvT25saW5lQnRuQ1cucG5nJyk7ICAgXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCVE5NZW51JywgJ2ltYWdlbmVzL01lbnVDVy5wbmcnKTsgXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCVE5UdXRvcmlhbCcsICdpbWFnZW5lcy9UdXRvcmlhbENXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQlROT3BjaW9uZXMnLCAnaW1hZ2VuZXMvT3BjaW9uZXNDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ211c2ljYScsICdhdWRpby9tdXNpY2EubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzZngnLCAnYXVkaW8vbWVudXNmeC5tcDMnKTsgICBcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1ZlbG9jaWRhZCcsICdpbWFnZW5lcy9WZWxvY2lkYWRDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0VzY3VkbycsICdpbWFnZW5lcy9Fc2N1ZG9DVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ05vRnVlZ29BbWlnbycsICdpbWFnZW5lcy9Ob0Z1ZWdvQW1pZ29DVy5wbmcnKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIC8vbXVzaWNhXHJcblxyXG4gICAgICAgIGxldCBtdXNpY2EgPSB0aGlzLnNvdW5kLmdldCgnbXVzaWNhJyk7XHJcbiAgICAgICAgaWYgKCFtdXNpY2EpIHsgICAgICAgIFxyXG4gICAgICAgICAgICBtdXNpY2EgPSB0aGlzLnNvdW5kLmFkZCgnbXVzaWNhJywgeyBsb29wOiB0cnVlLCB2b2x1bWU6IDAuNH0pOyAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBtdXNpY2EucGxheSgpOyAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDMwMCwgJ0ZvbmRvJyk7XHJcbiAgICAgICAgLy9sb2dvXHJcbiAgICAgICAgY29uc3QgbG9nbz10aGlzLmFkZC5pbWFnZSg0MDAsIDE4MCwgJ0xvZ28nKVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBsb2dvLnNldFNjYWxlKDEuMSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgbG9jYWxCdG4gPSB0aGlzLmFkZC5pbWFnZSgxNjAsIDQwMCwgXCJCVE5QbGF5ZXJcIilcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgICAgIGxvY2FsQnRuLnNldFNjYWxlKDAuMTkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL2xvY2FsQnRuLnNldFRpbnQoMHgwMGZmODgpOyAgIC8vIGFwbGljYSBjb2xvclxyXG4gICAgICAgICAgICAgICAgbG9jYWxCdG4uc2V0U2NhbGUoMC4yMCk7ICAgICAgIC8vIGF1bWVudGEgdGFtYcOxbyB1biAxMCVcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy9sb2NhbEJ0bi5zZXRUaW50KDB4MDBmZjAwKTsgICAvLyB2dWVsdmUgYWwgY29sb3Igb3JpZ2luYWxcclxuICAgICAgICAgICAgICAgIGxvY2FsQnRuLnNldFNjYWxlKDAuMTkpOyAgICAgICAgIC8vIHZ1ZWx2ZSBhbCB0YW1hw7FvIG9yaWdpbmFsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3NmeCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdTZWxlY3RDb2xvcicpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBvbmxpbmVCdG4gPSB0aGlzLmFkZC5pbWFnZSg2MjAsIDQwMCwgXCJCVE5PbmxpbmVcIilcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgICAgIG9ubGluZUJ0bi5zZXRTY2FsZSgwLjE5KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy9sb2NhbEJ0bi5zZXRUaW50KDB4MDBmZjg4KTsgICAvLyBhcGxpY2EgY29sb3JcclxuICAgICAgICAgICAgICAgIG9ubGluZUJ0bi5zZXRTY2FsZSgwLjIwKTsgICAgICAgLy8gYXVtZW50YSB0YW1hw7FvIHVuIDEwJVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL2xvY2FsQnRuLnNldFRpbnQoMHgwMGZmMDApOyAgIC8vIHZ1ZWx2ZSBhbCBjb2xvciBvcmlnaW5hbFxyXG4gICAgICAgICAgICAgICAgb25saW5lQnRuLnNldFNjYWxlKDAuMTkpOyAgICAgICAgIC8vIHZ1ZWx2ZSBhbCB0YW1hw7FvIG9yaWdpbmFsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3NmeCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdPbmxpbmVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCB0dXRvcmlhbEJ0biA9IHRoaXMuYWRkLmltYWdlKDE2MCw1MTcsJ0JUTlR1dG9yaWFsJykuc2V0T3JpZ2luKDAuNSkuc2V0U2NhbGUoMC4zKVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vbG9jYWxCdG4uc2V0VGludCgweDAwZmY4OCk7ICAgLy8gYXBsaWNhIGNvbG9yXHJcbiAgICAgICAgICAgICAgICB0dXRvcmlhbEJ0bi5zZXRTY2FsZSgwLjMzKTsgICAgICAgLy8gYXVtZW50YSB0YW1hw7FvIHVuIDEwJVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL2xvY2FsQnRuLnNldFRpbnQoMHgwMGZmMDApOyAgIC8vIHZ1ZWx2ZSBhbCBjb2xvciBvcmlnaW5hbFxyXG4gICAgICAgICAgICAgICAgdHV0b3JpYWxCdG4uc2V0U2NhbGUoMC4zKTsgICAgICAgICAvLyB2dWVsdmUgYWwgdGFtYcOxbyBvcmlnaW5hbFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdzZngnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnVHV0b3JpYWxTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBjcmVkaXRCdG4gPSB0aGlzLmFkZC5pbWFnZSg2MjAsIDUxMCwgXCJCVE5DcmVkaXRcIilcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vbG9jYWxCdG4uc2V0VGludCgweDAwZmY4OCk7ICAgLy8gYXBsaWNhIGNvbG9yXHJcbiAgICAgICAgICAgICAgICBjcmVkaXRCdG4uc2V0U2NhbGUoMS4xKTsgICAgICAgLy8gYXVtZW50YSB0YW1hw7FvIHVuIDEwJVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL2xvY2FsQnRuLnNldFRpbnQoMHgwMGZmMDApOyAgIC8vIHZ1ZWx2ZSBhbCBjb2xvciBvcmlnaW5hbFxyXG4gICAgICAgICAgICAgICAgY3JlZGl0QnRuLnNldFNjYWxlKDEpOyAgICAgICAgIC8vIHZ1ZWx2ZSBhbCB0YW1hw7FvIG9yaWdpbmFsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3NmeCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdDcmVkaXRTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBvcHRpb25zQnRuID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCA0NjAsICdCVE5PcGNpb25lcycpXHJcbiAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICBvcHRpb25zQnRuLnNldFNjYWxlKDAuMTkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL2xvY2FsQnRuLnNldFRpbnQoMHgwMGZmODgpOyAgIC8vIGFwbGljYSBjb2xvclxyXG4gICAgICAgICAgICAgICAgb3B0aW9uc0J0bi5zZXRTY2FsZSgwLjIwKTsgICAgICAgLy8gYXVtZW50YSB0YW1hw7FvIHVuIDEwJVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL2xvY2FsQnRuLnNldFRpbnQoMHgwMGZmMDApOyAgIC8vIHZ1ZWx2ZSBhbCBjb2xvciBvcmlnaW5hbFxyXG4gICAgICAgICAgICAgICAgb3B0aW9uc0J0bi5zZXRTY2FsZSgwLjE5KTsgICAgICAgICAvLyB2dWVsdmUgYWwgdGFtYcOxbyBvcmlnaW5hbFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdzZngnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnT3B0aW9uc1NjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNlbGVjdENvbG9yIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdTZWxlY3RDb2xvcicpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdGb25kbycsICdpbWFnZW5lcy9Gb25kby5qcGcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCYXNlUmVkJywgJ2ltYWdlbmVzL1RhbnF1ZVJvam9DVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1RvcnJldGFSZWQnLCAnaW1hZ2VuZXMvQ2Fub25Sb2pvQ1cucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmFzZUdyZWVuJywgJ2ltYWdlbmVzL1RhbnF1ZVZlcmRlQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdUb3JyZXRhR3JlZW4nLCAnaW1hZ2VuZXMvQ2Fub25WZXJkZUNXLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0Jhc2VCbHVlJywgJ2ltYWdlbmVzL1RhbnF1ZUF6dWxDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1RvcnJldGFCbHVlJywgJ2ltYWdlbmVzL0Nhbm9uQXp1bENXLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0Jhc2VZZWxsb3cnLCAnaW1hZ2VuZXMvVGFucXVlQW1hcmlsbG9DVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1RvcnJldGFZZWxsb3cnLCAnaW1hZ2VuZXMvQ2Fub25BbWFyaWxsb0NXLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BsYXknLCAnaW1hZ2VuZXMvUExBWUNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQlROTWVudScsICdpbWFnZW5lcy9NZW51Q1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQJywgJ2ltYWdlbmVzL1Bjdy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJzEnLCAnaW1hZ2VuZXMvMUNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnMicsICdpbWFnZW5lcy8yQ1cucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQnViYmxlJywgJ2ltYWdlbmVzL0J1cmJ1amFDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0VsaWdlJywgJ2ltYWdlbmVzL0VsaWdlQ29sb3JDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3NmeCcsICdhdWRpby9tZW51c2Z4Lm1wMycpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gRm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDMwMCwgJ0ZvbmRvJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDAwLDUwLCdFbGlnZScpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDAuNCk7XHJcblxyXG4gICAgICAgIC8vIEFob3JhIGVtcGV6YW1vcyBTSU4gY29sb3IgZWxlZ2lkb1xyXG4gICAgICAgIHRoaXMuY29sb3JQbGF5ZXIxID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNvbG9yUGxheWVyMiA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vIC0tLSBUw610dWxvcyAtLS1cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSgxOTAsIDEyMCwgJ1AnKS5zZXRPcmlnaW4oMC41KS5zZXRTY2FsZSgwLjI1KTtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSgyNDAsIDEyMiwgJzEnKS5zZXRPcmlnaW4oMC41KS5zZXRTY2FsZSgwLjI1KTsgIFxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDU5MCwgMTIwLCAnUCcpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDAuMjUpO1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDY0MCwgMTIwLCAnMicpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDAuMjUpO1xyXG5cclxuICAgICAgICB0aGlzLnAxT3B0aW9ucyA9IFtdO1xyXG4gICAgICAgIHRoaXMucDJPcHRpb25zID0gW107XHJcblxyXG4gICAgICAgIGNvbnN0IGNyZWF0ZVRhbmtPcHRpb24gPSAoeCwgeSwgY29sb3JLZXksIG9uQ2xpY2spID0+IHtcclxuICAgICAgICAgICAgLy8gUmVjdMOhbmd1bG8gZGUgc2VsZWNjacOzbiAoaW52aXNpYmxlIGFsIGluaWNpbylcclxuICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICBjb25zdCBiYXNlID0gdGhpcy5hZGQuaW1hZ2UoMCwgMCwgYEJhc2Uke2NvbG9yS2V5fWApLnNldFNjYWxlKDEuMikuc2V0RGVwdGgoMTApO1xyXG4gICAgICAgICAgICBjb25zdCB0dXJyZXQgPSB0aGlzLmFkZC5pbWFnZSgwLCAwLCBgVG9ycmV0YSR7Y29sb3JLZXl9YCkuc2V0U2NhbGUoMS4yKS5zZXRPcmlnaW4oMC4yLDAuNSkuc2V0RGVwdGgoMTUpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgaGlnaGxpZ2h0ID0gdGhpcy5hZGQuaW1hZ2UoMCwgMCwgXCJCdWJibGVcIikuc2V0U2NhbGUoMS42KS5zZXREZXB0aCg0MCk7XHJcbiAgICAgICAgICAgIGhpZ2hsaWdodC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuYWRkLmNvbnRhaW5lcih4LCB5LCBbYmFzZSwgdHVycmV0LGhpZ2hsaWdodF0pO1xyXG4gICAgICAgICAgICBjb250YWluZXIuc2V0U2l6ZShiYXNlLndpZHRoICogMS4yLCBiYXNlLmhlaWdodCAqIDEuMik7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgICAgICBjb250YWluZXIuc2V0RGF0YSgnY29sb3JLZXknLCBjb2xvcktleSk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zZXREYXRhKCdzZWxlY3RlZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnNldERhdGEoJ2Rpc2FibGVkJywgZmFsc2UpO1xyXG4gICAgICAgICAgICBjb250YWluZXIuc2V0RGF0YSgnaGlnaGxpZ2h0JywgaGlnaGxpZ2h0KTtcclxuXHJcblxyXG4gICAgICAgICAgICBjb250YWluZXIub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy9sb2NhbEJ0bi5zZXRUaW50KDB4MDBmZjg4KTsgICAvLyBhcGxpY2EgY29sb3JcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZXRTY2FsZSgxLjMpOyAgICAgICAvLyBhdW1lbnRhIHRhbWHDsW8gdW4gMTAlXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vbG9jYWxCdG4uc2V0VGludCgweDAwZmYwMCk7ICAgLy8gdnVlbHZlIGFsIGNvbG9yIG9yaWdpbmFsXHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIuc2V0U2NhbGUoMS4wKTsgICAgICAgICAvLyB2dWVsdmUgYWwgdGFtYcOxbyBvcmlnaW5hbFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gQ2xpY2sgcGFyYSBzZWxlY2Npb25hclxyXG4gICAgICAgICAgICBjb250YWluZXIub24oJ3BvaW50ZXJ1cCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChjb250YWluZXIuZ2V0RGF0YSgnZGlzYWJsZWQnKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgb25DbGljayhjb2xvcktleSwgY29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBjb250YWluZXI7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gQ29vcmRlbmFkYXNcclxuICAgICAgICBjb25zdCBwMVggPSAyMDA7XHJcbiAgICAgICAgY29uc3QgcDJYID0gNjAwO1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0WSA9IDE4MDtcclxuICAgICAgICBjb25zdCBnYXBZID0gMTAwO1xyXG4gICAgICAgIGNvbnN0IGNvbG9ycyA9IFsnUmVkJywgJ0JsdWUnLCAnR3JlZW4nLCAnWWVsbG93J107XHJcblxyXG4gICAgICAgIC8vIFBsYXllciAxXHJcbiAgICAgICAgY29sb3JzLmZvckVhY2goKGNvbG9yLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wdCA9IGNyZWF0ZVRhbmtPcHRpb24ocDFYLCBzdGFydFkgKyBpICogZ2FwWSwgY29sb3IsIChrZXksIG9wdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvclBsYXllcjEgPSBrZXk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hcmtTZWxlY3RlZCh0aGlzLnAxT3B0aW9ucywgb3B0aW9uKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRGlzYWJsZWRTdGF0ZXMoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucDFPcHRpb25zLnB1c2gob3B0KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gUGxheWVyIDJcclxuICAgICAgICBjb2xvcnMuZm9yRWFjaCgoY29sb3IsIGkpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb3B0ID0gY3JlYXRlVGFua09wdGlvbihwMlgsIHN0YXJ0WSArIGkgKiBnYXBZLCBjb2xvciwgKGtleSwgb3B0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yUGxheWVyMiA9IGtleTtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFya1NlbGVjdGVkKHRoaXMucDJPcHRpb25zLCBvcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVEaXNhYmxlZFN0YXRlcygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5wMk9wdGlvbnMucHVzaChvcHQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gUGxheVxyXG4gICAgICAgIGNvbnN0IHBsYXlCdG4gPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDMyMCwgXCJQbGF5XCIpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgICAgICBwbGF5QnRuLnNldFNjYWxlKDAuMylcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vbG9jYWxCdG4uc2V0VGludCgweDAwZmY4OCk7ICAgLy8gYXBsaWNhIGNvbG9yXHJcbiAgICAgICAgICAgICAgICBwbGF5QnRuLnNldFNjYWxlKDAuMzMpOyAgICAgICAvLyBhdW1lbnRhIHRhbWHDsW8gdW4gMTAlXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vbG9jYWxCdG4uc2V0VGludCgweDAwZmYwMCk7ICAgLy8gdnVlbHZlIGFsIGNvbG9yIG9yaWdpbmFsXHJcbiAgICAgICAgICAgICAgICBwbGF5QnRuLnNldFNjYWxlKDAuMyk7ICAgICAgICAgLy8gdnVlbHZlIGFsIHRhbWHDsW8gb3JpZ2luYWxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcGxheUJ0bi5vbigncG9pbnRlcnVwJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuY29sb3JQbGF5ZXIxIHx8ICF0aGlzLmNvbG9yUGxheWVyMiB8fCB0aGlzLmNvbG9yUGxheWVyMSA9PT0gdGhpcy5jb2xvclBsYXllcjIpIHJldHVybjtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdzZngnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdHYW1lU2NlbmUnLCB7XHJcbiAgICAgICAgICAgICAgICBjb2xvclBsYXllcjE6IHRoaXMuY29sb3JQbGF5ZXIxLFxyXG4gICAgICAgICAgICAgICAgY29sb3JQbGF5ZXIyOiB0aGlzLmNvbG9yUGxheWVyMlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIHZvbHZlclxyXG4gICAgICAgIGNvbnN0IG1lbnVCdG4gPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDUyNSwgJ0JUTk1lbnUnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuMylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbWVudUJ0bi5zZXRTY2FsZSgwLjM1KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbWVudUJ0bi5zZXRTY2FsZSgwLjMpKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdzZngnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE1hcmNhIHNlbGVjY2lvbmFkb1xyXG4gICAgbWFya1NlbGVjdGVkKG9wdGlvbkFycmF5LCBzZWxlY3RlZE9wdGlvbikge1xyXG4gICAgICAgIG9wdGlvbkFycmF5LmZvckVhY2gobyA9PiB7XHJcbiAgICAgICAgICAgIG8uc2V0RGF0YSgnc2VsZWN0ZWQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIG8uZ2V0RGF0YSgnaGlnaGxpZ2h0Jykuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc2VsZWN0ZWRPcHRpb24uc2V0RGF0YSgnc2VsZWN0ZWQnLCB0cnVlKTtcclxuICAgICAgICBzZWxlY3RlZE9wdGlvbi5nZXREYXRhKCdoaWdobGlnaHQnKS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFjdHVhbGl6YSBlc3RhZG9zXHJcbiAgICB1cGRhdGVEaXNhYmxlZFN0YXRlcygpIHtcclxuICAgICAgICB0aGlzLnAxT3B0aW9ucy5mb3JFYWNoKG8gPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBrZXkgPSBvLmdldERhdGEoJ2NvbG9yS2V5Jyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHNob3VsZERpc2FibGUgPSAodGhpcy5jb2xvclBsYXllcjIgJiYga2V5ID09PSB0aGlzLmNvbG9yUGxheWVyMik7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0T3B0aW9uRGlzYWJsZWQobywgc2hvdWxkRGlzYWJsZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucDJPcHRpb25zLmZvckVhY2gobyA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IG8uZ2V0RGF0YSgnY29sb3JLZXknKTtcclxuICAgICAgICAgICAgY29uc3Qgc2hvdWxkRGlzYWJsZSA9ICh0aGlzLmNvbG9yUGxheWVyMSAmJiBrZXkgPT09IHRoaXMuY29sb3JQbGF5ZXIxKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRPcHRpb25EaXNhYmxlZChvLCBzaG91bGREaXNhYmxlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRPcHRpb25EaXNhYmxlZChvcHRpb24sIGRpc2FibGVkKSB7XHJcbiAgICAgICAgb3B0aW9uLnNldERhdGEoJ2Rpc2FibGVkJywgZGlzYWJsZWQpO1xyXG5cclxuICAgICAgICBpZiAoZGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgb3B0aW9uLmRpc2FibGVJbnRlcmFjdGl2ZSgpO1xyXG4gICAgICAgICAgICBvcHRpb24uc2V0QWxwaGEoMC4zKTtcclxuICAgICAgICAgICAgb3B0aW9uLnNldERhdGEoJ3NlbGVjdGVkJywgZmFsc2UpO1xyXG4gICAgICAgICAgICBvcHRpb24uZ2V0RGF0YSgnaGlnaGxpZ2h0Jykuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgb3B0aW9uLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgb3B0aW9uLnNldEFscGhhKDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBUdXJyZXQgfSBmcm9tICcuL1R1cnJldCc7XHJcblxyXG5leHBvcnQgY2xhc3MgQnVsbGV0IHtcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCB4LCB5LCB0dXJyZXQsIGFuZ2xlLCBjb2xvcikge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgICAgIHRoaXMubXlUdXJyZXQgPSB0dXJyZXQ7XHJcbiAgICAgICAgdGhpcy5kaXIgPSBhbmdsZTtcclxuICAgICAgICB0aGlzLmJhc2VTcGVlZCA9IDIwMDtcclxuICAgICAgICB0aGlzLnNwZWVkTXVsdCA9IDE7XHJcbiAgICAgICAgdGhpcy5jYW5Db2xsaWRlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmJvdW5jZXMgPSAzO1xyXG4gICAgICAgIHRoaXMuY2FuRGFtYWdlID0gZmFsc2U7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IHRoaXMuY2FuRGFtYWdlID0gdHJ1ZTsgfSwgMjAwKTsgLy9Fc3RvIGVzIG5lY2VzYXJpbyBvIGxvcyB0YW5xdWVzIHNlIGRhw7FhcsOhbiBhbCBpbnN0YW50ZSBhbCBkaXNwYXJhciAvLyBOTyBUT0NBUlxyXG5cclxuICAgICAgICBpZiAodGhpcy5jb2xvciA9PT0gXCJSZWRcIikge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdCYWxhUmVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMuY29sb3I9PT1cIkdyZWVuXCIpe1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdCYWxhR3JlZW4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5jb2xvcj09PVwiQmx1ZVwiKXtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSh4LCB5LCAnQmFsYUJsdWUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5jb2xvcj09PVwiWWVsbG93XCIpe1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdCYWxhWWVsbG93Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3ByaXRlLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0Q29sbGlkZVdvcmxkQm91bmRzKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFNpemUoMjAsMTUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldEJvdW5jZSgwLjgpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnJvdGF0aW9uPXRoaXMuZGlyO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldERlcHRoKDUpO1xyXG4gICAgICAgIHRoaXMuc2V0RGlyKCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5ldmVudHMub24oJ3VwZGF0ZScsIHRoaXMudXBkYXRlLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZUNvbGxpc2lvbnMoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXREaXIoKSB7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHkoXHJcbiAgICAgICAgICAgIE1hdGguY29zKHRoaXMuZGlyKSAqIHRoaXMuYmFzZVNwZWVkICogdGhpcy5zcGVlZE11bHQsXHJcbiAgICAgICAgICAgIE1hdGguc2luKHRoaXMuZGlyKSAqIHRoaXMuYmFzZVNwZWVkICogdGhpcy5zcGVlZE11bHRcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgIC8vIFNvbG8gc2kgbGEgYmFsYSB0aWVuZSBjdWVycG8gZsOtc2ljb1xyXG4gICAgICAgIGlmICh0aGlzLnNwcml0ZS5ib2R5KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZ4ID0gdGhpcy5zcHJpdGUuYm9keS52ZWxvY2l0eS54O1xyXG4gICAgICAgICAgICBjb25zdCB2eSA9IHRoaXMuc3ByaXRlLmJvZHkudmVsb2NpdHkueTtcclxuXHJcbiAgICAgICAgICAgIC8vIGF0YW4yIGRldnVlbHZlIGVsIMOhbmd1bG8gZW4gcmFkaWFuZXMgc2Vnw7puIGxhIGRpcmVjY2nDs24gZGVsIHZlY3RvclxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5yb3RhdGlvbiA9IE1hdGguYXRhbjIodnksIHZ4KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLmJvdW5jZXMtPTE7XHJcbiAgICAgICAgaWYgKHRoaXMuYm91bmNlczwxKXtcclxuICAgICAgICB0aGlzLmRlc3Ryb3lCdWxsZXQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGVzdHJveUJ1bGxldCgpIHsgICAgICAgIFxyXG4gICAgICAgIHRoaXMuc2NlbmUuZXZlbnRzLm9mZigndXBkYXRlJywgdGhpcy51cGRhdGUsIHRoaXMpOyAgICAgICAgXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuZGVzdHJveSgpOyAgICBcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVDb2xsaXNpb25zKCkge1xyXG4gICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNjZW5lLmxlZnQsIHRoaXMuc3ByaXRlLCAoKSA9PiB7IHRoaXMuZGVzdHJveSgpOyB9KTtcclxuICAgIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zY2VuZS5yaWdodCwgdGhpcy5zcHJpdGUsICgpID0+IHsgdGhpcy5kZXN0cm95KCk7IH0pO1xyXG4gICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNjZW5lLnRvcCwgdGhpcy5zcHJpdGUsICgpID0+IHsgdGhpcy5kZXN0cm95KCk7IH0pO1xyXG4gICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNjZW5lLmJvdHRvbSwgdGhpcy5zcHJpdGUsICgpID0+IHsgdGhpcy5kZXN0cm95KCk7IH0pO1xyXG4gICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNjZW5lLmJsb2NrMSwgdGhpcy5zcHJpdGUsICgpID0+IHsgdGhpcy5kZXN0cm95KCk7IH0pO1xyXG4gICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNjZW5lLmJsb2NrMiwgdGhpcy5zcHJpdGUsICgpID0+IHsgdGhpcy5kZXN0cm95KCk7IH0pO1xyXG4gICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNjZW5lLmNlbnRybzEsIHRoaXMuc3ByaXRlLCAoKSA9PiB7IHRoaXMuZGVzdHJveSgpOyB9KTtcclxuICAgIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zY2VuZS5jZW50cm8yLCB0aGlzLnNwcml0ZSwgKCkgPT4geyB0aGlzLmRlc3Ryb3koKTsgfSk7XHJcbiAgICB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc2NlbmUuY2VudHJvMywgdGhpcy5zcHJpdGUsICgpID0+IHsgdGhpcy5kZXN0cm95KCk7IH0pOyBcclxuICAgIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zY2VuZS5wYWxvMSwgdGhpcy5zcHJpdGUsICgpID0+IHsgdGhpcy5kZXN0cm95KCk7IH0pOyBcclxuICAgIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zY2VuZS5wYWxvMiwgdGhpcy5zcHJpdGUsICgpID0+IHsgdGhpcy5kZXN0cm95KCk7IH0pOyBcclxuICAgIHRoaXMuc2NlbmUucGxheWVycy5mb3JFYWNoKHRhbmsgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc3ByaXRlLCB0YW5rLnNwcml0ZSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FuRGFtYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFuay5yZWNlaXZlRGFtYWdlKDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveUJ1bGxldCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEJ1bGxldCB9IGZyb20gJy4vQnVsbGV0JztcclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5leHBvcnQgY2xhc3MgVHVycmV0IHtcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCB0YW5rLCB4LCB5LCBjb2xvcikge1xyXG4gICAgICAgIHRoaXMubXlUYW5rID0gdGFuaztcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICB0aGlzLnkgPSB5O1xyXG4gICAgICAgIGlmKHg+NDAwKXtcclxuICAgICAgICAgICAgdGhpcy5hbmdsZSA9IE1hdGguUEk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuYW5nbGUgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3I7XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucm90YXRlU3BlZWQgPSBQaGFzZXIuTWF0aC5EZWdUb1JhZCgxKTtcclxuICAgICAgICB0aGlzLmNhblNob290ID0gZmFsc2U7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHggPiA0MDApIHtcclxuICAgICAgICAgICAgdGhpcy5wZXJmZWN0QW5nbGUgPSBNYXRoLlBJO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLnBlcmZlY3RBbmdsZSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubGVmdEFuZ2xlID0gNzU7XHJcbiAgICAgICAgdGhpcy5yaWdodEFuZ2xlID0gMTA1O1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jb2xvciA9PT0gXCJSZWRcIikge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdUb3JyZXRhUmVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmNvbG9yID09PSBcIkdyZWVuXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSh4LCB5LCAnVG9ycmV0YUdyZWVuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmNvbG9yID09PSBcIkJsdWVcIikge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdUb3JyZXRhQmx1ZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5jb2xvciA9PT0gXCJZZWxsb3dcIikge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdUb3JyZXRhWWVsbG93Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3ByaXRlLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0T3JpZ2luKDAuMTUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5TZXRQb3NpdGlvbiA9ICh4LCB5KSA9PiB7IHRoaXMuc3ByaXRlLnggPSB4OyB0aGlzLnNwcml0ZS55ID0geTsgfTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXREZXB0aCgxMCk7XHJcbiAgICAgICAgdGhpcy5wb3dlclVwQnVsbGV0ID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUucm90YXRpb24gPSB0aGlzLmFuZ2xlO1xyXG4gICAgICAgIHRoaXMuZmlyZUV2ZW50ID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICByb3RhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5haW0oKTtcclxuICAgICAgICB0aGlzLmFuZ2xlID0gdGhpcy5wZXJmZWN0QW5nbGU7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUucm90YXRpb24gPSB0aGlzLmFuZ2xlO1xyXG4gICAgfVxyXG5cclxuICAgIGZpcmUoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm15VGFuay5jYW5TaG9vdCkgcmV0dXJuOyAvLyBQb3dlci11cCBubyBwdWVkZSBkaXNwYXJhclxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0aGlzLnBvd2VyVXBCdWxsZXQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY2FuU2hvb3QpIHtcclxuICAgICAgICAgICAgICAgIG5ldyBCdWxsZXQoXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZSxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm15VGFuay5HZXRYKCksXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5teVRhbmsuR2V0WSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcHJpdGUucm90YXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xvclxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaG9vdChhKSB7XHJcbiAgICAgICAgdGhpcy5jYW5TaG9vdCA9IGE7XHJcbiAgICAgICAgdGhpcy5zdGFydEF1dG9GaXJlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VGFyZ2V0KHRhcikge1xyXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyO1xyXG4gICAgfVxyXG5cclxuICAgIGFpbSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMudGFyZ2V0KSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IGR4ID0gdGhpcy50YXJnZXQuR2V0WCgpIC0gdGhpcy5zcHJpdGUueDtcclxuICAgICAgICBjb25zdCBkeSA9IHRoaXMudGFyZ2V0LkdldFkoKSAtIHRoaXMuc3ByaXRlLnk7XHJcblxyXG4gICAgICAgIHRoaXMucGVyZmVjdEFuZ2xlID0gTWF0aC5hdGFuMihkeSwgZHgpO1xyXG4gICAgICAgIHRoaXMubGVmdEFuZ2xlID0gdGhpcy5wZXJmZWN0QW5nbGUgKyBQaGFzZXIuTWF0aC5EZWdUb1JhZCgzMCk7XHJcbiAgICAgICAgdGhpcy5yaWdodEFuZ2xlID0gdGhpcy5wZXJmZWN0QW5nbGUgLSBQaGFzZXIuTWF0aC5EZWdUb1JhZCgzMCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g8J+UuSBpbmljaWFyIGRpc3Bhcm8gYXV0b23DoXRpY28gKHNvbG8gdW5hIHZleilcclxuICAgIHN0YXJ0QXV0b0ZpcmUoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmZpcmVFdmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLmZpcmVFdmVudCA9IHRoaXMuc2NlbmUudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgICAgICBkZWxheTogMTAwMCwgICAgICAgICAgLy8gY2FkYSBzZWd1bmRvXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4gdGhpcy5maXJlKCksXHJcbiAgICAgICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95KCkgeyAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMuZmlyZUV2ZW50KSB7ICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMuZmlyZUV2ZW50LnJlbW92ZShmYWxzZSk7ICAgICAgICBcclxuICAgICAgICB9ICAgICAgICBcclxuICAgIHRoaXMuc3ByaXRlLmRlc3Ryb3koKTsgICAgICAgICBcclxuICAgIHRoaXMudGFyZ2V0ID0gbnVsbDsgICAgICAgIFxyXG4gICAgdGhpcy5teVRhbmsgPSBudWxsOyAgICBcclxuICAgIH1cclxuXHJcbiAgICBzZXRhbHBoYShhbCl7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0QWxwaGEoYWwpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgVHVycmV0IH0gZnJvbSAnLi9UdXJyZXQnO1xyXG5leHBvcnQgY2xhc3MgVGFuayB7XHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgaWQsIHgsIHksY29sb3IpIHtcclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuZGlyWCA9IDA7XHJcbiAgICAgICAgdGhpcy5kaXJZID0gMDtcclxuICAgICAgICB0aGlzLmJhc2VTcGVlZCA9IDEyMDtcclxuICAgICAgICB0aGlzLnNwZWVkTXVsdGlwbGllciA9IDE7XHJcbiAgICAgICAgdGhpcy54PXg7XHJcbiAgICAgICAgdGhpcy55PXk7XHJcbiAgICAgICAgdGhpcy5jb2xvcj1jb2xvcjtcclxuICAgICAgICB0aGlzLnRhcmdldD1udWxsOy8vZG9uZGUgYXB1bnRhXHJcbiAgICAgICAgdGhpcy52aWRhcyA9IDU7XHJcbiAgICAgICAgdGhpcy5pbnZ1bG5lcmFibGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNhblNob290ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm5vU2hvb3RVbnRpbCA9IDA7XHJcbiAgICAgICAgaWYodGhpcy5jb2xvcj09PVwiUmVkXCIpe1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdCYXNlUmVkJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFNpemUoNDAsMzUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0aGlzLmNvbG9yPT09XCJHcmVlblwiKXtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSh4LCB5LCAnQmFzZUdyZWVuJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFNpemUoNDIsMzUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0aGlzLmNvbG9yPT09XCJCbHVlXCIpe1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdCYXNlQmx1ZScpO1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRTaXplKDQ1LDM1KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5jb2xvcj09PVwiWWVsbG93XCIpe1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdCYXNlWWVsbG93Jyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFNpemUoNDUsMzUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRDb2xsaWRlV29ybGRCb3VuZHModHJ1ZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXREZXB0aCg4KTtcclxuICAgICAgICB0aGlzLnR1cnJldCA9IG5ldyBUdXJyZXQoc2NlbmUsdGhpcyx4ICx5LHRoaXMuY29sb3IgKTtcclxuXHJcbiAgICAgICAgdGhpcy5HZXRYID0gKCk9PntyZXR1cm4gdGhpcy5zcHJpdGUueDt9O1xyXG4gICAgICAgIHRoaXMuR2V0WSA9ICgpPT57cmV0dXJuIHRoaXMuc3ByaXRlLnk7fTtcclxuICAgIH1cclxuXHJcbiAgICBTZXRUYXJnZXQodGFyKXtcclxuICAgICAgICB0aGlzLnRhcmdldD10YXI7XHJcbiAgICAgICAgdGhpcy50dXJyZXQuc2V0VGFyZ2V0KHRoaXMudGFyZ2V0KTtcclxuICAgIH1cclxuICAgIFxyXG5yZWNlaXZlRGFtYWdlKGFtb3VudCkgeyAgICAgICBcclxuICAgIGlmICh0aGlzLmludnVsbmVyYWJsZSkgcmV0dXJuOyAgICAgICBcclxuICAgICAgICB0aGlzLnZpZGFzIC09IGFtb3VudDsgICAgICBcclxuICAgICAgICB0aGlzLnNjZW5lLmFjdHVhbGl6YXJWaWRhcyh0aGlzLmlkLCB0aGlzLnZpZGFzKTsgICBcclxuICAgICAgICBpZiAodGhpcy52aWRhcyA8PSAwKSB7ICAgICAgICAgIFxyXG4gICAgICAgIHRoaXMuZGVzdHJveSgpOyAgICAgICAgXHJcbiAgICB9IFxyXG5lbHNlIHsgICAgICAgICAgICBcclxuICAgIHRoaXMubWFrZUludnVsbmVyYWJsZSgpOyAgICAgICAgXHJcbn0gICAgXHJcbn1cclxuICAgIFxyXG5tYWtlSW52dWxuZXJhYmxlKCkge1xyXG4gICAgdGhpcy5pbnZ1bG5lcmFibGUgPSB0cnVlO1xyXG4gICAgbGV0IGJsaW5rQ291bnQgPSAwO1xyXG4gICAgdGhpcy5zY2VuZS50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICBkZWxheTogMjAwLFxyXG4gICAgICAgIHJlcGVhdDogNSxcclxuICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRBbHBoYSh0aGlzLnNwcml0ZS5hbHBoYSA9PT0gMSA/IDAuMyA6IDEpO1xyXG4gICAgICAgICAgICB0aGlzLnR1cnJldC5zZXRhbHBoYSh0aGlzLnR1cnJldC5zcHJpdGUuYWxwaGEgPT09IDEgPyAwLjMgOiAxKTtcclxuICAgICAgICAgICAgYmxpbmtDb3VudCsrO1xyXG4gICAgICAgICAgICBpZiAoYmxpbmtDb3VudCA+PSA1KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRBbHBoYSgxKTsgXHJcbiAgICAgICAgICAgICAgICB0aGlzLnR1cnJldC5zZXRhbHBoYSgxKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW52dWxuZXJhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuYXBwbHlOb1Nob290KG1zKSB7XHJcbiAgICBjb25zdCBub3cgPSB0aGlzLnNjZW5lLnRpbWUubm93O1xyXG4gICAgdGhpcy5ub1Nob290VW50aWwgPSBNYXRoLm1heCh0aGlzLm5vU2hvb3RVbnRpbCwgbm93ICsgbXMpO1xyXG4gICAgdGhpcy5jYW5TaG9vdCA9IGZhbHNlO1xyXG5cclxuICAgIHRoaXMuc2NlbmUudGltZS5kZWxheWVkQ2FsbChtcywgKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnNjZW5lLnRpbWUubm93ID49IHRoaXMubm9TaG9vdFVudGlsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FuU2hvb3QgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5kZXN0cm95KCkge1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLnR1cnJldC5kZXN0cm95KCk7XHJcbn1cclxufSIsIlxyXG5cclxuZXhwb3J0IGNsYXNzIFBvd2VyVXAge1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIHgsIHksIHR5cGUsIGdlbmVyYXRvcikge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmdlbmVyYXRvciA9IGdlbmVyYXRvcjtcclxuICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTsgXHJcbiAgICAgICAgaWYgKHR5cGU9PT0nSGVhbCcpXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlID0gdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoeCwgeSwgJ1ZpZGEnKS5zZXRTY2FsZSgwLjA1KTtcclxuICAgICAgICBpZiAodHlwZT09PSdTcGVlZCcpXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlID0gdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoeCwgeSwgJ1ZlbG9jaWRhZCcpLnNldFNjYWxlKDEuMSk7XHJcbiAgICAgICAgaWYgKHR5cGU9PT0nU2hpZWxkJylcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSh4LCB5LCAnRXNjdWRvJykuc2V0U2NhbGUoMS4xKTtcclxuICAgICAgICBpZiAodHlwZSA9PT0gJ05vU2hvb3QnKVxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdOb0Z1ZWdvQW1pZ28nKS5zZXRTY2FsZSgxLjEpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldERlcHRoKDEpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQ29sbGlzdGlvbnMoKTtcclxuICAgICAgICB0aGlzLnNjZW5lLnBvd2VyVXBzR3JvdXAuYWRkKHRoaXMuc3ByaXRlKTtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGFwbHlQb3dlclVwKHRhbmssIHR5cGUpe1xyXG4gICAgICAgIHRoaXMuc2NlbmUudXNlUG93ZXJVcHMgPSB0cnVlO1xyXG4gICAgICAgIHN3aXRjaCh0eXBlKXtcclxuICAgICAgICAgICAgY2FzZSAnSGVhbCc6XHJcbiAgICAgICAgICAgICAgICBpZiAodGFuay52aWRhczw1KXtcclxuICAgICAgICAgICAgICAgICAgICB0YW5rLnZpZGFzKz0xO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuYWN0dWFsaXphclZpZGFzKHRhbmsuaWQsIHRhbmsudmlkYXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ1NwZWVkJzpcclxuICAgICAgICAgICAgICAgIHRhbmsuc3BlZWRNdWx0aXBsaWVyPTEuNTsgICAgXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnRpbWUuZGVsYXllZENhbGwoNTAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhbmsuc3BlZWRNdWx0aXBsaWVyPTE7XHJcbiAgICAgICAgICAgICAgICB9LCBbXSwgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICBicmVhazsgIFxyXG4gICAgICAgICAgICBjYXNlICdTaGllbGQnOlxyXG4gICAgICAgICAgICAgICAgdGFuay5pbnZ1bG5lcmFibGUgPSB0cnVlOyAgICBcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUudGltZS5kZWxheWVkQ2FsbCg1MDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFuay5pbnZ1bG5lcmFibGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0sIFtdLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrOyAgXHJcbiAgICAgICAgICAgIGNhc2UgJ05vU2hvb3QnOlxyXG4gICAgICAgICAgICAgICAgdGFuay5hcHBseU5vU2hvb3QoNTAwMCk7IC8vIDUgc2VndW5kb3Mgc2luIGRpc3BhcmFyXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUNvbGxpc3Rpb25zKCkge1xyXG4gICAgdGhpcy5zY2VuZS5wbGF5ZXJzLmZvckVhY2godGFua0NvbGxlY3RvciA9PiB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNwcml0ZSwgdGFua0NvbGxlY3Rvci5zcHJpdGUsICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgIC8vIEJ1c2NhciByaXZhbFxyXG4gICAgICAgICAgICBsZXQgZW5lbXlUYW5rID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5wbGF5ZXJzLmZvckVhY2godCA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodCAhPT0gdGFua0NvbGxlY3RvcikgZW5lbXlUYW5rID0gdDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBTb2xvIG5lZ2F0aXZvcyBhbCByaXZhbFxyXG4gICAgICAgICAgICBjb25zdCBuZWdhdGl2ZVR5cGVzID0gbmV3IFNldChbJ05vU2hvb3QnXSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldFRhbmsgPSBuZWdhdGl2ZVR5cGVzLmhhcyh0aGlzLnR5cGUpXHJcbiAgICAgICAgICAgICAgICA/IChlbmVteVRhbmsgPz8gdGFua0NvbGxlY3RvcilcclxuICAgICAgICAgICAgICAgIDogdGFua0NvbGxlY3RvcjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYXBseVBvd2VyVXAodGFyZ2V0VGFuaywgdGhpcy50eXBlKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgdGhpcy5nZW5lcmF0b3IubWF4UG93ZXJVcHMgLT0gMTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG59IFxyXG4gICAiLCJcclxuaW1wb3J0IHsgUG93ZXJVcCB9IGZyb20gJy4vUG93ZXJVcC5qcyc7XHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3dlclVwR2VuZXJhdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLGludGVydmFsLCBvbmxpbmUpIHtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5pbnRlcnZhbD1pbnRlcnZhbDtcclxuICAgICAgICB0aGlzLm9ubGluZSA9IG9ubGluZTsgXHJcbiAgICAgICAgdGhpcy50eXBlcyA9IFsnSGVhbCcsICdTcGVlZCcsICdTaGllbGQnLCAnTm9TaG9vdCddO1xyXG4gICAgICAgIHRoaXMucG9zaXRpb25zWCA9IFsxMDAsNzAwLDcwMCwxMDAsNDAwXTtcclxuICAgICAgICB0aGlzLnBvc2l0aW9uc1kgPSBbMTUwLDUwMCwxNTAsNTAwLDMwMF07XHJcbiAgICAgICAgdGhpcy5tYXhQb3dlclVwcyA9IDA7XHJcbiAgICAgICAgaWYgKCF0aGlzLm9ubGluZSlcclxuICAgICAgICAgICAgdGhpcy5zdGFydEdlbmVyYXRpbmcoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydEdlbmVyYXRpbmcoKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICAgICAgZGVsYXk6IHRoaXMuaW50ZXJ2YWwsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB0aGlzLmdlbmVyYXRlUG93ZXJVcCgpLFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlzU3Bhd25WYWxpZCh4LCB5KSB7XHJcbiAgICAgICAgLy8gWm9uYSBpbnZpc2libGUgZGVsIHRhbWHDsW8gYXByb3hpbWFkbyBkZWwgcG93ZXItdXBcclxuICAgICAgICBjb25zdCB6b25lID0gdGhpcy5zY2VuZS5hZGQuem9uZSh4LCB5LCA0MCwgNDApO1xyXG4gICAgICAgIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuZXhpc3Rpbmcoem9uZSk7XHJcbiAgICAgICAgem9uZS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBTaSB0b2NhIGN1YWxxdWllciBtdXJvL29ic3TDoWN1bG8gPT4gbm8gdmFsZVxyXG4gICAgICAgIGNvbnN0IGhpdFdhbGwgPSB0aGlzLnNjZW5lLnBoeXNpY3Mub3ZlcmxhcCh6b25lLCB0aGlzLnNjZW5lLm9ic3RhY2xlcyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGhpdFBvd2VyVXAgPSB0aGlzLnNjZW5lLnBvd2VyVXBzR3JvdXBcclxuICAgICAgICAgICAgPyB0aGlzLnNjZW5lLnBoeXNpY3Mub3ZlcmxhcCh6b25lLCB0aGlzLnNjZW5lLnBvd2VyVXBzR3JvdXApXHJcbiAgICAgICAgICAgIDogZmFsc2U7XHJcblxyXG4gICAgICAgIHpvbmUuZGVzdHJveSgpO1xyXG4gICAgICAgIHJldHVybiAhaGl0V2FsbCAmJiAhaGl0UG93ZXJVcDtcclxuICAgIH1cclxuXHJcbiAgICBnZW5lcmF0ZVBvd2VyVXAoKSB7XHJcbiAgICBpZiAodGhpcy5tYXhQb3dlclVwcyA+PSAzKSByZXR1cm47XHJcblxyXG4gICAgLy8gUHJvYmFyIHB1bnRvcyBlbiBvcmRlbiBhbGVhdG9yaW8gc2luIHJlcGV0aXJcclxuICAgIGNvbnN0IGluZGljZXMgPSBQaGFzZXIuVXRpbHMuQXJyYXkuU2h1ZmZsZShcclxuICAgICAgICBbLi4uQXJyYXkodGhpcy5wb3NpdGlvbnNYLmxlbmd0aCkua2V5cygpXVxyXG4gICAgKTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IGkgb2YgaW5kaWNlcykge1xyXG4gICAgICAgIGNvbnN0IHggPSB0aGlzLnBvc2l0aW9uc1hbaV07XHJcbiAgICAgICAgY29uc3QgeSA9IHRoaXMucG9zaXRpb25zWVtpXTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNTcGF3blZhbGlkKHgsIHkpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBQaGFzZXIuVXRpbHMuQXJyYXkuR2V0UmFuZG9tKHRoaXMudHlwZXMpO1xyXG4gICAgICAgICAgICBuZXcgUG93ZXJVcCh0aGlzLnNjZW5lLCB4LCB5LCB0eXBlLCB0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy5tYXhQb3dlclVwcyArPSAxO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgQ29tbWFuZFByb2Nlc3NvciB7XG4gICAgXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUgPSBudWxsO1xuICAgIH1cbiAgICBcbiAgICBzZXRQbGF5ZXJzKHBsYXllcnMpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gcGxheWVycztcbiAgICB9XG5cbiAgICBzZXRHYW1lU2NlbmUoZ2FtZVNjZW5lKSB7XG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lID0gZ2FtZVNjZW5lO1xuICAgIH1cblxuICAgIHByb2Nlc3MoY29tbWFuZCkge1xuICAgICAgICBjb21tYW5kLmV4ZWN1dGUoKTtcbiAgICAgICAgLy8gU2VudCBvdmVyIHRoZSB3ZWJzb2NrZXRcbiAgICB9XG59IiwiZXhwb3J0IGNsYXNzIENvbW1hbmQge1xuXG4gICAgZXhlY3V0ZSgpIHt9XG5cbiAgICBzZXJpYWxpemUoKSB7fVxuXG4gICAgZ2V0UGxheWVyKCkge31cbn0iLCJpbXBvcnQgeyBDb21tYW5kIH0gZnJvbSBcIi4vQ29tbWFuZFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1vdmVUYW5rQ29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHRhbmssIGRpcmVjdGlvbikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy50YW5rID0gdGFuaztcclxuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjsgXHJcbiAgICBcclxuICAgIH1cclxuICAgIFxyXG4gICAgZXhlY3V0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5kaXJlY3Rpb24gPT09ICd1cCcpIHtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnNwcml0ZS5zZXRWZWxvY2l0eVkoLXRoaXMudGFuay5iYXNlU3BlZWQqdGhpcy50YW5rLnNwZWVkTXVsdGlwbGllcik7XHJcbiAgICAgICAgICAgIHRoaXMudGFuay50dXJyZXQucm90YXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMudGFuay50dXJyZXQuc2hvb3QoZmFsc2UpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5kaXJlY3Rpb24gPT09ICdkb3duJykge1xyXG4gICAgICAgICAgICB0aGlzLnRhbmsuc3ByaXRlLnNldFZlbG9jaXR5WSgrdGhpcy50YW5rLmJhc2VTcGVlZCp0aGlzLnRhbmsuc3BlZWRNdWx0aXBsaWVyKTtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnR1cnJldC5yb3RhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnR1cnJldC5zaG9vdChmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9ZWxzZSBpZiAodGhpcy5kaXJlY3Rpb24gPT09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnNwcml0ZS5zZXRWZWxvY2l0eVgodGhpcy50YW5rLmJhc2VTcGVlZCp0aGlzLnRhbmsuc3BlZWRNdWx0aXBsaWVyKTtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnR1cnJldC5yb3RhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnR1cnJldC5zaG9vdChmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9ZWxzZSBpZiAodGhpcy5kaXJlY3Rpb24gPT09ICdsZWZ0Jykge1xyXG4gICAgICAgICAgICB0aGlzLnRhbmsuc3ByaXRlLnNldFZlbG9jaXR5WCgtdGhpcy50YW5rLmJhc2VTcGVlZCp0aGlzLnRhbmsuc3BlZWRNdWx0aXBsaWVyKTtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnR1cnJldC5yb3RhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnR1cnJldC5zaG9vdChmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnRhbmsuc3ByaXRlLnNldFZlbG9jaXR5WSgwKTtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgICAgICAgICAgIHRoaXMudGFuay50dXJyZXQuc3ByaXRlLnNldFZlbG9jaXR5WSgwKTtcclxuICAgICAgICAgICAgdGhpcy50YW5rLnR1cnJldC5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgICAgICB0aGlzLnRhbmsudHVycmV0LnNob290KHRydWUpOyAvL2hheSBxaWUgbGltaXRhcmxvXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudGFuay50dXJyZXQuU2V0UG9zaXRpb24odGhpcy50YW5rLkdldFgoKSx0aGlzLnRhbmsuR2V0WSgpKTtcclxuICAgICAgICB0aGlzLnRhbmsudHVycmV0LmFpbSgpO1xyXG4gICAgICAgIGlmICh0aGlzLnRhbmsuc3ByaXRlLmJvZHkpIHtcclxuICAgICAgICAgICAgY29uc3QgdnggPSB0aGlzLnRhbmsuc3ByaXRlLmJvZHkudmVsb2NpdHkueDtcclxuICAgICAgICAgICAgY29uc3QgdnkgPSB0aGlzLnRhbmsuc3ByaXRlLmJvZHkudmVsb2NpdHkueTtcclxuXHJcbiAgICAgICAgICAgIC8vIGF0YW4yIGRldnVlbHZlIGVsIMOhbmd1bG8gZW4gcmFkaWFuZXMgc2Vnw7puIGxhIGRpcmVjY2nDs24gZGVsIHZlY3RvclxyXG4gICAgICAgICAgICB0aGlzLnRhbmsuc3ByaXRlLnJvdGF0aW9uID0gTWF0aC5hdGFuMih2eSwgdngpKyhNYXRoLlBJLzIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG59IiwiaW1wb3J0IHsgQ29tbWFuZCB9IGZyb20gXCIuL0NvbW1hbmRcIjtcblxuZXhwb3J0IGNsYXNzIFBhdXNlR2FtZUNvbW1hbmQgZXh0ZW5kcyBDb21tYW5kIHtcblxuICAgIGNvbnN0cnVjdG9yKGdhbWVTY2VuZSwgaXNQYXVzZWQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUgPSBnYW1lU2NlbmU7XG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBpc1BhdXNlZFxuICAgIH1cblxuICAgIGV4ZWN1dGUoKSB7XG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lLnNldFBhdXNlU3RhdGUodGhpcy5pc1BhdXNlZCk7XG4gICAgfVxufSIsIi8qKlxuICogU2VydmljaW8gcGFyYSBnZXN0aW9uYXIgbGEgY29uZXhpw7NuIGNvbiBlbCBzZXJ2aWRvclxuICogTWFuZWphIGVsIHBvbGxpbmcgYWwgZW5kcG9pbnQgL2FwaS9jb25uZWN0ZWQgeSBkZXRlY3RhIHDDqXJkaWRhcyBkZSBjb25leGnDs25cbiAqL1xuZXhwb3J0IGNsYXNzIENvbm5lY3Rpb25NYW5hZ2VyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IDA7XG4gICAgdGhpcy5pc0Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgIHRoaXMubGFzdENoZWNrVGltZSA9IDA7XG4gICAgdGhpcy5jaGVja0ludGVydmFsID0gMjAwMDsgLy8gQ29tcHJvYmFyIGNhZGEgMiBzZWd1bmRvc1xuICAgIHRoaXMubGlzdGVuZXJzID0gW107XG4gICAgdGhpcy5zZXNzaW9uSWQgPSB0aGlzLmdlbmVyYXRlU2Vzc2lvbklkKCk7XG4gICAgdGhpcy5pbnRlcnZhbElkID0gbnVsbDtcblxuICAgIC8vIEluaWNpYXIgZWwgcG9sbGluZyBhdXRvbcOhdGljb1xuICAgIHRoaXMuc3RhcnRQb2xsaW5nKCk7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhciB1biBJRCDDum5pY28gZGUgc2VzacOzbiBwYXJhIGVzdGUgY2xpZW50ZVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgZ2VuZXJhdGVTZXNzaW9uSWQoKSB7XG4gICAgcmV0dXJuIGBzZXNzaW9uXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wcm9iYXIgY29uZXhpw7NuIGNvbiBlbCBzZXJ2aWRvclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx7Y29ubmVjdGVkOiBudW1iZXIsIHN1Y2Nlc3M6IGJvb2xlYW59Pn1cbiAgICovXG4gIGFzeW5jIGNoZWNrQ29ubmVjdGlvbigpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9jb25uZWN0ZWQnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZFxuICAgICAgICB9KVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB0aGlzLmNvbm5lY3RlZENvdW50ID0gZGF0YS5jb25uZWN0ZWQ7XG4gICAgICAgIHRoaXMuaXNDb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmxhc3RDaGVja1RpbWUgPSBEYXRlLm5vdygpO1xuXG4gICAgICAgIC8vIE5vdGlmaWNhciBhIGxvcyBsaXN0ZW5lcnNcbiAgICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoeyBjb25uZWN0ZWQ6IHRydWUsIGNvdW50OiB0aGlzLmNvbm5lY3RlZENvdW50IH0pO1xuXG4gICAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogdGhpcy5jb25uZWN0ZWRDb3VudCwgc3VjY2VzczogdHJ1ZSB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XG4gICAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogMCwgc3VjY2VzczogZmFsc2UgfTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2hlY2tpbmcgY29ubmVjdGlvbjonLCBlcnJvcik7XG4gICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcbiAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogMCwgc3VjY2VzczogZmFsc2UgfTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTWFuZWphciBkZXNjb25leGnDs25cbiAgICovXG4gIGhhbmRsZURpc2Nvbm5lY3Rpb24oKSB7XG4gICAgdGhpcy5pc0Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgIHRoaXMuY29ubmVjdGVkQ291bnQgPSAwO1xuICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKHsgY29ubmVjdGVkOiBmYWxzZSwgY291bnQ6IDAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0cmFyIHVuIGxpc3RlbmVyIHBhcmEgY2FtYmlvcyBkZSBjb25leGnDs25cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBGdW5jacOzbiBxdWUgc2UgbGxhbWFyw6EgY3VhbmRvIGNhbWJpZSBlbCBlc3RhZG9cbiAgICovXG4gIGFkZExpc3RlbmVyKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5saXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XG4gIH1cblxuICAvKipcbiAgICogRWxpbWluYXIgdW4gbGlzdGVuZXJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBGdW5jacOzbiBhIGVsaW1pbmFyXG4gICAqL1xuICByZW1vdmVMaXN0ZW5lcihjYWxsYmFjaykge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjayk7XG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE5vdGlmaWNhciBhIHRvZG9zIGxvcyBsaXN0ZW5lcnNcbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBEYXRvcyBkZWwgZXN0YWRvIGRlIGNvbmV4acOzblxuICAgKi9cbiAgbm90aWZ5TGlzdGVuZXJzKGRhdGEpIHtcbiAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyKGRhdGEpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPYnRlbmVyIGVsIGVzdGFkbyBhY3R1YWwgZGUgY29uZXhpw7NuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuICBnZXRTdGF0dXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzQ29ubmVjdGVkOiB0aGlzLmlzQ29ubmVjdGVkLFxuICAgICAgY29ubmVjdGVkQ291bnQ6IHRoaXMuY29ubmVjdGVkQ291bnQsXG4gICAgICBsYXN0Q2hlY2tUaW1lOiB0aGlzLmxhc3RDaGVja1RpbWVcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEluaWNpYXIgZWwgcG9sbGluZyBhdXRvbcOhdGljbyBkZSBjb25leGnDs25cbiAgICovXG4gIHN0YXJ0UG9sbGluZygpIHtcbiAgICBpZiAodGhpcy5pbnRlcnZhbElkKSB7XG4gICAgICByZXR1cm47IC8vIFlhIGVzdMOhIGNvcnJpZW5kb1xuICAgIH1cblxuICAgIC8vIENvbXByb2JhciBpbm1lZGlhdGFtZW50ZVxuICAgIHRoaXMuY2hlY2tDb25uZWN0aW9uKCk7XG5cbiAgICAvLyBMdWVnbyBjb21wcm9iYXIgY2FkYSBYIHNlZ3VuZG9zXG4gICAgdGhpcy5pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgdGhpcy5jaGVja0Nvbm5lY3Rpb24oKTtcbiAgICB9LCB0aGlzLmNoZWNrSW50ZXJ2YWwpO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVuZXIgZWwgcG9sbGluZyBhdXRvbcOhdGljb1xuICAgKi9cbiAgc3RvcFBvbGxpbmcoKSB7XG4gICAgaWYgKHRoaXMuaW50ZXJ2YWxJZCkge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpO1xuICAgICAgdGhpcy5pbnRlcnZhbElkID0gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuLy8gQ3JlYXIgaW5zdGFuY2lhIHNpbmdsZXRvblxuZXhwb3J0IGNvbnN0IGNvbm5lY3Rpb25NYW5hZ2VyID0gbmV3IENvbm5lY3Rpb25NYW5hZ2VyKCk7XG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IFRhbmsgfSBmcm9tICcuLi9lbnRpdGllcy9UYW5rJztcclxuaW1wb3J0IHsgUG93ZXJVcEdlbmVyYXRvciB9IGZyb20gJy4uL2VudGl0aWVzL1Bvd2VyVXBHZW5lcmF0b3IuanMnO1xyXG5pbXBvcnQgeyBDb21tYW5kUHJvY2Vzc29yIH0gZnJvbSAnLi4vY29tbWFuZHMvQ29tbWFuZFByb2Nlc3Nvcic7XHJcbmltcG9ydCB7IE1vdmVUYW5rQ29tbWFuZCB9IGZyb20gJy4uL2NvbW1hbmRzL01vdmVUYW5rQ29tbWFuZCc7XHJcbmltcG9ydCB7IFBhdXNlR2FtZUNvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kcy9QdWFzZUdhbWVDb21tYW5kJztcclxuaW1wb3J0IHsgY29ubmVjdGlvbk1hbmFnZXIgfSBmcm9tICcuLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignR2FtZVNjZW5lJyk7XHJcbiAgICB9XHJcbiAgICBwcmVsb2FkKCkgey8vY2FyZ2EgZGUgYXJjaGl2b3NcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0ZvbmRvJywgJ2ltYWdlbmVzL0ZvbmRvLmpwZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnVmlkYScsICdpbWFnZW5lcy9WaWRhQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCdWJibGUnLCAnaW1hZ2VuZXMvQnVyYnVqYUNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRXNjdWRvJywgJ2ltYWdlbmVzL0VzY3Vkb0NXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTm9GdWVnb0FtaWdvJywgJ2ltYWdlbmVzL05vRnVlZ29BbWlnb0NXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTWVkaW9NYXBhJywgJ2ltYWdlbmVzL01lZGlvT2JzdGFjdWxvQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQYWxvJywgJ2ltYWdlbmVzL1BhbG9PYnN0YWN1bG9DVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0Jsb3F1ZVNpbXBsZScsICdpbWFnZW5lcy9UaWxlTXVyby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0JvdHRvbVRvcFdhbGwnLCAnaW1hZ2VuZXMvQm90dG9tVG9wQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdMZWZ0UmlnaHRXYWxsJywgJ2ltYWdlbmVzL0xlZnRSaWdodENXLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0Jhc2VSZWQnLCAnaW1hZ2VuZXMvVGFucXVlUm9qb0NXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnVG9ycmV0YVJlZCcsICdpbWFnZW5lcy9DYW5vblJvam9DVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0JhbGFSZWQnLCAnaW1hZ2VuZXMvQmFsYU5Sb2pvQ3cucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmFzZUdyZWVuJywgJ2ltYWdlbmVzL1RhbnF1ZVZlcmRlQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdUb3JyZXRhR3JlZW4nLCAnaW1hZ2VuZXMvQ2Fub25WZXJkZUNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmFsYUdyZWVuJywgJ2ltYWdlbmVzL0JhbGFOVmVyZGVDVy5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCYXNlQmx1ZScsICdpbWFnZW5lcy9UYW5xdWVBenVsQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdUb3JyZXRhQmx1ZScsICdpbWFnZW5lcy9DYW5vbkF6dWxDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0JhbGFCbHVlJywgJ2ltYWdlbmVzL0JhbGFOQXp1bENXLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0Jhc2VZZWxsb3cnLCAnaW1hZ2VuZXMvVGFucXVlQW1hcmlsbG9DVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1RvcnJldGFZZWxsb3cnLCAnaW1hZ2VuZXMvQ2Fub25BbWFyaWxsb0NXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmFsYVllbGxvdycsICdpbWFnZW5lcy9CYWxhTkFtYXJpbGxvQ1cucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTXVyb0Jsb3F1ZTYnLCAnaW1hZ2VuZXMvTWVkaW9PYnN0YWN1bG9DVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0Jsb3F1ZScsICdpbWFnZW5lcy9UaWxlTXVyby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BhbG8nLCAnaW1hZ2VuZXMvUGFsb09ic3RhY3Vsb0NXLnBuZycpO1xyXG4gICAgICAgXHJcbiAgICB9XHJcbiAgICBpbml0KGRhdGEpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzID0gW107XHJcbiAgICAgICAgdGhpcy5iYWxsID0gbnVsbDtcclxuICAgICAgICB0aGlzLnBvd2VyVXBHZW5lcmF0b3IgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVzY1dhc0Rvd24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnByb2Nlc3NvciA9IG5ldyBDb21tYW5kUHJvY2Vzc29yKCk7XHJcbiAgICAgICAgdGhpcy5pc0dhbWVPdmVyID0gZmFsc2U7XHJcbiAgICAgICAgLy8gQ29sb3JlcyBxdWUgdmllbmVuIGRlIFNlbGVjdENvbG9yXHJcbiAgICAgICAgdGhpcy5jb2xvclBsYXllcjEgPSBkYXRhPy5jb2xvclBsYXllcjE7XHJcbiAgICAgICAgdGhpcy5jb2xvclBsYXllcjIgPSBkYXRhPy5jb2xvclBsYXllcjI7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5wb3dlclVwc0dyb3VwID0gdGhpcy5waHlzaWNzLmFkZC5ncm91cCgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDMwMCwgJ0ZvbmRvJyk7ICAgICAgIFxyXG4gICAgICAgIHRoaXMuY3JlYXRlQm91bmRzKCk7XHJcbiAgICAgICAgLy90aGlzLmNyZWF0ZUJhbGwoKTtcclxuICAgICAgICAvL3RoaXMubGF1bmNoQmFsbCgpO1xyXG5cclxuICAgICAgICAvLyBPYnN0w6FjdWxvc1xyXG4gICAgICAgIHRoaXMub2JzdGFjbGVzID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNHcm91cChcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgdGhpcy50b3AsIHRoaXMuYm90dG9tLCB0aGlzLmxlZnQsIHRoaXMucmlnaHQsXHJcbiAgICAgICAgdGhpcy5ibG9jazEsIHRoaXMuYmxvY2syLFxyXG4gICAgICAgIHRoaXMuY2VudHJvMSwgdGhpcy5jZW50cm8yLCB0aGlzLmNlbnRybzMsXHJcbiAgICAgICAgdGhpcy5wYWxvMSwgdGhpcy5wYWxvMlxyXG4gICAgICAgICk7XHJcbiAgICBcclxuXHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5iYWxsLCB0aGlzLmxlZnRHb2FsLCB0aGlzLnNjb3JlUmlnaHRHb2FsLCBudWxsLCB0aGlzKTtcclxuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLmJhbGwsIHRoaXMucmlnaHRHb2FsLCB0aGlzLnNjb3JlTGVmdEdvYWwsIG51bGwsIHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLnNldFVwUGxheWVycygpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQ29sbGlzaW9ucygpO1xyXG4gICAgICAgIFxyXG5cclxuICAgICAgICB0aGlzLnZpZGFzSnVnYWRvcmVzKCk7XHJcbiAgICAgICAgdGhpcy5wb3dlclVwR2VuZXJhdG9yID0gbmV3IFBvd2VyVXBHZW5lcmF0b3IodGhpcywgMTAwMDAsIGZhbHNlKTsgLy8gR2VuZXJhIHVuIHBvd2VyLXVwIGNhZGEgMTAgc2VndW5kb3NcclxuICAgICAgICB0aGlzLmVzY0tleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5FU0MpO1xyXG5cclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGlmKCFkYXRhLmNvbm5lY3RlZCAmJiB0aGlzLnNjZW5lLmlzQWN0aXZlKCkpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbm5lY3Rpb25Mb3N0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIuYWRkTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdzaHV0ZG93bicsIHRoaXMub25TaHV0ZG93biwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ2Rlc3Ryb3knLCB0aGlzLm9uU2h1dGRvd24sIHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLnJlbW92ZUtleXMgPSB0aGlzLmlucHV0LmtleWJvYXJkLnJlbW92ZUNhcHR1cmUoWydFU0MnLCAnVycsICdBJywgJ1MnLCAnRCcsICdVUCcsICdET1dOJywgJ0xFRlQnLCAnUklHSFQnXSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIG9uQ29ubmVjdGlvbkxvc3QoKXsvL2FwaVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdDb25uZWN0aW9uTG9zdFNjZW5lJywgeyBwcmV2aW91c1NjZW5lOiAnR2FtZVNjZW5lJyB9KTtcclxuICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5icmluZ1RvVG9wKCdDb25uZWN0aW9uTG9zdFNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgdmlkYXNKdWdhZG9yZXMoKSB7XHJcbiAgICAgICAgdGhpcy52aWRhUGxheWVyMSA9IFtdO1xyXG4gICAgICAgIHRoaXMudmlkYVBsYXllcjIgPSBbXTtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSgxMCwgMjAsIGBCYXNlJHt0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuY29sb3J9YCkuc2V0T3JpZ2luKDAsIDApO1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDc0MCwgMjAsIGBCYXNlJHt0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuY29sb3J9YCkuc2V0T3JpZ2luKDAsIDApO1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDM1LCA0MCwgYFRvcnJldGEke3RoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5jb2xvcn1gKS5zZXRPcmlnaW4oMC4xNSwgMC41KTtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3NjUsIDQwLCBgVG9ycmV0YSR7dGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLmNvbG9yfWApLnNldE9yaWdpbigwLjE1LCAwLjUpLnNldFJvdGF0aW9uKE1hdGguUEkpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZpZGExID0gdGhpcy5hZGQuaW1hZ2UoOTAgKyBpICogMzAsIDM1LCAnVmlkYScpLnNldFNjYWxlKDAuMDUpO1xyXG4gICAgICAgICAgICB0aGlzLnZpZGFQbGF5ZXIxLnB1c2godmlkYTEpO1xyXG4gICAgICAgICAgICBjb25zdCB2aWRhMiA9IHRoaXMuYWRkLmltYWdlKDcxMCAtIGkgKiAzMCwgMzUsICdWaWRhJykuc2V0U2NhbGUoMC4wNSk7XHJcbiAgICAgICAgICAgIHRoaXMudmlkYVBsYXllcjIucHVzaCh2aWRhMik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gXHJcbiAgICBhY3R1YWxpemFyVmlkYXMocGxheWVySWQsIHZpZGFzUmVzdGFudGVzKSB7XHJcbiAgICAgICAgY29uc3QgdmlkYUFycmF5ID0gcGxheWVySWQgPT09ICdwbGF5ZXIxJyA/IHRoaXMudmlkYVBsYXllcjEgOiB0aGlzLnZpZGFQbGF5ZXIyO1xyXG4gICAgICAgIGlmICh2aWRhQXJyYXkubGVuZ3RoID4gdmlkYXNSZXN0YW50ZXMpIHtcclxuICAgICAgICAgICAgY29uc3QgdmlkYVNwcml0ZSA9IHZpZGFBcnJheS5wb3AoKTtcclxuICAgICAgICAgICAgdmlkYVNwcml0ZS5kZXN0cm95KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh2aWRhQXJyYXkubGVuZ3RoIDwgdmlkYXNSZXN0YW50ZXMpIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllcklkID09PSAncGxheWVyMScpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG51ZXZhVmlkYSA9IHRoaXMuYWRkLmltYWdlKDkwICsgdmlkYUFycmF5Lmxlbmd0aCAqIDMwLCAzNSwgJ1ZpZGEnKS5zZXRTY2FsZSgwLjA1KTtcclxuICAgICAgICAgICAgICAgIHZpZGFBcnJheS5wdXNoKG51ZXZhVmlkYSk7XHJcbiAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXJJZCA9PT0gJ3BsYXllcjInKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBudWV2YVZpZGEgPSB0aGlzLmFkZC5pbWFnZSg3MTAgLSB2aWRhQXJyYXkubGVuZ3RoICogMzAsIDM1LCAnVmlkYScpLnNldFNjYWxlKDAuMDUpO1xyXG4gICAgICAgICAgICAgICAgdmlkYUFycmF5LnB1c2gobnVldmFWaWRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodmlkYXNSZXN0YW50ZXMgPD0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmlzR2FtZU92ZXIgPSB0cnVlOyBcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnR2FtZU92ZXJTY2VuZScse1xyXG4gICAgICAgICAgICAgICAgZ2FuYWRvcjogcGxheWVySWQ9PT0ncGxheWVyMScgPyAncGxheWVyMicgOiAncGxheWVyMScsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogdGhpcy5wbGF5ZXJzLmdldChwbGF5ZXJJZD09PSdwbGF5ZXIxJyA/ICdwbGF5ZXIyJyA6ICdwbGF5ZXIxJykuY29sb3JcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldFVwUGxheWVycygpIHtcclxuICAgICAgICBjb25zdCB0YW5rMSA9IG5ldyBUYW5rKHRoaXMsICdwbGF5ZXIxJywgOTAsIDMwMCx0aGlzLmNvbG9yUGxheWVyMSk7XHJcbiAgICAgICAgY29uc3QgdGFuazIgPSBuZXcgVGFuayh0aGlzLCAncGxheWVyMicsIDcxMCwgMzAwLHRoaXMuY29sb3JQbGF5ZXIyKTsgXHJcblxyXG4gICAgICAgIHRhbmsxLlNldFRhcmdldCh0YW5rMik7XHJcbiAgICAgICAgdGFuazIuU2V0VGFyZ2V0KHRhbmsxKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIxJywgdGFuazEpO1xyXG4gICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjInLCB0YW5rMik7XHJcblxyXG4gICAgICAgIGNvbnN0IElucHV0Q29uZmlnID0gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogJ3BsYXllcjEnLFxyXG4gICAgICAgICAgICAgICAgdXBLZXkgOiAnVycsXHJcbiAgICAgICAgICAgICAgICBkb3duS2V5IDogJ1MnLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXkgOiAnRCcsXHJcbiAgICAgICAgICAgICAgICBsZWZ0S2V5IDogJ0EnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiAncGxheWVyMicsXHJcbiAgICAgICAgICAgICAgICB1cEtleSA6ICdVUCcsXHJcbiAgICAgICAgICAgICAgICBkb3duS2V5IDogJ0RPV04nLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXkgOiAnUklHSFQnLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleSA6ICdMRUZUJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXVxyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncyA9IElucHV0Q29uZmlnLm1hcChjb25maWcgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQgOiBjb25maWcucGxheWVySWQsXHJcbiAgICAgICAgICAgICAgICB1cEtleU9iaiA6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcudXBLZXldKSxcclxuICAgICAgICAgICAgICAgIGRvd25LZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcuZG93bktleV0pLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcucmlnaHRLZXldKSxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcubGVmdEtleV0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzY29yZUxlZnRHb2FsKCkge1xyXG4gICAgICAgIGNvbnN0IHBsYXllcjEgPSB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJyk7XHJcbiAgICAgICAgcGxheWVyMS5zY29yZSAtPSAxO1xyXG4gICAgICAgIC8vdGhpcy5zY29yZUxlZnQuc2V0VGV4dChwbGF5ZXIxLnNjb3JlLnRvU3RyaW5nKCkpO1xyXG5cclxuICAgICAgICBpZiAocGxheWVyMS5zY29yZSA+PSAyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW5kR2FtZSgncGxheWVyMScpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzZXRCYWxsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNjb3JlUmlnaHRHb2FsKCkge1xyXG4gICAgICAgIGNvbnN0IHBsYXllcjIgPSB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJyk7XHJcbiAgICAgICAgcGxheWVyMi5zY29yZSArPSAxO1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcwMCArIDMwICogKHBsYXllcjIuc2NvcmUgLSAxKSwgMTAwLCAnVmlkYScpLnNldFNjYWxlKDAuNSk7XHJcbiAgICAgICAgLy90aGlzLnJpZ2h0U2NvcmUuc2V0VGV4dChwbGF5ZXIyLnNjb3JlLnRvU3RyaW5nKCkpO1xyXG5cclxuICAgICAgICBpZiAocGxheWVyMi5zY29yZSA+PSAyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW5kR2FtZSgncGxheWVyMicpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzZXRCYWxsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGVuZEdhbWUod2lubmVySWQpIHtcclxuICAgICAgICB0aGlzLmJhbGwuc2V0VmVsb2NpdHkoMCwgMCk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2godGFuayA9PiB7XHJcbiAgICAgICAgICAgIHRhbmsuc3ByaXRlLnNldFZlbG9jaXR5KDAsIDApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5wYXVzZSgpO1xyXG5cclxuICAgICAgICBjb25zdCB3aW5uZXJUZXh0ID0gd2lubmVySWQgPT09ICdwbGF5ZXIxJyA/ICdQbGF5ZXIgMSBXaW5zIScgOiAnUGxheWVyIDIgV2lucyEnO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAyNTAsIHdpbm5lclRleHQsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc2NHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDBmZjAwJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCBtZW51QnRuID0gdGhpcy5hZGQudGV4dCg0MDAsIDM1MCwgJ1JldHVybiB0byBNYWluIE1lbnUnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IG1lbnVCdG4uc2V0Q29sb3IoJyNjY2NjY2MnKSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBtZW51QnRuLnNldENvbG9yKCcjZmZmZmZmJykpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzZXRCYWxsKCkge1xyXG4gICAgICAgIHRoaXMuYmFsbC5zZXRWZWxvY2l0eSgwLCAwKTtcclxuICAgICAgICB0aGlzLmJhbGwuc2V0UG9zaXRpb24oNDAwLCAzMDApO1xyXG4gICAgXHJcbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDEwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sYXVuY2hCYWxsKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgbGF1bmNoQmFsbCgpIHtcclxuICAgICAgICBjb25zdCBhbmdsZSA9IFBoYXNlci5NYXRoLkJldHdlZW4oLTMwLCAzMCk7XHJcbiAgICAgICAgY29uc3Qgc3BlZWQgPSAzMDA7XHJcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gTWF0aC5yYW5kb20oKSA8IDAuNSA/IDEgOiAtMTtcclxuXHJcbiAgICAgICAgdGhpcy5iYWxsLnNldFZlbG9jaXR5KFxyXG4gICAgICAgICAgICBNYXRoLmNvcyhQaGFzZXIuTWF0aC5EZWdUb1JhZChhbmdsZSkpICogc3BlZWQgKiBkaXJlY3Rpb24sXHJcbiAgICAgICAgICAgIE1hdGguc2luKFBoYXNlci5NYXRoLkRlZ1RvUmFkKGFuZ2xlKSkgKiBzcGVlZFxyXG4gICAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVCYWxsKCkge1xyXG4gICAgICAgIGNvbnN0IGdyYXBoaWNzID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcclxuICAgICAgICBncmFwaGljcy5maWxsU3R5bGUoMHhmZmZmZmYpO1xyXG4gICAgICAgIGdyYXBoaWNzLmZpbGxDaXJjbGUoOCwgOCwgOCk7XHJcbiAgICAgICAgZ3JhcGhpY3MuZ2VuZXJhdGVUZXh0dXJlKCdiYWxsJywgMTYsIDE2KTtcclxuICAgICAgICBncmFwaGljcy5kZXN0cm95KCk7XHJcblxyXG4gICAgICAgIHRoaXMuYmFsbCA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDQwMCwgMzAwLCAnYmFsbCcpO1xyXG4gICAgICAgIHRoaXMuYmFsbC5zZXRDb2xsaWRlV29ybGRCb3VuZHModHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5iYWxsLnNldEJvdW5jZSgxKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVCb3VuZHMoKSB7XHJcblxyXG4gICAgICAgIC8vTXVyb3MgYXJyaWJhIHkgYWJham9cclxuICAgICAgICB0aGlzLnRvcCA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDQwMCwgODMsICdCb3R0b21Ub3BXYWxsJyk7XHJcbiAgICAgICAgdGhpcy50b3Auc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMudG9wLmJvZHkuc2V0U2l6ZSg3NjUsNDUpO1xyXG5cclxuICAgICAgICB0aGlzLmJvdHRvbSA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDQwMCwgNTc3LCAnQm90dG9tVG9wV2FsbCcpO1xyXG4gICAgICAgIHRoaXMuYm90dG9tLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmJvdHRvbS5ib2R5LnNldFNpemUoNzY1LDQ1KTtcclxuXHJcbiAgICAgICAgLy9NdXJvcyBpenF1aWVyZGEgeSBkZXJlY2hhXHJcbiAgICAgICAgdGhpcy5sZWZ0ID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoNDAsIDMzMCwgJ0xlZnRSaWdodFdhbGwnKTtcclxuICAgICAgICB0aGlzLmxlZnQuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMubGVmdC5ib2R5LnNldFNpemUoNDUsNDUwKTtcclxuICAgICAgICBcclxuXHJcbiAgICAgICAgdGhpcy5yaWdodCA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDc2MCwgMzMwLCAnTGVmdFJpZ2h0V2FsbCcpO1xyXG4gICAgICAgIHRoaXMucmlnaHQuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucmlnaHQuYm9keS5zZXRTaXplKDQ1LDQ1MCk7XHJcblxyXG4gICAgICAgIC8vYmxvcXVlcyBkZSA2XHJcbiAgICAgICAgdGhpcy5ibG9jazE9dGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoNDAwLDE5OCxcIk11cm9CbG9xdWU2XCIpO1xyXG4gICAgICAgIHRoaXMuYmxvY2sxLnNldEltbW92YWJsZSh0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5ibG9jazI9dGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoNDAwLDQ2MixcIk11cm9CbG9xdWU2XCIpO1xyXG4gICAgICAgIHRoaXMuYmxvY2syLnNldEltbW92YWJsZSh0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5jZW50cm8xPXRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDQwMCw0NjItMTEwLFwiQmxvcXVlXCIpO1xyXG4gICAgICAgIHRoaXMuY2VudHJvMS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5jZW50cm8yPXRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDQwMC00NSw0NjItMTU1LFwiQmxvcXVlXCIpO1xyXG4gICAgICAgIHRoaXMuY2VudHJvMi5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5jZW50cm8zPXRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDQwMCs0NSw0NjItMTU1LFwiQmxvcXVlXCIpO1xyXG4gICAgICAgIHRoaXMuY2VudHJvMy5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMucGFsbzE9dGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoNjQ4LDQzOSxcIlBhbG9cIik7XHJcbiAgICAgICAgdGhpcy5wYWxvMS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wYWxvMj10aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSgxNTIsMjE4LFwiUGFsb1wiKTtcclxuICAgICAgICB0aGlzLnBhbG8yLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVDb2xsaXNpb25zKCl7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2godGFuayA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5sZWZ0LCB0YW5rLnNwcml0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5yaWdodCwgdGFuay5zcHJpdGUpO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMudG9wLCB0YW5rLnNwcml0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5ib3R0b20sIHRhbmsuc3ByaXRlKTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLmJsb2NrMSwgdGFuay5zcHJpdGUpO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuYmxvY2syLCB0YW5rLnNwcml0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5jZW50cm8xLCB0YW5rLnNwcml0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5jZW50cm8yLCB0YW5rLnNwcml0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5jZW50cm8zLCB0YW5rLnNwcml0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5wYWxvMSwgdGFuay5zcHJpdGUpO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMucGFsbzIsIHRhbmsuc3ByaXRlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRQYXVzZVN0YXRlKGlzUGF1c2VkKSB7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGlzUGF1c2VkO1xyXG4gICAgICAgIGlmIChpc1BhdXNlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnUGF1c2VTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogJ0dhbWVTY2VuZScgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICB9IFxyXG4gICAgfVxyXG5cclxuICAgIHJlc3VtZSgpIHtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlUGF1c2UoKSB7XHJcbiAgICAgICAgY29uc3QgbmV3UGF1c2VTdGF0ZSA9ICF0aGlzLmlzUGF1c2VkO1xyXG4gICAgICAgIHRoaXMucHJvY2Vzc29yLnByb2Nlc3MoXHJcbiAgICAgICAgICAgIG5ldyBQYXVzZUdhbWVDb21tYW5kKHRoaXMsIG5ld1BhdXNlU3RhdGUpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNHYW1lT3ZlcikgcmV0dXJuO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0aGlzLmVzY0tleS5pc0Rvd24gJiYgIXRoaXMuZXNjV2FzRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmlucHV0TWFwcGluZ3MuZm9yRWFjaChtYXBwaW5nID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdGFuayA9IHRoaXMucGxheWVycy5nZXQobWFwcGluZy5wbGF5ZXJJZCk7XHJcbiAgICAgICAgICAgIGxldCBkaXJlY3Rpb24gPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAobWFwcGluZy51cEtleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICd1cCc7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWFwcGluZy5kb3duS2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ2Rvd24nO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1hcHBpbmcubGVmdEtleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdsZWZ0JztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChtYXBwaW5nLnJpZ2h0S2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ3JpZ2h0JztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdzdG9wJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgbW92ZUNvbW1hbmQgPSBuZXcgTW92ZVRhbmtDb21tYW5kKHRhbmssIGRpcmVjdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc29yLnByb2Nlc3MobW92ZUNvbW1hbmQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uU2h1dGRvd24oKSB7XHJcblxyXG4gICAgICAgIC8vIFF1aXRhciBsaXN0ZW5lciBkZWwgc2Vydmlkb3JcclxuICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVtb3ZlS2V5cztcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBQYXVzZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignUGF1c2VTY2VuZScpO1xyXG4gICAgfVxyXG4gICBcclxucHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0ZvbmRvJywgJ2ltYWdlbmVzL0ZvbmRvLmpwZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQlROUGF1c2UnLCAnaW1hZ2VuZXMvUGF1c2FDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0JUTk1lbnUnLCAnaW1hZ2VuZXMvTWVudUNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQlROQ29udGludWUnLCAnaW1hZ2VuZXMvQ29udGludWFyQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzZngnLCAnYXVkaW8vbWVudXNmeC5tcDMnKTtcclxuICAgICAgICB0aGlzLnNjZW5lLmJyaW5nVG9Ub3AoJ1BhdXNlU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoZGF0YSkge1xyXG4gICAgICAgIC8vZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDMwMCwgJ0ZvbmRvJyk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQwMCwxMDAsJ0JUTlBhdXNlJykuc2V0T3JpZ2luKDAuNSkuc2V0U2NhbGUoMC43KTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCByZXN1bWVCdG4gPSB0aGlzLmFkZC5pbWFnZSg0MDAsMjcwLCdCVE5Db250aW51ZScpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDAuMilcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoe3VzZUhhbmRDdXJzb3I6IHRydWV9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiByZXN1bWVCdG4uc2V0U2NhbGUoMC4yNCkpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gcmVzdW1lQnRuLnNldFNjYWxlKDAuMikpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdzZngnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUoZGF0YS5vcmlnaW5hbFNjZW5lKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5nZXQoZGF0YS5vcmlnaW5hbFNjZW5lKS5yZXN1bWUoKTtcclxuICAgICAgICB9KTtcclxuICAgIFxyXG4gICAgICAgIGNvbnN0IG1lbnVCdG4gPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDUyNSwgJ0JUTk1lbnUnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuMylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbWVudUJ0bi5zZXRTY2FsZSgwLjM1KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbWVudUJ0bi5zZXRTY2FsZSgwLjMpKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdzZngnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCdHYW1lU2NlbmUnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL1NsaWRlciBkZSB2b2x1bWVuXHJcbiAgICAgICAgY29uc3QgeCA9IDQwMCwgeSA9IDM3MDtcclxuICAgICAgICBjb25zdCBtaW5YID0geCAtIDEwMCwgbWF4WCA9IHggKyAxMDA7XHJcbiAgICAgICAgY29uc3QgY3VycmVudFZvbHVtZSA9IFBoYXNlci5NYXRoLkNsYW1wKHRoaXMuc291bmQudm9sdW1lID8/IDEsIDAsIDEpO1xyXG4gICAgICAgIGNvbnN0IGhhbmRsZVggPSBtaW5YICsgKG1heFggLSBtaW5YKSAqIGN1cnJlbnRWb2x1bWU7XHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKHgsIHksIDIwMCwgMTAsIDB4ODg4ODg4KTtcclxuICAgICAgICBjb25zdCBzbGlkZXJIYW5kbGUgPSB0aGlzLmFkZC5jaXJjbGUoaGFuZGxlWCwgeSwgMTIsIDB4ZmZmZmZmKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyBkcmFnZ2FibGU6IHRydWUgfSk7XHJcbiAgICAgICAgdGhpcy5pbnB1dC5zZXREcmFnZ2FibGUoc2xpZGVySGFuZGxlKTtcclxuICAgICAgICB0aGlzLmlucHV0Lm9uKCdkcmFnJywgKHBvaW50ZXIsIGdhbWVPYmplY3QsIGRyYWdYKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChnYW1lT2JqZWN0ICE9PSBzbGlkZXJIYW5kbGUpIHJldHVybjtcclxuICAgICAgICAgICAgZ2FtZU9iamVjdC54ID0gUGhhc2VyLk1hdGguQ2xhbXAoZHJhZ1gsIG1pblgsIG1heFgpO1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLm11dGUgPSBmYWxzZTsgLy8gRGVzbXV0ZWFyIGFsIG1vdmVyIGVsIHNsaWRlclxyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnZvbHVtZSA9IChnYW1lT2JqZWN0LnggLSBtaW5YKSAvIChtYXhYIC0gbWluWCk7XHJcbiAgICAgICAgfSk7ICAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQm90w7NuIE11dGVcclxuICAgICAgICBjb25zdCBtdXRlQnRuID0gdGhpcy5hZGQudGV4dCh4LCB5ICsgNDAsICdNdXRlJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMzMzMzMzJyxcclxuICAgICAgICAgICAgcGFkZGluZzogeyBsZWZ0OiAyMCwgcmlnaHQ6IDIwLCB0b3A6IDEwLCBib3R0b206IDEwIH1cclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgbXV0ZUJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQubXV0ZSA9ICF0aGlzLnNvdW5kLm11dGU7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBDcmVkaXRTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ3JlZGl0U2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkgey8vY2FyZ2EgZGUgYXJjaGl2b3NcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0ZvbmRvJywgJ2ltYWdlbmVzL0ZvbmRvLmpwZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQlROQ3JlZGl0JywgJ2ltYWdlbmVzL0NyZWRpdG9zQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdBdXRvcmVzJywnaW1hZ2VuZXMvQXV0b3Jlc0NXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc2Z4JywgJ2F1ZGlvL21lbnVzZngubXAzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG5cclxuICAgICAgICAvL2ZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDAwLCAzMTAsICdGb25kbycpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGNyZWRpdEJ0biA9IHRoaXMuYWRkLmltYWdlKDQwMCwgOTAsIFwiQlROQ3JlZGl0XCIpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICAgICAgICAgIGNyZWRpdEJ0bi5zZXRTY2FsZSgxLjUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAxODAsICdDcmVhZG8gcG9yOicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0MHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsMzAwLCdBdXRvcmVzJykuc2V0U2NhbGUoMC4zKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDQ0NSwgJ03DunNpY2EgZGUgVGlueSBUYW5rcycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczNnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IG1lbnVCdG4gPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDUyNSwgJ0JUTk1lbnUnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuMylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbWVudUJ0bi5zZXRTY2FsZSgwLjM1KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbWVudUJ0bi5zZXRTY2FsZSgwLjMpKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdzZngnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGNvbm5lY3Rpb25NYW5hZ2VyIH0gZnJvbSAnLi4vc2VydmljZXMvQ29ubmVjdGlvbk1hbmFnZXInOyBcclxuaW1wb3J0IHsgY3JlYXRlVXNlckNvbnRyb2xsZXIgfSBmcm9tICcuLi8uLi9zZXJ2ZXIvY29udHJvbGxlcnMvdXNlckNvbnRyb2xsZXInO1xyXG5pbXBvcnQgeyBjcmVhdGVVc2VyU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZlci9zZXJ2aWNlcy91c2VyU2VydmljZSc7XHJcbi8vaW1wb3J0IHsgdXNlckNvbnRyb2xsZXIgfSBmcm9tICcuLi8uLi9zZXJ2ZXIvY29udHJvbGxlcnMvdXNlckNvbnRyb2xsZXIuanMnO1xyXG5leHBvcnQgY2xhc3MgT25saW5lU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ09ubGluZVNjZW5lJyk7XHJcbiAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0Jhc2VSZWQnLCAnaW1hZ2VuZXMvVGFucXVlUm9qb0NXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnVG9ycmV0YVJlZCcsICdpbWFnZW5lcy9DYW5vblJvam9DVy5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCYXNlR3JlZW4nLCAnaW1hZ2VuZXMvVGFucXVlVmVyZGVDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1RvcnJldGFHcmVlbicsICdpbWFnZW5lcy9DYW5vblZlcmRlQ1cucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmFzZUJsdWUnLCAnaW1hZ2VuZXMvVGFucXVlQXp1bENXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnVG9ycmV0YUJsdWUnLCAnaW1hZ2VuZXMvQ2Fub25BenVsQ1cucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmFzZVllbGxvdycsICdpbWFnZW5lcy9UYW5xdWVBbWFyaWxsb0NXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnVG9ycmV0YVllbGxvdycsICdpbWFnZW5lcy9DYW5vbkFtYXJpbGxvQ1cucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUGxheScsICdpbWFnZW5lcy9QTEFZQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCVE5NZW51JywgJ2ltYWdlbmVzL01lbnVDVy5wbmcnKTtcclxuIFxyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0J1YmJsZScsICdpbWFnZW5lcy9CdXJidWphQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdFbGlnZScsICdpbWFnZW5lcy9FbGlnZUNvbG9yQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzZngnLCAnYXVkaW8vbWVudXNmeC5tcDMnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdFc2N1ZG8nLCAnaW1hZ2VuZXMvRXNjdWRvQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdOb0Z1ZWdvQW1pZ28nLCAnaW1hZ2VuZXMvTm9GdWVnb0FtaWdvQ1cucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IE1hdHRlciA9IHRoaXMubWF0dGVyOy8vbm8gc2UgcG9ycXVlIHBlcm8gaGF5IHF1ZSBwb25lciBlc3RvXHJcbiAgICAgICAgLy8gRm9uZG9cclxuICAgICAgICBjb25zdCB1c2VyU2VydmljZSA9IGNyZWF0ZVVzZXJTZXJ2aWNlKCk7XHJcbiAgICAgICAgY29uc3QgdXNlckNvbnRyb2xsZXIgPSBjcmVhdGVVc2VyQ29udHJvbGxlcih1c2VyU2VydmljZSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQwMCwgMzEwLCAnRm9uZG8nKTtcclxuICAgICAgICBjb25zdCBvbmxpbmVCdG4gPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDkwLCBcIkJUTk9ubGluZVwiKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuMzMpO1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDMxMCwgJ0xhIGZ1bmNpb25hbGlkYWQgb25saW5lIG5vIGVzdMOhIGRpc3BvbmlibGUgZW4gZXN0YSB2ZXJzacOzbicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgICovXHJcbiAgICAgICAgY29uc3QgbWVudUJ0biA9IHRoaXMuYWRkLmltYWdlKDQwMCwgNTI1LCAnQlROTWVudScpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC4zKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBtZW51QnRuLnNldFNjYWxlKDAuMzUpKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBtZW51QnRuLnNldFNjYWxlKDAuMykpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3NmeCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIC0tLS0tLS0tLSBMT0dJTiAtLS0tLS0tLS1cclxuICAgICAgICB0aGlzLmNvbG9yUGxheWVyMSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5wbGF5ID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCA0MDAsICdQbGF5JylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjMpLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5LnNldFNjYWxlKDAuMzUpOyAgICAgICAvLyBhdW1lbnRhIHRhbWHDsW8gdW4gMTAlXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheS5zZXRTY2FsZSgwLjMpOyAgICAgICAgIC8vIHZ1ZWx2ZSBhbCB0YW1hw7FvIG9yaWdpbmFsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7IFxyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVMb2dpbigpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBDcmVhciBpbnB1dCBIVE1MIHkgZ3VhcmRhcmxvIGVuIHRoaXMuaW5wdXROYW1lXHJcbiAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5nYW1lLmNhbnZhcztcclxuICAgICAgICBjb25zdCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICAgICAgICB0aGlzLmlucHV0TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICAgICAgdGhpcy5pbnB1dE5hbWUudHlwZSA9ICd0ZXh0JztcclxuICAgICAgICB0aGlzLmlucHV0TmFtZS5wbGFjZWhvbGRlciA9ICdUdSBhcG9kby4uLic7XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXROYW1lLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICAgICAgICB0aGlzLmlucHV0TmFtZS5zdHlsZS50b3AgPSAocmVjdC50b3AgKyAzMDApICsgJ3B4JztcclxuICAgICAgICB0aGlzLmlucHV0TmFtZS5zdHlsZS5sZWZ0ID0gKHJlY3QubGVmdCArIDI3MCkgKyAncHgnO1xyXG4gICAgICAgIHRoaXMuaW5wdXROYW1lLnN0eWxlLmZvbnRTaXplID0gJzIwcHgnO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuaW5wdXROYW1lKTtcclxuXHJcblxyXG4gICAgICAgIC8vIC0tLS0tLS0tLSBFc3RhZG8gZGVsIHNlcnZpZG9yIC0tLS0tLS0tLVxyXG5cclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0MiA9IHRoaXMuYWRkLnRleHQoNDI1LCA0NzAsICdTZXJ2aWRvcjogQ29tcHJvYmFuZG8uLi4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzhkOGQzYmZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ29ubmVjdGlvbkRpc3BsYXkoZGF0YSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIuYWRkTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG5cclxuICAgICAgICAvLyBSZWdpc3RyYXIgZXZlbnRvcyBkZSBhcGFnYWRvIGRlIGVzY2VuYVxyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdzaHV0ZG93bicsIHRoaXMub25TaHV0ZG93biwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ2Rlc3Ryb3knLCB0aGlzLm9uU2h1dGRvd24sIHRoaXMpO1xyXG5cclxuICAgICAgICAvLy0tLS0tLS10YW5xdWVzIHBhcmEgc2VsZWNjacOzbiBkZSBhdmF0YXItLS0tLS0tXHJcbiAgICAgICAgdGhpcy5wMU9wdGlvbnMgPSBbXTtcclxuXHJcbiAgICAgICAgY29uc3QgY3JlYXRlVGFua09wdGlvbiA9ICh4LCB5LCBjb2xvcktleSwgb25DbGljaykgPT4ge1xyXG4gICAgICAgICAgICAvLyBSZWN0w6FuZ3VsbyBkZSBzZWxlY2Npw7NuIChpbnZpc2libGUgYWwgaW5pY2lvKVxyXG4gICAgICAgICAgICBcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGJhc2UgPSB0aGlzLmFkZC5pbWFnZSgwLCAwLCBgQmFzZSR7Y29sb3JLZXl9YCkuc2V0U2NhbGUoMS4yKS5zZXREZXB0aCgxMCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHR1cnJldCA9IHRoaXMuYWRkLmltYWdlKDAsIDAsIGBUb3JyZXRhJHtjb2xvcktleX1gKS5zZXRTY2FsZSgxLjIpLnNldE9yaWdpbigwLjIsMC41KS5zZXREZXB0aCgxNSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBoaWdobGlnaHQgPSB0aGlzLmFkZC5pbWFnZSgwLCAwLCBcIkJ1YmJsZVwiKS5zZXRTY2FsZSgxLjYpLnNldERlcHRoKDQwKTtcclxuICAgICAgICAgICAgaGlnaGxpZ2h0LnNldFZpc2libGUoZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5hZGQuY29udGFpbmVyKHgsIHksIFtiYXNlLCB0dXJyZXQsaGlnaGxpZ2h0XSk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zZXRTaXplKGJhc2Uud2lkdGggKiAxLjIsIGJhc2UuaGVpZ2h0ICogMS4yKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zZXREYXRhKCdjb2xvcktleScsIGNvbG9yS2V5KTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnNldERhdGEoJ3NlbGVjdGVkJywgZmFsc2UpO1xyXG4gICAgICAgICAgICBjb250YWluZXIuc2V0RGF0YSgnZGlzYWJsZWQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zZXREYXRhKCdoaWdobGlnaHQnLCBoaWdobGlnaHQpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL2xvY2FsQnRuLnNldFRpbnQoMHgwMGZmODgpOyAgIC8vIGFwbGljYSBjb2xvclxyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnNldFNjYWxlKDEuMyk7ICAgICAgIC8vIGF1bWVudGEgdGFtYcOxbyB1biAxMCVcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgY29udGFpbmVyLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy9sb2NhbEJ0bi5zZXRUaW50KDB4MDBmZjAwKTsgICAvLyB2dWVsdmUgYWwgY29sb3Igb3JpZ2luYWxcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZXRTY2FsZSgxLjApOyAgICAgICAgIC8vIHZ1ZWx2ZSBhbCB0YW1hw7FvIG9yaWdpbmFsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyBDbGljayBwYXJhIHNlbGVjY2lvbmFyXHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5vbigncG9pbnRlcnVwJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5nZXREYXRhKCdkaXNhYmxlZCcpKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrKGNvbG9yS2V5LCBjb250YWluZXIpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCBjb2xvcnMgPSBbJ1JlZCcsICdCbHVlJywgJ0dyZWVuJywgJ1llbGxvdyddO1xyXG4gICAgICAgIGNvbnN0IHAxWCA9IDI0MDtcclxuICAgICAgICBjb25zdCBzdGFydFkgPSAyNDA7XHJcbiAgICAgICAgY29uc3QgZ2FwWSA9IDEwMDtcclxuICAgICAgICBjb2xvcnMuZm9yRWFjaCgoY29sb3IsIGkpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb3B0ID0gY3JlYXRlVGFua09wdGlvbihwMVgrIGkgKiBnYXBZLCBzdGFydFkgLCBjb2xvciwgKGtleSwgb3B0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yUGxheWVyMSA9IGtleTtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFya1NlbGVjdGVkKHRoaXMucDFPcHRpb25zLCBvcHRpb24pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5wMU9wdGlvbnMucHVzaChvcHQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGhhbmRsZUxvZ2luKCkge1xyXG4gICAgICAgIGNvbnN0IG5vbWJyZSA9IHRoaXMuaW5wdXROYW1lLnZhbHVlLnRyaW0oKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIk5vbWJyZSBpbmdyZXNhZG86XCIsIG5vbWJyZSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJBdmF0YXIgc2VsZWNjaW9uYWRvOlwiLCB0aGlzLmNvbG9yUGxheWVyMSk7XHJcblxyXG4gICAgICAgIGlmIChub21icmUubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnc2Z4JywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJQb3IgZmF2b3IsIGluZ3Jlc2EgdW4gbm9tYnJlIHbDoWxpZG8uXCIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgdXNlciA9IGF3YWl0IHRoaXMuZ2V0UGxheWVyQnlOYW1lKG5vbWJyZSk7XHJcblxyXG4gICAgICAgIC8vIFNpIGRldnVlbHZlIFtdIOKGkiBubyBleGlzdGVcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh1c2VyKSAmJiB1c2VyLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICB1c2VyID0gbnVsbDtcclxuICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodXNlcikpIHtcclxuICAgICAgICAgICAgdXNlciA9IHVzZXJbMF07IC8vIHRvbWFyIGVsIHVzdWFyaW8gcmVhbFxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgICAgIC8vIFVzdWFyaW8gZXhpc3RlbnRlXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbG9yUGxheWVyMSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJBY3R1YWxpemFuZG8gYXZhdGFyIGRlbCB1c3VhcmlvIGV4aXN0ZW50ZS5cIik7XHJcbiAgICAgICAgICAgICAgICB1c2VyID0gYXdhaXQgdGhpcy51cGRhdGVQbGF5ZXIodXNlci5pZCwge1xyXG4gICAgICAgICAgICAgICAgICAgIGF2YXRhcjogdGhpcy5jb2xvclBsYXllcjFcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJVc2FuZG8gYXZhdGFyIGV4aXN0ZW50ZSBkZWwgdXN1YXJpby5cIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yUGxheWVyMSA9IHVzZXIuYXZhdGFyO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFVzdWFyaW8gbnVldm9cclxuICAgICAgICAgICAgaWYgKHRoaXMuY29sb3JQbGF5ZXIxID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBvciBmYXZvciwgc2VsZWNjaW9uYSB1biBhdmF0YXIuXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNyZWFuZG8gdXN1YXJpbyBudWV2by4uLlwiKTtcclxuICAgICAgICAgICAgdXNlciA9IGF3YWl0IHRoaXMuY3JlYXRlUGxheWVyKHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IG5vbWJyZSxcclxuICAgICAgICAgICAgICAgIGF2YXRhcjogdGhpcy5jb2xvclBsYXllcjEsXHJcbiAgICAgICAgICAgICAgICB3aW5zOiAwXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJVc3VhcmlvIGNyZWFkbzpcIiwgdXNlcik7XHJcblxyXG4gICAgICAgICAgICAvLyDinZcgSU1QT1JUQU5URTogTk8gYWN0dWFsaXphciBhcXXDrVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdzZngnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0xvYmJ5U2NlbmUnLCB7IFxyXG4gICAgICAgICAgICBwbGF5ZXJOYW1lOiB1c2VyLm5hbWUsIFxyXG4gICAgICAgICAgICBhdmF0YXI6IHVzZXIuYXZhdGFyIFxyXG4gICAgICAgIH0pO1xyXG59XHJcblxyXG5cclxuICAgIHVwZGF0ZUNvbm5lY3Rpb25EaXNwbGF5KGRhdGEpIHtcclxuICAgICAgICBpZiAoIXRoaXMuY29ubmVjdGlvblRleHQyIHx8ICF0aGlzLnNjZW5lIHx8ICF0aGlzLnNjZW5lLmlzQWN0aXZlKCdPbmxpbmVTY2VuZScpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmNvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dDIuc2V0VGV4dChgU2Vydmlkb3I6ICR7ZGF0YS5jb3VudH0gdXN1YXJpbyhzKSBjb25lY3RhZG8ocylgKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQyLnNldENvbG9yKCcjNWU5MjVlZmYnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQyLnNldFRleHQoJ1NlcnZpZG9yOiBEZXNjb25lY3RhZG8nKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQyLnNldENvbG9yKCcjYTE2NjY2ZmYnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tPbmxpbmVTY2VuZV0gRXJyb3IgdXBkYXRpbmcgY29ubmVjdGlvbiBkaXNwbGF5OicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTWFyY2Egc2VsZWNjaW9uYWRvXHJcbiAgICBtYXJrU2VsZWN0ZWQob3B0aW9uQXJyYXksIHNlbGVjdGVkT3B0aW9uKSB7XHJcbiAgICAgICAgb3B0aW9uQXJyYXkuZm9yRWFjaChvID0+IHtcclxuICAgICAgICAgICAgby5zZXREYXRhKCdzZWxlY3RlZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgby5nZXREYXRhKCdoaWdobGlnaHQnKS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBzZWxlY3RlZE9wdGlvbi5zZXREYXRhKCdzZWxlY3RlZCcsIHRydWUpO1xyXG4gICAgICAgIHNlbGVjdGVkT3B0aW9uLmdldERhdGEoJ2hpZ2hsaWdodCcpLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHNldE9wdGlvbkRpc2FibGVkKG9wdGlvbiwgZGlzYWJsZWQpIHtcclxuICAgICAgICBvcHRpb24uc2V0RGF0YSgnZGlzYWJsZWQnLCBkaXNhYmxlZCk7XHJcblxyXG4gICAgICAgIGlmIChkaXNhYmxlZCkge1xyXG4gICAgICAgICAgICBvcHRpb24uZGlzYWJsZUludGVyYWN0aXZlKCk7XHJcbiAgICAgICAgICAgIG9wdGlvbi5zZXRBbHBoYSgwLjMpO1xyXG4gICAgICAgICAgICBvcHRpb24uc2V0RGF0YSgnc2VsZWN0ZWQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIG9wdGlvbi5nZXREYXRhKCdoaWdobGlnaHQnKS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBvcHRpb24uc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICBvcHRpb24uc2V0QWxwaGEoMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1hcGktLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICBhc3luYyBnZXRQbGF5ZXJCeU5hbWUobm9tYnJlKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2Vycz9uYW1lPSR7bm9tYnJlfWApO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdIVFRQIGVycm9yICcgKyByZXNwb25zZS5zdGF0dXMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSAmJiBkYXRhLmxlbmd0aCA+IDApIHsgXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5maW5kKHUgPT4gdS5uYW1lID09PSBub21icmUpIHx8IG51bGw7IFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvcjonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBjcmVhdGVQbGF5ZXIoZGF0YSkge1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMnLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgdXBkYXRlUGxheWVyKGlkLCB1cGRhdGVzKSB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2Vycy8ke2lkfWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1cGRhdGVzKVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vXHJcbiAgICBvblNodXRkb3duKCkge1xyXG5cclxuICAgICAgICAvLyBRdWl0YXIgbGlzdGVuZXIgZGVsIHNlcnZpZG9yXHJcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uTGlzdGVuZXIgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUXVpdGFyIGlucHV0IEhUTUxcclxuICAgICAgICBpZiAodGhpcy5pbnB1dE5hbWUpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLmlucHV0TmFtZSk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5wdXROYW1lID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBUdXRvcmlhbFNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdUdXRvcmlhbFNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHsvL2NhcmdhIGRlIGFyY2hpdm9zXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdGb25kbycsICdpbWFnZW5lcy9Gb25kby5qcGcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1R1dG9yaWFsJywgJ2ltYWdlbmVzL1R1dG9yaWFsQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzZngnLCAnYXVkaW8vbWVudXNmeC5tcDMnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcblxyXG4gICAgICAgIC8vZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDMxMCwgJ0ZvbmRvJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDAwLDgwLCdUdXRvcmlhbCcpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDAuNDUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgMTUwLCAnQ29udHJvbGVzOicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNXB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgMTgwLCAnUGxheWVyIDE6IHdhc2QnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjVweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDIxMCwgJ1BsYXllciAyOiBmbGVjaGFzIGRpcmVjY2lvbmFsZXMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjVweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgMjYwLCAnT2JqZXRpdm86Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI1cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAyOTAsICdRdWl0YXJsZSBsYXMgY2luY28gdmlkYXMgYWwgb3BvbmVudGUnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjVweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDM0MCwgJ01lY8OhbmljYXM6Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI1cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAzNzAsICdEaXNwYXJhcyBhdXRvbcOhdGljYW1lbnRlIHkgc29sbyBjdWFuZG8gZXN0YXMgcXVpZXRvJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI1cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDQwMCwgJ1R1IGNhw7HDs24gc2llbXByZSBhcHVudGEgYWwgb3RybyBqdWdhZG9yJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI1cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDQzMCwgJ0xhcyBiYWxhcyByZWJvdGFuIDMgdmVjZXMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjVweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDQ2MCwgJ1R1cyBwcm9waWFzIGJhbGFzIHB1ZWRlbiBkYXJ0ZScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNXB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCBtZW51QnRuID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCA1MjUsICdCVE5NZW51JylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjMpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IG1lbnVCdG4uc2V0U2NhbGUoMC4zNSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IG1lbnVCdG4uc2V0U2NhbGUoMC4zKSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnc2Z4JywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lT3ZlclNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdHYW1lT3ZlclNjZW5lJyk7XHJcbiAgICB9XHJcbiAgICBwcmVsb2FkKCl7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdGb25kbycsICdpbWFnZW5lcy9Gb25kby5qcGcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0JUTk1lbnUnLCAnaW1hZ2VuZXMvTWVudUNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQlROR2FuYWRvcicsICdpbWFnZW5lcy9HYW5hZG9yQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQJywgJ2ltYWdlbmVzL1Bjdy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJzEnLCAnaW1hZ2VuZXMvMUNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnMicsICdpbWFnZW5lcy8yQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzZngnLCAnYXVkaW8vbWVudXNmeC5tcDMnKTtcclxuICAgIH1cclxuICAgIGluaXQoZGF0YSl7XHJcbiAgICAgICAgdGhpcy5nYW5hZG9yPWRhdGE/LmdhbmFkb3I7XHJcbiAgICAgICAgdGhpcy5jb2xvcj1kYXRhPy5jb2xvcjtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDAwLCAzMDAsICdGb25kbycpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDEwMCwgJ0JUTkdhbmFkb3InKS5zZXRPcmlnaW4oMC41KS5zZXRTY2FsZSgwLjYpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSgzNTUsIDIwMCwgJ1AnKS5zZXRPcmlnaW4oMC41KS5zZXRTY2FsZSgwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCBnYW5hZG9yID0gdGhpcy5nYW5hZG9yO1xyXG4gICAgICAgIGxldCBnYW5hZG9yS2V5ID0gbnVsbDtcclxuICAgICAgICBpZiAoZ2FuYWRvci5pbmNsdWRlcygnMScpKSBnYW5hZG9yS2V5ID0gJzEnO1xyXG4gICAgICAgIGVsc2UgaWYgKGdhbmFkb3IuaW5jbHVkZXMoJzInKSkgZ2FuYWRvcktleSA9ICcyJztcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0NDUsIDIwMCwgZ2FuYWRvcktleSkuc2V0T3JpZ2luKDAuNSkuc2V0U2NhbGUoMC41KTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDM3NSwgYEJhc2Uke3RoaXMuY29sb3J9YCkuc2V0T3JpZ2luKDAuNSwgMC41KS5zZXRTY2FsZSgzKTtcclxuICAgICAgICB0aGlzLnRvcnJlPXRoaXMuYWRkLmltYWdlKDQwMCwgMzc1LCBgVG9ycmV0YSR7dGhpcy5jb2xvcn1gKS5zZXRPcmlnaW4oMC4xNSwgMC41KS5zZXRTY2FsZSgzKTtcclxuXHJcbiAgICAgICAgY29uc3QgbWVudUJ0biA9IHRoaXMuYWRkLmltYWdlKDQwMCw1NDAsJ0JUTk1lbnUnKS5zZXRPcmlnaW4oMC41KS5zZXRTY2FsZSgwLjQpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHt1c2VIYW5kQ3Vyc29yOiB0cnVlfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbWVudUJ0bi5zZXRTY2FsZSgwLjQzKSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBtZW51QnRuLnNldFNjYWxlKDAuNCkpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdzZngnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKXtcclxuICAgICAgICB0aGlzLnRvcnJlLnJvdGF0aW9uKz1NYXRoLlBJLzE4MDtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgT3B0aW9uc1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdPcHRpb25zU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkgey8vY2FyZ2EgZGUgYXJjaGl2b3NcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0ZvbmRvJywgJ2ltYWdlbmVzL0ZvbmRvLmpwZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQlROTWVudScsICdpbWFnZW5lcy9NZW51Q1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdPcGNpb25lcycsICdpbWFnZW5lcy9PcGNpb25lc0NXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmFycmEnLCAnaW1hZ2VuZXMvQmFycmFNdXNpY2FDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0Rlc2xpemFkb3InLCAnaW1hZ2VuZXMvRGVzbGl6YWRvck11c2ljYUNXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc2Z4JywgJ2F1ZGlvL21lbnVzZngubXAzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDMwMCwgJ0ZvbmRvJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDAwLCA5MCwgJ09wY2lvbmVzJykuc2V0U2NhbGUoMC41KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBtZW51QnRuID0gdGhpcy5hZGQuaW1hZ2UoNDAwLDUyNSwnQlROTWVudScpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDAuNClcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoe3VzZUhhbmRDdXJzb3I6IHRydWV9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBtZW51QnRuLnNldFNjYWxlKDAuNDMpKVxyXG4gICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IG1lbnVCdG4uc2V0U2NhbGUoMC40KSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3NmeCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IHggPSA0MDA7XHJcbiAgICBjb25zdCB5ID0gMzAwO1xyXG5cclxuICAgIC8vIEJhcnJhIGRlbCBzbGlkZXJcclxuICAgIHRoaXMuc2xpZGVyQmFyID0gdGhpcy5hZGQuaW1hZ2UoeCwgeSwgJ0JhcnJhJykuc2V0RGlzcGxheVNpemUoMjAwLDY4KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAvLyBPYnRlbmVyIHZvbHVtZW4gZ2xvYmFsIGFjdHVhbCAoMCBhIDEpXHJcbiAgICBjb25zdCBjdXJyZW50Vm9sdW1lID0gUGhhc2VyLk1hdGguQ2xhbXAodGhpcy5zb3VuZC52b2x1bWUgPz8gMSwgMCwgMSk7XHJcblxyXG4gICAgLy8gQ29udmVydGlyIHZvbHVtZW4gYSBwb3NpY2nDs24gZGVsIGhhbmRsZVxyXG4gICAgY29uc3QgbWluWCA9IHggLSA4MDtcclxuICAgIGNvbnN0IG1heFggPSB4ICsgODA7XHJcbiAgICBjb25zdCBoYW5kbGVYID0gbWluWCArIChtYXhYIC0gbWluWCkgKiBjdXJyZW50Vm9sdW1lO1xyXG5cclxuICAgIC8vIENyZWFyIGhhbmRsZSBlbiBsYSBwb3NpY2nDs24gY29ycmVjdGFcclxuICAgIHRoaXMuc2xpZGVySGFuZGxlID0gdGhpcy5hZGQuaW1hZ2UoaGFuZGxlWCwgeSwgJ0Rlc2xpemFkb3InKS5zZXRTY2FsZSgwLjUpLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHsgZHJhZ2dhYmxlOiB0cnVlIH0pO1xyXG5cclxuICAgIHRoaXMuaW5wdXQuc2V0RHJhZ2dhYmxlKHRoaXMuc2xpZGVySGFuZGxlKTtcclxuXHJcbiAgICAvLyBFdmVudG8gZGUgYXJyYXN0cmVcclxuICAgIHRoaXMuaW5wdXQub24oJ2RyYWcnLCAocG9pbnRlciwgZ2FtZU9iamVjdCwgZHJhZ1gpID0+IHtcclxuICAgICAgICBpZiAoZ2FtZU9iamVjdCAhPT0gdGhpcy5zbGlkZXJIYW5kbGUpIHJldHVybjtcclxuICAgICAgICBnYW1lT2JqZWN0LnggPSBQaGFzZXIuTWF0aC5DbGFtcChkcmFnWCwgbWluWCwgbWF4WCk7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5tdXRlID0gZmFsc2U7IC8vIERlc211dGVhciBhbCBtb3ZlciBlbCBzbGlkZXJcclxuICAgICAgICB0aGlzLnNvdW5kLnZvbHVtZSA9IChnYW1lT2JqZWN0LnggLSBtaW5YKSAvIChtYXhYIC0gbWluWCk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgLy8gQm90w7NuIE11dGUgc2ltcGxlXHJcbiAgICBjb25zdCBtdXRlQnRuID0gdGhpcy5hZGQudGV4dCh4LCB5ICsgNDAsICdNdXRlJywge1xyXG4gICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMzMzMzMzJyxcclxuICAgICAgICBwYWRkaW5nOiB7IGxlZnQ6IDIwLCByaWdodDogMjAsIHRvcDogMTAsIGJvdHRvbTogMTAgfVxyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgIG11dGVCdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc291bmQubXV0ZSA9ICF0aGlzLnNvdW5kLm11dGU7XHJcbiAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgY29ubmVjdGlvbk1hbmFnZXIgfSBmcm9tICcuLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlcic7XHJcblxyXG4vKipcclxuICogRXNjZW5hIHF1ZSBzZSBtdWVzdHJhIGN1YW5kbyBzZSBwaWVyZGUgbGEgY29uZXhpw7NuIGNvbiBlbCBzZXJ2aWRvclxyXG4gKiBQYXVzYSBlbCByZXN0byBkZSBlc2NlbmFzIHkgY29tcHJ1ZWJhIGNvbnRpbnVhbWVudGUgaGFzdGEgcXVlIHNlIHJlc3RhYmxlemNhXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29ubmVjdGlvbkxvc3RTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0Nvbm5lY3Rpb25Mb3N0U2NlbmUnKTtcclxuICAgICAgICB0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdDb25leGlvblBlcmRpZGEnLCAnaW1hZ2VuZXMvQ29uZXhpb25QZXJkaWRhQ1cucG5nJyk7XHJcbiAgICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRm9uZG8nLCAnaW1hZ2VuZXMvRm9uZG8uanBnJyk7XHJcbiAgICB9XHJcbiAgICBpbml0KGRhdGEpIHtcclxuICAgICAgICAvLyBHdWFyZGFyIGxhIGVzY2VuYSBxdWUgZXN0YWJhIGFjdGl2YSBjdWFuZG8gc2UgcGVyZGnDsyBsYSBjb25leGnDs25cclxuICAgICAgICB0aGlzLnByZXZpb3VzU2NlbmUgPSBkYXRhLnByZXZpb3VzU2NlbmU7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIC8vIEZvbmRvIHNlbWktdHJhbnNwYXJlbnRlXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDAwLCAzMDAsICdGb25kbycpO1xyXG5cclxuICAgICAgICAvLyBUw610dWxvXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDAwLCAxMDAsIFwiQ29uZXhpb25QZXJkaWRhXCIpLnNldFNjYWxlKDAuNCkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIE1lbnNhamVcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQgPSB0aGlzLmFkZC50ZXh0KDQwMCwgMzAwLCAnSW50ZW50YW5kbyByZWNvbmVjdGFyLi4uJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZjAwMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vYm90b24gbWVudVxyXG4gICAgICAgIGNvbnN0IG1lbnVCdG4gPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDUyNSwgJ0JUTk1lbnUnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuMylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbWVudUJ0bi5zZXRTY2FsZSgwLjM1KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbWVudUJ0bi5zZXRTY2FsZSgwLjMpKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdzZngnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKHRoaXMucHJldmlvdXNTY2VuZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuIFxyXG5cclxuICAgICAgICAvLyBDb250YWRvciBkZSBpbnRlbnRvc1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdENvdW50ID0gMDtcclxuICAgICAgICB0aGlzLmF0dGVtcHRUZXh0ID0gdGhpcy5hZGQudGV4dCg0MDAsIDM1MCwgJ0ludGVudG9zOiAwJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIEluZGljYWRvciBwYXJwYWRlYW50ZVxyXG4gICAgICAgIHRoaXMuZG90Q291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgIGRlbGF5OiAyMDAwLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kb3RDb3VudCA9ICh0aGlzLmRvdENvdW50ICsgMSkgJSA0O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZG90cyA9ICcuJy5yZXBlYXQodGhpcy5kb3RDb3VudCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dChgSW50ZW50YW5kbyByZWNvbmVjdGFyJHtkb3RzfWApO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIExpc3RlbmVyIHBhcmEgY2FtYmlvcyBkZSBjb25leGnDs25cclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmNvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vblJlY29ubmVjdGVkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLmFkZExpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuXHJcbiAgICAgICAgLy8gSW50ZW50YXIgcmVjb25lY3RhciBjYWRhIDIgc2VndW5kb3NcclxuICAgICAgICB0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0ZW1wdFJlY29ubmVjdCgpO1xyXG4gICAgICAgIH0sIDIwMDApO1xyXG5cclxuICAgICAgICAvLyBQcmltZXIgaW50ZW50byBpbm1lZGlhdG9cclxuICAgICAgICB0aGlzLmF0dGVtcHRSZWNvbm5lY3QoKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBhdHRlbXB0UmVjb25uZWN0KCkge1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdENvdW50Kys7XHJcbiAgICAgICAgdGhpcy5hdHRlbXB0VGV4dC5zZXRUZXh0KGBJbnRlbnRvczogJHt0aGlzLmF0dGVtcHRDb3VudH1gKTtcclxuICAgICAgICBhd2FpdCBjb25uZWN0aW9uTWFuYWdlci5jaGVja0Nvbm5lY3Rpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBvblJlY29ubmVjdGVkKCkge1xyXG4gICAgICAgIC8vIExpbXBpYXIgaW50ZXJ2YWxcclxuICAgICAgICBpZiAodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZXIgbGlzdGVuZXJcclxuICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcblxyXG4gICAgICAgIC8vIE1lbnNhamUgZGUgw6l4aXRvXHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ8KhQ29uZXhpw7NuIHJlc3RhYmxlY2lkYSEnKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyMwMGZmMDAnKTtcclxuXHJcbiAgICAgICAgLy8gVm9sdmVyIGEgbGEgZXNjZW5hIGFudGVyaW9yXHJcbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDEwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXZpb3VzU2NlbmUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKHRoaXMucHJldmlvdXNTY2VuZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzaHV0ZG93bigpIHtcclxuICAgICAgICAvLyBMaW1waWFyIGVsIGludGVydmFsIGFsIGNlcnJhciBsYSBlc2NlbmFcclxuICAgICAgICBpZiAodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUmVtb3ZlciBlbCBsaXN0ZW5lclxyXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcikge1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgVGFuayB9IGZyb20gJy4uL2VudGl0aWVzL1RhbmsnO1xyXG5pbXBvcnQgeyBQb3dlclVwR2VuZXJhdG9yIH0gZnJvbSAnLi4vZW50aXRpZXMvUG93ZXJVcEdlbmVyYXRvci5qcyc7XHJcbmltcG9ydCB7IENvbW1hbmRQcm9jZXNzb3IgfSBmcm9tICcuLi9jb21tYW5kcy9Db21tYW5kUHJvY2Vzc29yJztcclxuaW1wb3J0IHsgTW92ZVRhbmtDb21tYW5kIH0gZnJvbSAnLi4vY29tbWFuZHMvTW92ZVRhbmtDb21tYW5kJztcclxuaW1wb3J0IHsgY29ubmVjdGlvbk1hbmFnZXIgfSBmcm9tICcuLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlcic7XHJcbmltcG9ydCB7IFBvd2VyVXAgfSBmcm9tICcuLi9lbnRpdGllcy9Qb3dlclVwLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBPbmxpbmVHYW1lU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdPbmxpbmVHYW1lU2NlbmUnKTtcclxuICAgIH1cclxuICAgIHByZWxvYWQoKSB7Ly9jYXJnYSBkZSBhcmNoaXZvc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRm9uZG8nLCAnaW1hZ2VuZXMvRm9uZG8uanBnJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdWaWRhJywgJ2ltYWdlbmVzL1ZpZGFDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0J1YmJsZScsICdpbWFnZW5lcy9CdXJidWphQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdNZWRpb01hcGEnLCAnaW1hZ2VuZXMvTWVkaW9PYnN0YWN1bG9DVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BhbG8nLCAnaW1hZ2VuZXMvUGFsb09ic3RhY3Vsb0NXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmxvcXVlU2ltcGxlJywgJ2ltYWdlbmVzL1RpbGVNdXJvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQm90dG9tVG9wV2FsbCcsICdpbWFnZW5lcy9Cb3R0b21Ub3BDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0xlZnRSaWdodFdhbGwnLCAnaW1hZ2VuZXMvTGVmdFJpZ2h0Q1cucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmFzZVJlZCcsICdpbWFnZW5lcy9UYW5xdWVSb2pvQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdUb3JyZXRhUmVkJywgJ2ltYWdlbmVzL0Nhbm9uUm9qb0NXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmFsYVJlZCcsICdpbWFnZW5lcy9CYWxhTlJvam9Ddy5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCYXNlR3JlZW4nLCAnaW1hZ2VuZXMvVGFucXVlVmVyZGVDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1RvcnJldGFHcmVlbicsICdpbWFnZW5lcy9DYW5vblZlcmRlQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCYWxhR3JlZW4nLCAnaW1hZ2VuZXMvQmFsYU5WZXJkZUNXLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0Jhc2VCbHVlJywgJ2ltYWdlbmVzL1RhbnF1ZUF6dWxDVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1RvcnJldGFCbHVlJywgJ2ltYWdlbmVzL0Nhbm9uQXp1bENXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmFsYUJsdWUnLCAnaW1hZ2VuZXMvQmFsYU5BenVsQ1cucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmFzZVllbGxvdycsICdpbWFnZW5lcy9UYW5xdWVBbWFyaWxsb0NXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnVG9ycmV0YVllbGxvdycsICdpbWFnZW5lcy9DYW5vbkFtYXJpbGxvQ1cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdCYWxhWWVsbG93JywgJ2ltYWdlbmVzL0JhbGFOQW1hcmlsbG9DVy5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdNdXJvQmxvcXVlNicsICdpbWFnZW5lcy9NZWRpb09ic3RhY3Vsb0NXLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQmxvcXVlJywgJ2ltYWdlbmVzL1RpbGVNdXJvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUGFsbycsICdpbWFnZW5lcy9QYWxvT2JzdGFjdWxvQ1cucG5nJyk7XHJcbiAgICAgICBcclxuICAgIH1cclxuICAgIGluaXQoZGF0YSkge1xyXG4gICAgICAgIHRoaXMud3M9ZGF0YS53cztcclxuICAgICAgICB0aGlzLnBsYXllclJvbGUgPSBkYXRhLnBsYXllclJvbGU7IC8vICdwbGF5ZXIxJyBvciAncGxheWVyMidcclxuICAgICAgICB0aGlzLnJvb21JZCA9IGRhdGEucm9vbUlkO1xyXG5cclxuICAgICAgICB0aGlzLmxvY2FsVGFuayA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5yZW1vdGVUYW5rID0gbnVsbDtcclxuICAgICAgICB0aGlzLnByb2Nlc3NvciA9IG5ldyBDb21tYW5kUHJvY2Vzc29yKCk7Ly9wYXJhIGxvY2FsXHJcblxyXG4gICAgICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTtcclxuICAgICAgICAvL3RoaXMucG93ZXJVcEdlbmVyYXRvciA9IG51bGw7XHJcbiAgICAgICAgLy90aGlzLnByb2Nlc3NvciA9IG5ldyBDb21tYW5kUHJvY2Vzc29yKCk7XHJcbiAgICAgICAgdGhpcy5pc0dhbWVPdmVyID0gZmFsc2U7XHJcbiAgICAgICAgLy8gQ29sb3JlcyBxdWUgdmllbmVuIGRlIFNlbGVjdENvbG9yXHJcbiAgICAgICAgLy9taXJhciBzaSBjb2xvcmVzIGRlIGFtYm9zIGp1Z2Fkb3JlcyBzb24gaWd1YWxlc1xyXG4gICAgICAgIHRoaXMuY29sb3JQbGF5ZXIxID0gZGF0YS5hdmF0YXIxO1xyXG4gICAgICAgIHRoaXMuY29sb3JQbGF5ZXIyID0gZGF0YS5hdmF0YXIyO1xyXG4gICAgICAgIHRoaXMubmFtZTEgPSBkYXRhLm5hbWUxO1xyXG4gICAgICAgIHRoaXMubmFtZTIgPSBkYXRhLm5hbWUyO1xyXG4gICAgICAgIC8vYWp1c3RhciBlbCBjb2xvclxyXG4gICAgICAgIGlmKHRoaXMuY29sb3JQbGF5ZXIyID09PSB0aGlzLmNvbG9yUGxheWVyMSl7XHJcbiAgICAgICAgICAgIC8vbWlzbW8gY29sb3JcclxuICAgICAgICAgICAgY29uc3QgY29sb3JzID0gWydSZWQnLCAnQmx1ZScsICdHcmVlbicsICdZZWxsb3cnXTtcclxuICAgICAgICAgICAgbGV0IGRpc3BvbmlibGVzID0gY29sb3JzLmZpbHRlcihlID0+IGUgIT09IHRoaXMuY29sb3JQbGF5ZXIxKTsgXHJcbiAgICAgICAgICAgIGxldCBlbGVnaWRvID0gUGhhc2VyLlV0aWxzLkFycmF5LkdldFJhbmRvbShkaXNwb25pYmxlcyk7XHJcbiAgICAgICAgICAgIGlmKHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29sb3JQbGF5ZXIyID0gZWxlZ2lkbztcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yUGxheWVyMSA9IGVsZWdpZG87XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy51c2VQb3dlclVwcyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcblxyXG4gICAgICAgIHRoaXMucG93ZXJVcHNHcm91cCA9IHRoaXMucGh5c2ljcy5hZGQuZ3JvdXAoKTtcclxuICAgICAgICBcclxuICAgICAgICAvL2ZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDAwLCAzMDAsICdGb25kbycpOyAgICAgICBcclxuICAgICAgICB0aGlzLmNyZWF0ZUJvdW5kcygpO1xyXG5cclxuXHJcbiAgICAgICAgLy8gT2JzdMOhY3Vsb3NcclxuICAgICAgICB0aGlzLm9ic3RhY2xlcyA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljR3JvdXAoXHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIHRoaXMudG9wLCB0aGlzLmJvdHRvbSwgdGhpcy5sZWZ0LCB0aGlzLnJpZ2h0LFxyXG4gICAgICAgIHRoaXMuYmxvY2sxLCB0aGlzLmJsb2NrMixcclxuICAgICAgICB0aGlzLmNlbnRybzEsIHRoaXMuY2VudHJvMiwgdGhpcy5jZW50cm8zLFxyXG4gICAgICAgIHRoaXMucGFsbzEsIHRoaXMucGFsbzJcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aGlzLmN1cnNvcnMgPSB0aGlzLmlucHV0LmtleWJvYXJkLmNyZWF0ZUN1cnNvcktleXMoKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRVcFBsYXllcnMoKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZUNvbGxpc2lvbnMoKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXR1cFdlYlNvY2tldExpc3RlbmVycygpOy8vd3NcclxuXHJcblxyXG4gICAgICAgIHRoaXMudmlkYXNKdWdhZG9yZXMoKTtcclxuICAgICAgICAvL3RoaXMucG93ZXJVcEdlbmVyYXRvciA9IG5ldyBQb3dlclVwR2VuZXJhdG9yKHRoaXMsIDEwMDAwKTsgLy8gR2VuZXJhIHVuIHBvd2VyLXVwIGNhZGEgMTAgc2VndW5kb3NcclxuXHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uTGlzdGVuZXIgPSAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBpZighZGF0YS5jb25uZWN0ZWQgJiYgdGhpcy5zY2VuZS5pc0FjdGl2ZSgpKXtcclxuICAgICAgICAgICAgICAgIHRoaXMub25Db25uZWN0aW9uTG9zdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5hZGRMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ3NodXRkb3duJywgdGhpcy5vblNodXRkb3duLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmV2ZW50cy5vbignZGVzdHJveScsIHRoaXMub25TaHV0ZG93biwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5wb3dlVXBHZW5lcmF0b3IgPSBuZXcgUG93ZXJVcEdlbmVyYXRvcih0aGlzLCAxMDAwMCwgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIG9uQ29ubmVjdGlvbkxvc3QoKXsvL2FwaVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vdGhpcy5zY2VuZS5sYXVuY2goJ0Nvbm5lY3Rpb25Mb3N0U2NlbmUnLCB7IHByZXZpb3VzU2NlbmU6ICdPbmxpbmVHYW1lU2NlbmUnIH0pO1xyXG4gICAgICAgIC8vdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgIC8vdGhpcy5zY2VuZS5icmluZ1RvVG9wKCdDb25uZWN0aW9uTG9zdFNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgICBzZXR1cFdlYlNvY2tldExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIHNlcnZlciBtZXNzYWdlOicsIGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMud3Mub25jbG9zZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1dlYlNvY2tldCBjb25uZWN0aW9uIGNsb3NlZCcpO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZ2FtZUVuZGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMud3Mub25lcnJvciA9IChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdXZWJTb2NrZXQgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZ2FtZUVuZGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlU2VydmVyTWVzc2FnZShkYXRhKSB7XHJcbiAgICAgICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAndGFua1VwZGF0ZSc6XHJcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgb3Bwb25lbnQncyB0YW5rIHBvc2l0aW9uXHJcbiAgICAgICAgICAgICAgICBsZXQgbW92ZUNvbW1hbmQyID0gbmV3IE1vdmVUYW5rQ29tbWFuZCh0aGlzLnJlbW90ZVRhbmssIGRhdGEuYWN0aW9uKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc29yLnByb2Nlc3MobW92ZUNvbW1hbmQyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWN0dWFsaXphclZpZGFzKHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnID8gJ3BsYXllcjInIDogJ3BsYXllcjEnLCBkYXRhLmxpdmVzKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnc3Bhd25Qb3dlclVwJzpcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBvd2VyVXAgPSBkYXRhLmRhdGE7XHJcbiAgICAgICAgICAgICAgICBuZXcgUG93ZXJVcCh0aGlzLCBwb3dlclVwLngsIHBvd2VyVXAueSwgcG93ZXJVcC50aXBvLCB0aGlzLnBvd2VVcEdlbmVyYXRvcik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnY29sbGVjdFBvd2VyVXAnOlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1Bvd2VyLXVwIGNvbGxlY3RlZCcpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICd0YW5rQ29sb3InOlxyXG4gICAgICAgICAgICAgICAgaWYoZGF0YS5yb2xlICE9PSB0aGlzLnBsYXllclJvbGUpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3RlVGFuay5kZXN0cm95KCk7Ly9kZXN0cnV5ZSBlbCB0YW5xdWUgcmVtb3RvIGFjdHVhbFxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuY29sb3IgIT09IHRoaXMucmVtb3RlVGFuay5jb2xvcil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3RlVGFuayA9IG5ldyBUYW5rKHRoaXMsIGRhdGEucm9sZSwgZGF0YS5yb2xlPT09J3BsYXllcjEnID8gOTA6IDcxMCwgMzAwLCBkYXRhLmNvbG9yKTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9taXNtbyBjb2xvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2xvcnMgPSBbJ1JlZCcsICdCbHVlJywgJ0dyZWVuJywgJ1llbGxvdyddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGlzcG9uaWJsZXMgPSBjb2xvcnMuZmlsdGVyKGUgPT4gZSAhPT0gZGF0YS5jb2xvcik7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZWxlZ2lkbyA9IFBoYXNlci5VdGlscy5BcnJheS5HZXRSYW5kb20oZGlzcG9uaWJsZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZVRhbmsgPSBuZXcgVGFuayh0aGlzLCBkYXRhLnJvbGUsIGRhdGEucm9sZT09PSdwbGF5ZXIxJyA/IDkwOiA3MTAsIDMwMCwgZWxlZ2lkbyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVycy5zZXQoZGF0YS5yb2xlLCB0aGlzLnJlbW90ZVRhbmspO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3RlVGFuay5TZXRUYXJnZXQodGhpcy5sb2NhbFRhbmspO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlQ29sbGlzaW9ucygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdnYW1lT3Zlcic6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuZEdhbWUoZGF0YS53aW5uZXIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdwbGF5ZXJEaXNjb25uZWN0ZWQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVW5rbm93biBtZXNzYWdlIHR5cGU6JywgZGF0YS50eXBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlRGlzY29ubmVjdGlvbigpIHtcclxuICAgICAgICB0aGlzLmdhbWVFbmRlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5sb2NhbFRhbmsuc3ByaXRlLnNldFZlbG9jaXR5KDAsIDApO1xyXG4gICAgICAgIHRoaXMucmVtb3RlVGFuay5zcHJpdGUuc2V0VmVsb2NpdHkoMCwgMCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLnBhdXNlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQwMCwgMTMwLCBcIkNvbmV4aW9uUGVyZGlkYVwiKS5zZXRTY2FsZSgwLjQpLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZU1lbnVCdXR0b24oKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVNZW51QnV0dG9uKCkge1xyXG4gICAgICAgIGNvbnN0IG1lbnVCdG4gPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDQwMCwgXCJCVE5NZW51XCIpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDAuNClcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoe3VzZUhhbmRDdXJzb3I6IHRydWV9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBtZW51QnRuLnNldFNjYWxlKDAuNDMpKVxyXG4gICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IG1lbnVCdG4uc2V0U2NhbGUoMC40KSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdzZngnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgICAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHZpZGFzSnVnYWRvcmVzKCkge1xyXG4gICAgICAgIHRoaXMudmlkYVBsYXllcjEgPSBbXTtcclxuICAgICAgICB0aGlzLnZpZGFQbGF5ZXIyID0gW107XHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMTAsIDIwLCBgQmFzZSR7dGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLmNvbG9yfWApLnNldE9yaWdpbigwLCAwKTtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3NDAsIDIwLCBgQmFzZSR7dGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLmNvbG9yfWApLnNldE9yaWdpbigwLCAwKTtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSgzNSwgNDAsIGBUb3JyZXRhJHt0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuY29sb3J9YCkuc2V0T3JpZ2luKDAuMTUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzY1LCA0MCwgYFRvcnJldGEke3RoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5jb2xvcn1gKS5zZXRPcmlnaW4oMC4xNSwgMC41KS5zZXRSb3RhdGlvbihNYXRoLlBJKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCB2aWRhMSA9IHRoaXMuYWRkLmltYWdlKDkwICsgaSAqIDMwLCAzNSwgJ1ZpZGEnKS5zZXRTY2FsZSgwLjA1KTtcclxuICAgICAgICAgICAgdGhpcy52aWRhUGxheWVyMS5wdXNoKHZpZGExKTtcclxuICAgICAgICAgICAgY29uc3QgdmlkYTIgPSB0aGlzLmFkZC5pbWFnZSg3MTAgLSBpICogMzAsIDM1LCAnVmlkYScpLnNldFNjYWxlKDAuMDUpO1xyXG4gICAgICAgICAgICB0aGlzLnZpZGFQbGF5ZXIyLnB1c2godmlkYTIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuIFxyXG4gICAgYWN0dWFsaXphclZpZGFzKHBsYXllcklkLCB2aWRhc1Jlc3RhbnRlcykge1xyXG4gICAgICAgIGNvbnN0IHZpZGFBcnJheSA9IHBsYXllcklkID09PSAncGxheWVyMScgPyB0aGlzLnZpZGFQbGF5ZXIxIDogdGhpcy52aWRhUGxheWVyMjtcclxuICAgICAgICBpZiAodmlkYUFycmF5Lmxlbmd0aCA+IHZpZGFzUmVzdGFudGVzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZpZGFTcHJpdGUgPSB2aWRhQXJyYXkucG9wKCk7XHJcbiAgICAgICAgICAgIHZpZGFTcHJpdGUuZGVzdHJveSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodmlkYUFycmF5Lmxlbmd0aCA8IHZpZGFzUmVzdGFudGVzKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXJJZCA9PT0gJ3BsYXllcjEnKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBudWV2YVZpZGEgPSB0aGlzLmFkZC5pbWFnZSg5MCArIHZpZGFBcnJheS5sZW5ndGggKiAzMCwgMzUsICdWaWRhJykuc2V0U2NhbGUoMC4wNSk7XHJcbiAgICAgICAgICAgICAgICB2aWRhQXJyYXkucHVzaChudWV2YVZpZGEpO1xyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICBpZiAocGxheWVySWQgPT09ICdwbGF5ZXIyJykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbnVldmFWaWRhID0gdGhpcy5hZGQuaW1hZ2UoNzEwIC0gdmlkYUFycmF5Lmxlbmd0aCAqIDMwLCAzNSwgJ1ZpZGEnKS5zZXRTY2FsZSgwLjA1KTtcclxuICAgICAgICAgICAgICAgIHZpZGFBcnJheS5wdXNoKG51ZXZhVmlkYSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHZpZGFzUmVzdGFudGVzIDw9IDApIHtcclxuICAgICAgICAgICAgLy9lbnZpYXIgcXVlIGhhIG11ZXJ0b1xyXG4gICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdnYW1lT3ZlcicsXHJcbiAgICAgICAgICAgICAgICB3aW5uZXI6IHBsYXllcklkXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmVuZEdhbWUocGxheWVySWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXRVcFBsYXllcnMoKSB7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBsYXllclJvbGUgPT09ICdwbGF5ZXIxJykge1xyXG4gICAgICAgICAgICB0aGlzLmxvY2FsVGFuayA9IG5ldyBUYW5rKHRoaXMsICdwbGF5ZXIxJywgOTAsIDMwMCwgdGhpcy5jb2xvclBsYXllcjEpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbW90ZVRhbmsgPSBuZXcgVGFuayh0aGlzLCAncGxheWVyMicsIDcxMCwgMzAwLCB0aGlzLmNvbG9yUGxheWVyMik7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjEnLCB0aGlzLmxvY2FsVGFuayk7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjInLCB0aGlzLnJlbW90ZVRhbmspO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxUYW5rID0gbmV3IFRhbmsodGhpcywgJ3BsYXllcjInLCA3MTAsIDMwMCwgdGhpcy5jb2xvclBsYXllcjIpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbW90ZVRhbmsgPSBuZXcgVGFuayh0aGlzLCAncGxheWVyMScsIDkwLCAzMDAsIHRoaXMuY29sb3JQbGF5ZXIxKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMicsIHRoaXMubG9jYWxUYW5rKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMScsIHRoaXMucmVtb3RlVGFuayk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxvY2FsVGFuay5TZXRUYXJnZXQodGhpcy5yZW1vdGVUYW5rKTtcclxuICAgICAgICB0aGlzLnJlbW90ZVRhbmsuU2V0VGFyZ2V0KHRoaXMubG9jYWxUYW5rKTtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGVuZEdhbWUod2lubmVySWQpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaCh0YW5rID0+IHtcclxuICAgICAgICAgICAgdGFuay5zcHJpdGUuc2V0VmVsb2NpdHlZKDApO1xyXG4gICAgICAgICAgICB0YW5rLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgICAgICAgICAgIHRhbmsudHVycmV0LnNwcml0ZS5zZXRWZWxvY2l0eVkoMCk7XHJcbiAgICAgICAgICAgIHRhbmsudHVycmV0LnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgICAgICAgICAgIHRhbmsudHVycmV0LnNob290KHRydWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5wYXVzZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmlzR2FtZU92ZXIgPSB0cnVlOyBcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnR2FtZU92ZXJTY2VuZScse1xyXG4gICAgICAgICAgICAgICAgZ2FuYWRvcjogd2lubmVySWQ9PT0ncGxheWVyMScgPyAncGxheWVyMicgOiAncGxheWVyMScsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogdGhpcy5wbGF5ZXJzLmdldCh3aW5uZXJJZD09PSdwbGF5ZXIxJyA/ICdwbGF5ZXIyJyA6ICdwbGF5ZXIxJykuY29sb3JcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICBjcmVhdGVCb3VuZHMoKSB7XHJcblxyXG4gICAgICAgIC8vTXVyb3MgYXJyaWJhIHkgYWJham9cclxuICAgICAgICB0aGlzLnRvcCA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDQwMCwgODMsICdCb3R0b21Ub3BXYWxsJyk7XHJcbiAgICAgICAgdGhpcy50b3Auc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMudG9wLmJvZHkuc2V0U2l6ZSg3NjUsNDUpO1xyXG5cclxuICAgICAgICB0aGlzLmJvdHRvbSA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDQwMCwgNTc3LCAnQm90dG9tVG9wV2FsbCcpO1xyXG4gICAgICAgIHRoaXMuYm90dG9tLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLmJvdHRvbS5ib2R5LnNldFNpemUoNzY1LDQ1KTtcclxuXHJcbiAgICAgICAgLy9NdXJvcyBpenF1aWVyZGEgeSBkZXJlY2hhXHJcbiAgICAgICAgdGhpcy5sZWZ0ID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoNDAsIDMzMCwgJ0xlZnRSaWdodFdhbGwnKTtcclxuICAgICAgICB0aGlzLmxlZnQuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMubGVmdC5ib2R5LnNldFNpemUoNDUsNDUwKTtcclxuICAgICAgICBcclxuXHJcbiAgICAgICAgdGhpcy5yaWdodCA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDc2MCwgMzMwLCAnTGVmdFJpZ2h0V2FsbCcpO1xyXG4gICAgICAgIHRoaXMucmlnaHQuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucmlnaHQuYm9keS5zZXRTaXplKDQ1LDQ1MCk7XHJcblxyXG4gICAgICAgIC8vYmxvcXVlcyBkZSA2XHJcbiAgICAgICAgdGhpcy5ibG9jazE9dGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoNDAwLDE5OCxcIk11cm9CbG9xdWU2XCIpO1xyXG4gICAgICAgIHRoaXMuYmxvY2sxLnNldEltbW92YWJsZSh0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5ibG9jazI9dGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoNDAwLDQ2MixcIk11cm9CbG9xdWU2XCIpO1xyXG4gICAgICAgIHRoaXMuYmxvY2syLnNldEltbW92YWJsZSh0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5jZW50cm8xPXRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDQwMCw0NjItMTEwLFwiQmxvcXVlXCIpO1xyXG4gICAgICAgIHRoaXMuY2VudHJvMS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5jZW50cm8yPXRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDQwMC00NSw0NjItMTU1LFwiQmxvcXVlXCIpO1xyXG4gICAgICAgIHRoaXMuY2VudHJvMi5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5jZW50cm8zPXRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDQwMCs0NSw0NjItMTU1LFwiQmxvcXVlXCIpO1xyXG4gICAgICAgIHRoaXMuY2VudHJvMy5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMucGFsbzE9dGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoNjQ4LDQzOSxcIlBhbG9cIik7XHJcbiAgICAgICAgdGhpcy5wYWxvMS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wYWxvMj10aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSgxNTIsMjE4LFwiUGFsb1wiKTtcclxuICAgICAgICB0aGlzLnBhbG8yLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVDb2xsaXNpb25zKCl7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2godGFuayA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5sZWZ0LCB0YW5rLnNwcml0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5yaWdodCwgdGFuay5zcHJpdGUpO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMudG9wLCB0YW5rLnNwcml0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5ib3R0b20sIHRhbmsuc3ByaXRlKTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLmJsb2NrMSwgdGFuay5zcHJpdGUpO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuYmxvY2syLCB0YW5rLnNwcml0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5jZW50cm8xLCB0YW5rLnNwcml0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5jZW50cm8yLCB0YW5rLnNwcml0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5jZW50cm8zLCB0YW5rLnNwcml0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5wYWxvMSwgdGFuay5zcHJpdGUpO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMucGFsbzIsIHRhbmsuc3ByaXRlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZW5kTWVzc2FnZShtZXNzYWdlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkobWVzc2FnZSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNHYW1lT3ZlcikgcmV0dXJuO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKHRoaXMudXNlUG93ZXJVcHMpe1xyXG4gICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgICB0eXBlOiAnY29sbGVjdFBvd2VyVXAnXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy51c2VQb3dlclVwcyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8vIEhhbmRsZSBsb2NhbCB0YW5rIGlucHV0IC0gYm90aCBwbGF5ZXJzIHVzZSBhcnJvdyBrZXlzXHJcbiAgICAgICAgbGV0IGRpcmVjdGlvbiA9IG51bGw7XHJcbiAgICAgICAgaWYgKHRoaXMuY3Vyc29ycy51cC5pc0Rvd24pIHtcclxuICAgICAgICAgICAgZGlyZWN0aW9uID0gJ3VwJztcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY3Vyc29ycy5kb3duLmlzRG93bikge1xyXG4gICAgICAgICAgICBkaXJlY3Rpb24gPSAnZG93bic7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnNvcnMubGVmdC5pc0Rvd24pIHtcclxuICAgICAgICAgICAgZGlyZWN0aW9uID0gJ2xlZnQnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJzb3JzLnJpZ2h0LmlzRG93bikge1xyXG4gICAgICAgICAgICBkaXJlY3Rpb24gPSAncmlnaHQnO1xyXG4gICAgICAgIH0gIGVsc2Uge1xyXG4gICAgICAgICAgICBkaXJlY3Rpb24gPSAnc3RvcCc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgbW92ZUNvbW1hbmQgPSBuZXcgTW92ZVRhbmtDb21tYW5kKHRoaXMubG9jYWxUYW5rLCBkaXJlY3Rpb24pO1xyXG4gICAgICAgIHRoaXMucHJvY2Vzc29yLnByb2Nlc3MobW92ZUNvbW1hbmQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFNlbmQgdGFuayBwb3NpdGlvbiB0byBzZXJ2ZXJcclxuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgdHlwZTogJ3RhbmtNb3ZlJyxcclxuICAgICAgICAgICAgYWN0aW9uOiBkaXJlY3Rpb24sXHJcbiAgICAgICAgICAgIGxpdmVzOiB0aGlzLmxvY2FsVGFuay52aWRhc1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBvblNodXRkb3duKCkge1xyXG5cclxuICAgICAgICAvLyBRdWl0YXIgbGlzdGVuZXIgZGVsIHNlcnZpZG9yXHJcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uTGlzdGVuZXIgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59IiwiLyoqXHJcbiAqIExvYmJ5IFNjZW5lIC0gV2FpdGluZyBmb3IgbXVsdGlwbGF5ZXIgbWF0Y2htYWtpbmdcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvYmJ5U2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoeyBrZXk6ICdMb2JieVNjZW5lJyB9KTtcclxuICAgIHRoaXMud3MgPSBudWxsO1xyXG4gIH1cclxuICAgIGluaXQoZGF0YSl7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJOYW1lID0gZGF0YS5wbGF5ZXJOYW1lO1xyXG4gICAgICAgIHRoaXMuYXZhdGFyID0gZGF0YS5hdmF0YXI7XHJcbiAgICB9XHJcblxyXG4gIGNyZWF0ZSgpIHtcclxuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5jYW1lcmFzLm1haW4ud2lkdGg7XHJcbiAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmNhbWVyYXMubWFpbi5oZWlnaHQ7XHJcbiAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDMxMCwgJ0ZvbmRvJyk7XHJcbiAgICAvLyBUaXRsZVxyXG4gICAgY29uc3Qgb25saW5lQnRuID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCA5MCwgXCJCVE5PbmxpbmVcIilcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjMzKTtcclxuXHJcbiAgICAvLyBTdGF0dXMgdGV4dFxyXG4gICAgdGhpcy5zdGF0dXNUZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAvIDIgLSA1MCwgJ0Nvbm5lY3RpbmcgdG8gc2VydmVyLi4uJywge1xyXG4gICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICBjb2xvcjogJyM5MzkzNDJmZidcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIC8vIFBsYXllciBjb3VudCB0ZXh0XHJcbiAgICB0aGlzLnBsYXllckNvdW50VGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCBoZWlnaHQgLyAyICsgMjAsICcnLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgIGNvbG9yOiAnIzRiOTU0YmZmJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgY29uc3QgYmFzZSA9IHRoaXMuYWRkLmltYWdlKDQwMCwgMzUwLCBgQmFzZSR7dGhpcy5hdmF0YXJ9YCkuc2V0U2NhbGUoMS4zKS5zZXREZXB0aCgxMCk7XHJcbiAgICBjb25zdCB0dXJyZXQgPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDM1MCwgYFRvcnJldGEke3RoaXMuYXZhdGFyfWApLnNldFNjYWxlKDEuMykuc2V0T3JpZ2luKDAuMiwwLjUpLnNldERlcHRoKDE1KTtcclxuICAgIGNvbnN0IG5hbWVUYW5rID0gdGhpcy5hZGQudGV4dCg0MDAsIDQwMCwgdGhpcy5wbGF5ZXJOYW1lLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgIGNvbG9yOiAnIzJiMmIyN2ZmJyxcclxuICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2JiYjdiN2ZmJyxcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuXHJcbiAgICAvLyBDYW5jZWwgYnV0dG9uXHJcbiAgICBjb25zdCBjYW5jZWxCdXR0b24gPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgaGVpZ2h0IC0gMTAwLCAnQ2FuY2VsJywge1xyXG4gICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICBjb2xvcjogJyM5YjQ1NDVmZicsXHJcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJyMzMzMzMzMnLFxyXG4gICAgICBwYWRkaW5nOiB7IHg6IDIwLCB5OiAxMCB9XHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXRJbnRlcmFjdGl2ZSgpO1xyXG5cclxuICAgIGNhbmNlbEJ1dHRvbi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgIGNhbmNlbEJ1dHRvbi5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY2FuY2VsQnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICBjYW5jZWxCdXR0b24uc2V0Q29sb3IoJyNmZjY2NjYnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNhbmNlbEJ1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMubGVhdmVRdWV1ZSgpO1xyXG4gICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdPbmxpbmVTY2VuZScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQ29ubmVjdCB0byBXZWJTb2NrZXQgc2VydmVyXHJcbiAgICB0aGlzLmNvbm5lY3RUb1NlcnZlcigpO1xyXG4gIH1cclxuXHJcbiAgY29ubmVjdFRvU2VydmVyKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gQ29ubmVjdCB0byBXZWJTb2NrZXQgc2VydmVyIChzYW1lIGhvc3QgYXMgd2ViIHNlcnZlcilcclxuICAgICAgY29uc3Qgd3NVcmwgPSBgd3M6Ly8ke3dpbmRvdy5sb2NhdGlvbi5ob3N0fWA7XHJcblxyXG4gICAgICB0aGlzLndzID0gbmV3IFdlYlNvY2tldCh3c1VybCk7XHJcblxyXG4gICAgICB0aGlzLndzLm9ub3BlbiA9ICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnQ29ubmVjdGVkIHRvIFdlYlNvY2tldCBzZXJ2ZXInKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnV2FpdGluZyBmb3Igb3Bwb25lbnQuLi4nKTtcclxuXHJcbiAgICAgICAgLy8gSm9pbiBtYXRjaG1ha2luZyBxdWV1ZVxyXG4gICAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdqb2luUXVldWUnICwgY29sb3I6IHRoaXMuYXZhdGFyLCBuYW1lOiB0aGlzLnBsYXllck5hbWUgIH0pICk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcclxuICAgICAgICAgIHRoaXMuaGFuZGxlU2VydmVyTWVzc2FnZShkYXRhKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBzZXJ2ZXIgbWVzc2FnZTonLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy53cy5vbmVycm9yID0gKGVycm9yKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignV2ViU29ja2V0IGVycm9yOicsIGVycm9yKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnQ29ubmVjdGlvbiBlcnJvciEnKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMud3Mub25jbG9zZSA9ICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnV2ViU29ja2V0IGNvbm5lY3Rpb24gY2xvc2VkJyk7XHJcbiAgICAgICAgaWYgKHRoaXMuc2NlbmUuaXNBY3RpdmUoJ0xvYmJ5U2NlbmUnKSkge1xyXG4gICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0Nvbm5lY3Rpb24gbG9zdCEnKTtcclxuICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignIzhhNDg0OGZmJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY29ubmVjdGluZyB0byBzZXJ2ZXI6JywgZXJyb3IpO1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnRmFpbGVkIHRvIGNvbm5lY3QhJyk7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2E5NDg0OGZmJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVTZXJ2ZXJNZXNzYWdlKGRhdGEpIHtcclxuICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XHJcbiAgICAgIGNhc2UgJ3F1ZXVlU3RhdHVzJzpcclxuICAgICAgICB0aGlzLnBsYXllckNvdW50VGV4dC5zZXRUZXh0KGBQbGF5ZXJzIGluIHF1ZXVlOiAke2RhdGEucG9zaXRpb259LzJgKTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ2dhbWVTdGFydCc6XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0dhbWUgc3RhcnRpbmchJywgZGF0YSk7XHJcbiAgICAgICAgLy8gU3RvcmUgZ2FtZSBkYXRhIGFuZCB0cmFuc2l0aW9uIHRvIG11bHRpcGxheWVyIGdhbWUgc2NlbmVcclxuICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdPbmxpbmVHYW1lU2NlbmUnLCB7XHJcbiAgICAgICAgICB3czogdGhpcy53cyxcclxuICAgICAgICAgIHBsYXllclJvbGU6IGRhdGEucm9sZSxcclxuICAgICAgICAgIHJvb21JZDogZGF0YS5yb29tSWQsXHJcbiAgICAgICAgICBhdmF0YXIxOiBkYXRhLmNvbG9ycDEsIFxyXG4gICAgICAgICAgYXZhdGFyMjogZGF0YS5jb2xvcnAyLFxyXG4gICAgICAgICAgbmFtZTE6IGRhdGEubmFtZXAxLFxyXG4gICAgICAgICAgbmFtZTI6IGRhdGEubmFtZXAyXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdVbmtub3duIG1lc3NhZ2UgdHlwZTonLCBkYXRhLnR5cGUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbGVhdmVRdWV1ZSgpIHtcclxuICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogJ2xlYXZlUXVldWUnIH0pKTtcclxuICAgICAgdGhpcy53cy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2h1dGRvd24oKSB7XHJcbiAgICB0aGlzLmxlYXZlUXVldWUoKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBNZW51U2NlbmUgfSBmcm9tICcuL3NjZW5lcy9NZW51U2NlbmUuanMnO1xyXG5pbXBvcnQgeyBTZWxlY3RDb2xvciB9IGZyb20gJy4vc2NlbmVzL1NlbGVjdENvbG9yLmpzJztcclxuaW1wb3J0IHsgR2FtZVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvR2FtZVNjZW5lLmpzJztcclxuaW1wb3J0IHsgUGF1c2VTY2VuZSB9IGZyb20gJy4vc2NlbmVzL1BhdXNlU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBDcmVkaXRTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0NyZWRpdFNjZW5lLmpzJztcclxuaW1wb3J0IHsgT25saW5lU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9PbmxpbmVTY2VuZS5qcyc7XHJcbmltcG9ydCB7IFR1dG9yaWFsU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9UdXRvcmlhbFNjZW5lLmpzJztcclxuaW1wb3J0IHsgR2FtZU92ZXJTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0dhbWVPdmVyU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBPcHRpb25zU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9PcHRpb25zU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBDb25uZWN0aW9uTG9zdFNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvQ29uZWN0aW9uTG9zdC5qcyc7XHJcbmltcG9ydCB7IE9ubGluZUdhbWVTY2VuZSB9IGZyb20gJy4vc2NlbmVzL09ubGluZUdhbWVTY2VuZS5qcyc7XHJcbmltcG9ydCBMb2JieVNjZW5lIGZyb20gJy4vc2NlbmVzL0xvYmJ5U2NlbmUuanMnO1xyXG5cclxuY29uc3QgY29uZmlnID0ge1xyXG4gICAgdHlwZTogUGhhc2VyLkFVVE8sXHJcbiAgICB3aWR0aDogODAwLFxyXG4gICAgaGVpZ2h0OiA2MDAsXHJcbiAgICBwYXJlbnQ6ICdnYW1lLWNvbnRhaW5lcicsXHJcbiAgICBwaHlzaWNzOiB7XHJcbiAgICAgICAgZGVmYXVsdDogJ2FyY2FkZScsXHJcbiAgICAgICAgYXJjYWRlOiB7XHJcbiAgICAgICAgICAgIGdyYXZpdHk6IHsgeTogMCB9LFxyXG4gICAgICAgICAgICBkZWJ1ZzogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2NlbmU6IFtNZW51U2NlbmUsIFNlbGVjdENvbG9yLCBHYW1lU2NlbmUsIFBhdXNlU2NlbmUsIENyZWRpdFNjZW5lLCBPbmxpbmVTY2VuZSwgVHV0b3JpYWxTY2VuZSwgR2FtZU92ZXJTY2VuZSwgT3B0aW9uc1NjZW5lLCBMb2JieVNjZW5lLCBDb25uZWN0aW9uTG9zdFNjZW5lLCBPbmxpbmVHYW1lU2NlbmVdLFxyXG4gICAgYmFja2dyb3VuZENvbG9yOiAnIzFhMWEyZScsXHJcbn1cclxuXHJcbmNvbnN0IGdhbWUgPSBuZXcgUGhhc2VyLkdhbWUoY29uZmlnKTtcclxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGUiLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiUGhhc2VyIiwiTWVudVNjZW5lIiwiY29uc3RydWN0b3IiLCJzdXBlciIsInByZWxvYWQiLCJ0aGlzIiwibG9hZCIsImltYWdlIiwiYXVkaW8iLCJjcmVhdGUiLCJtdXNpY2EiLCJzb3VuZCIsImFkZCIsImxvb3AiLCJ2b2x1bWUiLCJwbGF5Iiwic2V0T3JpZ2luIiwic2V0U2NhbGUiLCJsb2NhbEJ0biIsInNldEludGVyYWN0aXZlIiwidXNlSGFuZEN1cnNvciIsIm9uIiwic2NlbmUiLCJzdGFydCIsIm9ubGluZUJ0biIsInR1dG9yaWFsQnRuIiwiY3JlZGl0QnRuIiwib3B0aW9uc0J0biIsIlNlbGVjdENvbG9yIiwiY29sb3JQbGF5ZXIxIiwiY29sb3JQbGF5ZXIyIiwicDFPcHRpb25zIiwicDJPcHRpb25zIiwiY3JlYXRlVGFua09wdGlvbiIsIngiLCJ5IiwiY29sb3JLZXkiLCJvbkNsaWNrIiwiYmFzZSIsInNldERlcHRoIiwidHVycmV0IiwiaGlnaGxpZ2h0Iiwic2V0VmlzaWJsZSIsImNvbnRhaW5lciIsInNldFNpemUiLCJ3aWR0aCIsImhlaWdodCIsInNldERhdGEiLCJnZXREYXRhIiwiY29sb3JzIiwiZm9yRWFjaCIsImNvbG9yIiwiaSIsIm9wdCIsIm9wdGlvbiIsIm1hcmtTZWxlY3RlZCIsInVwZGF0ZURpc2FibGVkU3RhdGVzIiwicHVzaCIsInBsYXlCdG4iLCJtZW51QnRuIiwib3B0aW9uQXJyYXkiLCJzZWxlY3RlZE9wdGlvbiIsInNob3VsZERpc2FibGUiLCJzZXRPcHRpb25EaXNhYmxlZCIsImRpc2FibGVkIiwiZGlzYWJsZUludGVyYWN0aXZlIiwic2V0QWxwaGEiLCJCdWxsZXQiLCJhbmdsZSIsIm15VHVycmV0IiwiZGlyIiwiYmFzZVNwZWVkIiwic3BlZWRNdWx0IiwiY2FuQ29sbGlkZSIsImJvdW5jZXMiLCJjYW5EYW1hZ2UiLCJzZXRUaW1lb3V0Iiwic3ByaXRlIiwicGh5c2ljcyIsImJvZHkiLCJhbGxvd0dyYXZpdHkiLCJzZXRDb2xsaWRlV29ybGRCb3VuZHMiLCJzZXRCb3VuY2UiLCJyb3RhdGlvbiIsInNldERpciIsImV2ZW50cyIsInVwZGF0ZSIsImNyZWF0ZUNvbGxpc2lvbnMiLCJzZXRWZWxvY2l0eSIsIk1hdGgiLCJjb3MiLCJzaW4iLCJ2eCIsInZlbG9jaXR5IiwidnkiLCJhdGFuMiIsImRlc3Ryb3kiLCJkZXN0cm95QnVsbGV0Iiwib2ZmIiwiY29sbGlkZXIiLCJsZWZ0IiwicmlnaHQiLCJ0b3AiLCJib3R0b20iLCJibG9jazEiLCJibG9jazIiLCJjZW50cm8xIiwiY2VudHJvMiIsImNlbnRybzMiLCJwYWxvMSIsInBhbG8yIiwicGxheWVycyIsInRhbmsiLCJyZWNlaXZlRGFtYWdlIiwiVHVycmV0IiwibXlUYW5rIiwiUEkiLCJ0YXJnZXQiLCJyb3RhdGVTcGVlZCIsIkRlZ1RvUmFkIiwiY2FuU2hvb3QiLCJwZXJmZWN0QW5nbGUiLCJsZWZ0QW5nbGUiLCJyaWdodEFuZ2xlIiwiU2V0UG9zaXRpb24iLCJwb3dlclVwQnVsbGV0IiwiZmlyZUV2ZW50Iiwicm90YXRlIiwiYWltIiwiZmlyZSIsIkdldFgiLCJHZXRZIiwic2hvb3QiLCJzdGFydEF1dG9GaXJlIiwic2V0VGFyZ2V0IiwidGFyIiwiZHgiLCJkeSIsInRpbWUiLCJhZGRFdmVudCIsImRlbGF5IiwiY2FsbGJhY2siLCJyZW1vdmUiLCJzZXRhbHBoYSIsImFsIiwiVGFuayIsImlkIiwiZGlyWCIsImRpclkiLCJzcGVlZE11bHRpcGxpZXIiLCJ2aWRhcyIsImludnVsbmVyYWJsZSIsIm5vU2hvb3RVbnRpbCIsIlNldFRhcmdldCIsImFtb3VudCIsImFjdHVhbGl6YXJWaWRhcyIsIm1ha2VJbnZ1bG5lcmFibGUiLCJibGlua0NvdW50IiwicmVwZWF0IiwiYWxwaGEiLCJhcHBseU5vU2hvb3QiLCJtcyIsIm5vdyIsIm1heCIsImRlbGF5ZWRDYWxsIiwiUG93ZXJVcCIsInR5cGUiLCJnZW5lcmF0b3IiLCJjcmVhdGVDb2xsaXN0aW9ucyIsInBvd2VyVXBzR3JvdXAiLCJhcGx5UG93ZXJVcCIsInVzZVBvd2VyVXBzIiwidGFua0NvbGxlY3RvciIsImVuZW15VGFuayIsInQiLCJ0YXJnZXRUYW5rIiwiU2V0IiwiaGFzIiwibWF4UG93ZXJVcHMiLCJQb3dlclVwR2VuZXJhdG9yIiwiaW50ZXJ2YWwiLCJvbmxpbmUiLCJ0eXBlcyIsInBvc2l0aW9uc1giLCJwb3NpdGlvbnNZIiwic3RhcnRHZW5lcmF0aW5nIiwiZ2VuZXJhdGVQb3dlclVwIiwiaXNTcGF3blZhbGlkIiwiem9uZSIsImV4aXN0aW5nIiwiaGl0V2FsbCIsIm92ZXJsYXAiLCJvYnN0YWNsZXMiLCJoaXRQb3dlclVwIiwiaW5kaWNlcyIsIkFycmF5IiwiU2h1ZmZsZSIsImxlbmd0aCIsImtleXMiLCJHZXRSYW5kb20iLCJDb21tYW5kUHJvY2Vzc29yIiwiTWFwIiwiZ2FtZVNjZW5lIiwic2V0UGxheWVycyIsInNldEdhbWVTY2VuZSIsInByb2Nlc3MiLCJjb21tYW5kIiwiZXhlY3V0ZSIsIkNvbW1hbmQiLCJzZXJpYWxpemUiLCJnZXRQbGF5ZXIiLCJNb3ZlVGFua0NvbW1hbmQiLCJkaXJlY3Rpb24iLCJzZXRWZWxvY2l0eVkiLCJzZXRWZWxvY2l0eVgiLCJQYXVzZUdhbWVDb21tYW5kIiwiaXNQYXVzZWQiLCJzZXRQYXVzZVN0YXRlIiwiY29ubmVjdGlvbk1hbmFnZXIiLCJjb25uZWN0ZWRDb3VudCIsImlzQ29ubmVjdGVkIiwibGFzdENoZWNrVGltZSIsImNoZWNrSW50ZXJ2YWwiLCJsaXN0ZW5lcnMiLCJzZXNzaW9uSWQiLCJnZW5lcmF0ZVNlc3Npb25JZCIsImludGVydmFsSWQiLCJzdGFydFBvbGxpbmciLCJEYXRlIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJjaGVja0Nvbm5lY3Rpb24iLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsImRhdGEiLCJqc29uIiwiY29ubmVjdGVkIiwibm90aWZ5TGlzdGVuZXJzIiwiY291bnQiLCJzdWNjZXNzIiwiaGFuZGxlRGlzY29ubmVjdGlvbiIsImVycm9yIiwiY29uc29sZSIsImFkZExpc3RlbmVyIiwicmVtb3ZlTGlzdGVuZXIiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJsaXN0ZW5lciIsImdldFN0YXR1cyIsInNldEludGVydmFsIiwic3RvcFBvbGxpbmciLCJjbGVhckludGVydmFsIiwiR2FtZVNjZW5lIiwiaW5pdCIsImlucHV0TWFwcGluZ3MiLCJiYWxsIiwicG93ZXJVcEdlbmVyYXRvciIsImVzY1dhc0Rvd24iLCJwcm9jZXNzb3IiLCJpc0dhbWVPdmVyIiwiZ3JvdXAiLCJjcmVhdGVCb3VuZHMiLCJzdGF0aWNHcm91cCIsInNldFVwUGxheWVycyIsInZpZGFzSnVnYWRvcmVzIiwiZXNjS2V5IiwiaW5wdXQiLCJrZXlib2FyZCIsImFkZEtleSIsIktleWJvYXJkIiwiS2V5Q29kZXMiLCJFU0MiLCJjb25uZWN0aW9uTGlzdGVuZXIiLCJpc0FjdGl2ZSIsIm9uQ29ubmVjdGlvbkxvc3QiLCJvblNodXRkb3duIiwicmVtb3ZlS2V5cyIsInJlbW92ZUNhcHR1cmUiLCJsYXVuY2giLCJwcmV2aW91c1NjZW5lIiwicGF1c2UiLCJicmluZ1RvVG9wIiwidmlkYVBsYXllcjEiLCJ2aWRhUGxheWVyMiIsInNldFJvdGF0aW9uIiwidmlkYTEiLCJ2aWRhMiIsInBsYXllcklkIiwidmlkYXNSZXN0YW50ZXMiLCJ2aWRhQXJyYXkiLCJwb3AiLCJudWV2YVZpZGEiLCJnYW5hZG9yIiwidGFuazEiLCJ0YW5rMiIsInNldCIsInVwS2V5IiwiZG93bktleSIsInJpZ2h0S2V5IiwibGVmdEtleSIsIm1hcCIsImNvbmZpZyIsInVwS2V5T2JqIiwiZG93bktleU9iaiIsInJpZ2h0S2V5T2JqIiwibGVmdEtleU9iaiIsInNjb3JlTGVmdEdvYWwiLCJwbGF5ZXIxIiwic2NvcmUiLCJlbmRHYW1lIiwicmVzZXRCYWxsIiwic2NvcmVSaWdodEdvYWwiLCJwbGF5ZXIyIiwid2lubmVySWQiLCJ3aW5uZXJUZXh0IiwidGV4dCIsImZvbnRTaXplIiwic2V0Q29sb3IiLCJzZXRQb3NpdGlvbiIsImxhdW5jaEJhbGwiLCJCZXR3ZWVuIiwiY3JlYXRlQmFsbCIsImdyYXBoaWNzIiwiZmlsbFN0eWxlIiwiZmlsbENpcmNsZSIsImdlbmVyYXRlVGV4dHVyZSIsInNldEltbW92YWJsZSIsIm9yaWdpbmFsU2NlbmUiLCJyZXN1bWUiLCJ0b2dnbGVQYXVzZSIsIm5ld1BhdXNlU3RhdGUiLCJpc0Rvd24iLCJtYXBwaW5nIiwibW92ZUNvbW1hbmQiLCJQYXVzZVNjZW5lIiwicmVzdW1lQnRuIiwic3RvcCIsImhhbmRsZVgiLCJDbGFtcCIsInJlY3RhbmdsZSIsInNsaWRlckhhbmRsZSIsImNpcmNsZSIsImRyYWdnYWJsZSIsInNldERyYWdnYWJsZSIsInBvaW50ZXIiLCJnYW1lT2JqZWN0IiwiZHJhZ1giLCJtdXRlIiwiYmFja2dyb3VuZENvbG9yIiwicGFkZGluZyIsIkNyZWRpdFNjZW5lIiwiZm9udFN0eWxlIiwiT25saW5lU2NlbmUiLCJtYXR0ZXIiLCJoYW5kbGVMb2dpbiIsInJlY3QiLCJnYW1lIiwiY2FudmFzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiaW5wdXROYW1lIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwicGxhY2Vob2xkZXIiLCJzdHlsZSIsInBvc2l0aW9uIiwiYXBwZW5kQ2hpbGQiLCJjb25uZWN0aW9uVGV4dDIiLCJ1cGRhdGVDb25uZWN0aW9uRGlzcGxheSIsIm5vbWJyZSIsInZhbHVlIiwidHJpbSIsImxvZyIsInVzZXIiLCJnZXRQbGF5ZXJCeU5hbWUiLCJpc0FycmF5IiwidXBkYXRlUGxheWVyIiwiYXZhdGFyIiwiY3JlYXRlUGxheWVyIiwibmFtZSIsIndpbnMiLCJwbGF5ZXJOYW1lIiwic2V0VGV4dCIsIkVycm9yIiwic3RhdHVzIiwiZmluZCIsInUiLCJ1cGRhdGVzIiwicmVtb3ZlQ2hpbGQiLCJUdXRvcmlhbFNjZW5lIiwiR2FtZU92ZXJTY2VuZSIsImdhbmFkb3JLZXkiLCJpbmNsdWRlcyIsInRvcnJlIiwiT3B0aW9uc1NjZW5lIiwic2xpZGVyQmFyIiwic2V0RGlzcGxheVNpemUiLCJjdXJyZW50Vm9sdW1lIiwiQ29ubmVjdGlvbkxvc3RTY2VuZSIsInJlY29ubmVjdENoZWNrSW50ZXJ2YWwiLCJzdGF0dXNUZXh0IiwiYXR0ZW1wdENvdW50IiwiYXR0ZW1wdFRleHQiLCJkb3RDb3VudCIsImRvdHMiLCJvblJlY29ubmVjdGVkIiwiYXR0ZW1wdFJlY29ubmVjdCIsInNodXRkb3duIiwiT25saW5lR2FtZVNjZW5lIiwid3MiLCJwbGF5ZXJSb2xlIiwicm9vbUlkIiwibG9jYWxUYW5rIiwicmVtb3RlVGFuayIsImF2YXRhcjEiLCJhdmF0YXIyIiwibmFtZTEiLCJuYW1lMiIsImRpc3BvbmlibGVzIiwiZmlsdGVyIiwiZSIsImVsZWdpZG8iLCJjdXJzb3JzIiwiY3JlYXRlQ3Vyc29yS2V5cyIsInNldHVwV2ViU29ja2V0TGlzdGVuZXJzIiwicG93ZVVwR2VuZXJhdG9yIiwib25tZXNzYWdlIiwiZXZlbnQiLCJwYXJzZSIsImhhbmRsZVNlcnZlck1lc3NhZ2UiLCJvbmNsb3NlIiwiZ2FtZUVuZGVkIiwib25lcnJvciIsIm1vdmVDb21tYW5kMiIsImFjdGlvbiIsImxpdmVzIiwicG93ZXJVcCIsInRpcG8iLCJyb2xlIiwid2lubmVyIiwiY3JlYXRlTWVudUJ1dHRvbiIsInJlYWR5U3RhdGUiLCJXZWJTb2NrZXQiLCJPUEVOIiwiY2xvc2UiLCJzZW5kTWVzc2FnZSIsIm1lc3NhZ2UiLCJzZW5kIiwidXAiLCJkb3duIiwiTG9iYnlTY2VuZSIsIlNjZW5lIiwiY2FtZXJhcyIsIm1haW4iLCJwbGF5ZXJDb3VudFRleHQiLCJjYW5jZWxCdXR0b24iLCJsZWF2ZVF1ZXVlIiwiY29ubmVjdFRvU2VydmVyIiwid3NVcmwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhvc3QiLCJvbm9wZW4iLCJjb2xvcnAxIiwiY29sb3JwMiIsIm5hbWVwMSIsIm5hbWVwMiIsInBhcmVudCIsImRlZmF1bHQiLCJhcmNhZGUiLCJncmF2aXR5IiwiZGVidWciXSwic291cmNlUm9vdCI6IiJ9